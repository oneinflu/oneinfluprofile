(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,46435,e=>{"use strict";var a=e.i(43476),s=e.i(72395);e.s(["ProgressBarBase",0,({value:e,min:t=0,max:i=100,className:l,progressClassName:r})=>{let n=(e-t)*100/(i-t);return(0,a.jsx)("div",{role:"progressbar","aria-valuenow":e,"aria-valuemin":t,"aria-valuemax":i,className:(0,s.cx)("h-2 w-full overflow-hidden rounded-md bg-quaternary",l),children:(0,a.jsx)("div",{style:{transform:`translateX(-${100-n}%)`},className:(0,s.cx)("size-full rounded-md bg-fg-brand-primary transition duration-75 ease-linear",r)})})}])},66606,e=>{"use strict";var a=e.i(43476),s=e.i(46435),t=e.i(47209),i=e.i(10031),l=e.i(40713),r=e.i(71645),n=e.i(6964),c=e.i(66181),o=e.i(18566);function d(){let[e,d]=(0,r.useState)(null),[m,u]=(0,r.useState)(null),x=(0,r.useRef)(null),[h,p]=(0,r.useState)(""),[f,g]=(0,r.useState)(""),[v,j]=(0,r.useState)([]),[y,b]=(0,r.useState)(""),{user:N,updateUserById:w,uploadAvatarById:B}=(0,c.useAuth)(),S=(0,o.useRouter)(),[C,z]=(0,r.useState)(!1);return(0,a.jsxs)("section",{className:"flex min-h-screen flex-col",children:[(0,a.jsx)("div",{className:"sticky top-0 z-20 px-4 md:px-8 pt-6 pb-4",children:(0,a.jsxs)("div",{className:"mx-auto w-full max-w-xl text-center",children:[(0,a.jsx)("div",{className:"w-full",children:(0,a.jsx)(s.ProgressBarBase,{value:4,min:0,max:4})}),(0,a.jsxs)("div",{className:"mt-6 flex flex-col items-center gap-2",children:[(0,a.jsx)("h1",{className:"text-display-sm font-semibold text-primary",children:"Add profile details"}),(0,a.jsx)("p",{className:"text-md text-tertiary",children:"Add your profile image, name, and bio."})]})]})}),(0,a.jsx)("div",{className:"flex-1 overflow-y-auto px-4 md:px-8 pt-8 pb-28",children:(0,a.jsx)("div",{className:"mx-auto w-full max-w-xl",children:(0,a.jsxs)("div",{className:"flex flex-col items-center gap-8",children:[(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("img",{src:e||"/avatar.svg",alt:"Profile",className:"size-24 rounded-full object-cover ring-1 ring-primary"}),(0,a.jsx)("button",{type:"button",className:"absolute -bottom-1 -right-1 inline-flex size-7 items-center justify-center rounded-full bg-primary ring-1 ring-primary shadow-xs",onClick:()=>x.current?.click(),"aria-label":"Upload avatar",children:(0,a.jsx)(n.Plus,{className:"size-4 text-secondary"})}),(0,a.jsx)("input",{ref:x,type:"file",accept:"image/*",className:"hidden",onChange:e=>{let a=e.target.files?.[0];a&&(d(URL.createObjectURL(a)),u(a))}})]}),(0,a.jsx)(i.Input,{size:"md",placeholder:"Display Name",value:h,onChange:p}),(0,a.jsxs)("div",{className:"relative w-full",children:[(0,a.jsx)(l.TextArea,{placeholder:"Bio",rows:4,value:f,onChange:e=>g(String(e).slice(0,160))}),(0,a.jsxs)("span",{className:"pointer-events-none absolute bottom-2 right-3 text-xs text-tertiary",children:[f.length,"/160"]})]})]})})}),(0,a.jsx)("div",{className:"sticky bottom-0 px-4 md:px-8 py-4 text-center",children:(0,a.jsx)(t.Button,{size:"lg",className:"mx-auto w-full max-w-xl",onClick:async()=>{if(!N||C)return;z(!0),N.username;let a={};h.trim()&&(a.name=h.trim()),f.trim()&&(a.shortBio=f.trim()),e&&e.startsWith("http")&&(a.avatarUrl=e);try{if(Object.keys(a).length&&await w(N.id,a),m)try{await B(N.id,m)}catch{}S.push("/onboarding/complete")}finally{z(!1)}},isDisabled:!h.trim()&&!f.trim()&&!e||C,isLoading:C,children:"Continue"})})]})}e.s(["default",()=>d])}]);