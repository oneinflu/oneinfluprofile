(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,46435,e=>{"use strict";var s=e.i(43476),a=e.i(72395);let t=({value:e,min:t=0,max:l=100,className:r,progressClassName:i})=>{let n=(e-t)*100/(l-t);return(0,s.jsx)("div",{role:"progressbar","aria-valuenow":e,"aria-valuemin":t,"aria-valuemax":l,className:(0,a.cx)("h-2 w-full overflow-hidden rounded-md bg-quaternary",r),children:(0,s.jsx)("div",{style:{transform:`translateX(-${100-n}%)`},className:(0,a.cx)("size-full rounded-md bg-fg-brand-primary transition duration-75 ease-linear",i)})})};e.s(["ProgressBar",0,({value:e,min:a=0,max:l=100,valueFormatter:r,labelPosition:i,className:n,progressClassName:c})=>{let d=(e-a)*100/(l-a),o=r?r(e,d):`${d.toFixed(0)}%`,m=(0,s.jsx)(t,{min:a,max:l,value:e,className:n,progressClassName:c});switch(i){case"right":return(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[m,(0,s.jsx)("span",{className:"shrink-0 text-sm font-medium text-secondary tabular-nums",children:o})]});case"bottom":return(0,s.jsxs)("div",{className:"flex flex-col items-end gap-2",children:[m,(0,s.jsx)("span",{className:"text-sm font-medium text-secondary tabular-nums",children:o})]});case"top-floating":return(0,s.jsxs)("div",{className:"relative flex flex-col items-end gap-2",children:[m,(0,s.jsx)("div",{style:{left:`${d}%`},className:"absolute -top-2 -translate-x-1/2 -translate-y-full rounded-lg bg-primary_alt px-3 py-2 shadow-lg ring-1 ring-secondary_alt",children:(0,s.jsx)("div",{className:"text-xs font-semibold text-secondary tabular-nums",children:o})})]});case"bottom-floating":return(0,s.jsxs)("div",{className:"relative flex flex-col items-end gap-2",children:[m,(0,s.jsx)("div",{style:{left:`${d}%`},className:"absolute -bottom-2 -translate-x-1/2 translate-y-full rounded-lg bg-primary_alt px-3 py-2 shadow-lg ring-1 ring-secondary_alt",children:(0,s.jsx)("div",{className:"text-xs font-semibold text-secondary",children:o})})]});default:return m}},"ProgressBarBase",0,t])},66606,e=>{"use strict";var s=e.i(43476),a=e.i(46435),t=e.i(47209),l=e.i(10031),r=e.i(40713),i=e.i(71645),n=e.i(6964),c=e.i(66181),d=e.i(18566);function o(){let[e,o]=(0,i.useState)(null),[m,x]=(0,i.useState)(null),u=(0,i.useRef)(null),[h,p]=(0,i.useState)(""),[f,g]=(0,i.useState)(""),[v,j]=(0,i.useState)([]),[y,b]=(0,i.useState)(""),{user:N,updateUserById:w,uploadAvatarById:B}=(0,c.useAuth)(),C=(0,d.useRouter)(),[S,k]=(0,i.useState)(!1);return(0,s.jsxs)("section",{className:"flex min-h-screen flex-col",children:[(0,s.jsx)("div",{className:"sticky top-0 z-20 px-4 md:px-8 pt-6 pb-4",children:(0,s.jsxs)("div",{className:"mx-auto w-full max-w-xl text-center",children:[(0,s.jsx)("div",{className:"w-full",children:(0,s.jsx)(a.ProgressBarBase,{value:4,min:0,max:4})}),(0,s.jsxs)("div",{className:"mt-6 flex flex-col items-center gap-2",children:[(0,s.jsx)("h1",{className:"text-display-sm font-semibold text-primary",children:"Add profile details"}),(0,s.jsx)("p",{className:"text-md text-tertiary",children:"Add your profile image, name, and bio."})]})]})}),(0,s.jsx)("div",{className:"flex-1 overflow-y-auto px-4 md:px-8 pt-8 pb-28",children:(0,s.jsx)("div",{className:"mx-auto w-full max-w-xl",children:(0,s.jsxs)("div",{className:"flex flex-col items-center gap-8",children:[(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("img",{src:e||"/avatar.svg",alt:"Profile",className:"size-24 rounded-full object-cover ring-1 ring-primary"}),(0,s.jsx)("button",{type:"button",className:"absolute -bottom-1 -right-1 inline-flex size-7 items-center justify-center rounded-full bg-primary ring-1 ring-primary shadow-xs",onClick:()=>u.current?.click(),"aria-label":"Upload avatar",children:(0,s.jsx)(n.Plus,{className:"size-4 text-secondary"})}),(0,s.jsx)("input",{ref:u,type:"file",accept:"image/*",className:"hidden",onChange:e=>{let s=e.target.files?.[0];s&&(o(URL.createObjectURL(s)),x(s))}})]}),(0,s.jsx)(l.Input,{size:"md",placeholder:"Display Name",value:h,onChange:p}),(0,s.jsxs)("div",{className:"relative w-full",children:[(0,s.jsx)(r.TextArea,{placeholder:"Bio",rows:4,value:f,onChange:e=>g(String(e).slice(0,160))}),(0,s.jsxs)("span",{className:"pointer-events-none absolute bottom-2 right-3 text-xs text-tertiary",children:[f.length,"/160"]})]})]})})}),(0,s.jsx)("div",{className:"sticky bottom-0 px-4 md:px-8 py-4 text-center",children:(0,s.jsx)(t.Button,{size:"lg",className:"mx-auto w-full max-w-xl",onClick:async()=>{if(!N||S)return;k(!0),N.username;let s={};h.trim()&&(s.name=h.trim()),f.trim()&&(s.shortBio=f.trim()),e&&e.startsWith("http")&&(s.avatarUrl=e);try{if(Object.keys(s).length&&await w(N.id,s),m)try{await B(N.id,m)}catch{}C.push("/onboarding/complete")}finally{k(!1)}},isDisabled:!h.trim()&&!f.trim()&&!e||S,isLoading:S,children:"Continue"})})]})}e.s(["default",()=>o])}]);