(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,3358,e=>{"use strict";e.i(47167);var i=e.i(24099),s=e.i(23905),t=e.i(54453),l=e.i(71331),r=e.i(63985),a=e.i(58825),n=e.i(37681),d=e.i(50179),o=e.i(71645),c=e.i(60623),u=e.i(97547),m=e.i(36836),p=e.i(99848);let x="undefined"!=typeof document&&window.visualViewport;function h(){return{width:x?x.width*x.scale:window.innerWidth,height:x?x.height*x.scale:window.innerHeight}}var f=e.i(62789),g=e.i(69080),v=e.i(82179),b=e.i(53930);let y=(0,o.createContext)(null),w=(0,o.createContext)(null),j=(0,o.forwardRef)(function(e,i){if((0,o.useContext)(w))return o.default.createElement(P,{...e,modalRef:i},e.children);let{isDismissable:s,isKeyboardDismissDisabled:t,isOpen:l,defaultOpen:r,onOpenChange:a,children:n,isEntering:d,isExiting:c,UNSTABLE_portalContainer:u,shouldCloseOnInteractOutside:m,...p}=e;return o.default.createElement(N,{isDismissable:s,isKeyboardDismissDisabled:t,isOpen:l,defaultOpen:r,onOpenChange:a,isEntering:d,isExiting:c,UNSTABLE_portalContainer:u,shouldCloseOnInteractOutside:m},o.default.createElement(P,{...p,modalRef:i},n))}),N=(0,o.forwardRef)(function(e,l){[e,l]=(0,i.useContextProps)(e,l,y);let r=(0,o.useContext)(s.OverlayTriggerStateContext),a=(0,b.useOverlayTriggerState)(e),n=null==e.isOpen&&null==e.defaultOpen&&r?r:a,d=(0,u.useObjectRef)(l),c=(0,o.useRef)(null),p=(0,m.useExitAnimation)(d,n.isOpen),x=(0,m.useExitAnimation)(c,n.isOpen),h=p||x||e.isExiting||!1,f=(0,t.useIsSSR)();return(n.isOpen||h)&&!f?o.default.createElement(C,{...e,state:n,isExiting:h,overlayRef:d,modalRef:c}):null});function C({UNSTABLE_portalContainer:e,...c}){let u,v=c.modalRef,{state:b}=c,{modalProps:y,underlayProps:j}=function(e,i,s){let{overlayProps:t,underlayProps:c}=(0,r.useOverlay)({...e,isOpen:i.isOpen,onClose:i.close},s);return(0,n.usePreventScroll)({isDisabled:!i.isOpen}),(0,a.useOverlayFocusContain)(),(0,o.useEffect)(()=>{if(i.isOpen&&s.current)return(0,l.ariaHideOutside)([s.current],{shouldUseInert:!0})},[i.isOpen,s]),{modalProps:(0,d.mergeProps)(t),underlayProps:c}}(c,b,v),N=(0,m.useEnterAnimation)(c.overlayRef)||c.isEntering||!1,C=(0,i.useRenderProps)({...c,defaultClassName:"react-aria-ModalOverlay",values:{isEntering:N,isExiting:c.isExiting,state:b}}),P=function(){let e=(0,t.useIsSSR)(),[i,s]=(0,o.useState)(()=>e?{width:0,height:0}:h());return(0,o.useEffect)(()=>{let e,i=()=>{x&&x.scale>1||s(e=>{let i=h();return i.width===e.width&&i.height===e.height?e:i})},t=i=>{x&&x.scale>1||(0,p.willOpenKeyboard)(i.target)&&(e=requestAnimationFrame(()=>{document.activeElement&&(0,p.willOpenKeyboard)(document.activeElement)||s(e=>{let i={width:window.innerWidth,height:window.innerHeight};return i.width===e.width&&i.height===e.height?e:i})}))};return window.addEventListener("blur",t,!0),x?x.addEventListener("resize",i):window.addEventListener("resize",i),()=>{cancelAnimationFrame(e),window.removeEventListener("blur",t,!0),x?x.removeEventListener("resize",i):window.removeEventListener("resize",i)}},[]),i}();if("undefined"!=typeof document){let e=(0,f.isScrollable)(document.body)?document.body:document.scrollingElement||document.documentElement,i=e.getBoundingClientRect().height%1;u=e.scrollHeight-i}let S={...C.style,"--visual-viewport-height":P.height+"px","--page-height":void 0!==u?u+"px":void 0};return o.default.createElement(a.Overlay,{isExiting:c.isExiting,portalContainer:e},o.default.createElement("div",{...(0,d.mergeProps)((0,g.filterDOMProps)(c,{global:!0}),j),...C,style:S,ref:c.overlayRef,"data-entering":N||void 0,"data-exiting":c.isExiting||void 0},o.default.createElement(i.Provider,{values:[[w,{modalProps:y,modalRef:v,isExiting:c.isExiting,isDismissable:c.isDismissable}],[s.OverlayTriggerStateContext,b]]},C.children)))}function P(e){let{modalProps:t,modalRef:l,isExiting:r,isDismissable:a}=(0,o.useContext)(w),n=(0,o.useContext)(s.OverlayTriggerStateContext),p=(0,o.useMemo)(()=>(0,v.mergeRefs)(e.modalRef,l),[e.modalRef,l]),x=(0,u.useObjectRef)(p),h=(0,m.useEnterAnimation)(x),f=(0,i.useRenderProps)({...e,defaultClassName:"react-aria-Modal",values:{isEntering:h,isExiting:r,state:n}});return o.default.createElement("div",{...(0,d.mergeProps)((0,g.filterDOMProps)(e,{global:!0}),t),...f,ref:x,"data-entering":h||void 0,"data-exiting":r||void 0},a&&o.default.createElement(c.DismissButton,{onDismiss:n.close}),f.children)}e.s(["Modal",()=>j,"ModalOverlay",()=>N],3358)},58874,e=>{"use strict";var i=e.i(43476),s=e.i(18566),t=e.i(72395);e.s(["PhonePreview",0,({username:e,className:l,frameClassName:r})=>{let a=(0,s.useSearchParams)(),n=e??a.get("username")??"guest";return(0,i.jsx)("div",{className:(0,t.cx)("mx-auto aspect-[9/19] w-full max-w-sm rounded-[2rem] bg-linear-to-b from-[#222] via-[#000] to-[#444] dark:from-[#d4d7da] dark:via-[#bfc3c7] dark:to-[#eceff1] p-1 shadow-2xl",l),children:(0,i.jsx)("div",{className:(0,t.cx)("size-full overflow-hidden rounded-[inherit] bg-alpha-black ring-1 ring-primary",r),children:(0,i.jsx)("iframe",{title:"Profile preview",src:`/${n}`,className:"size-full border-0"})})})}])},86450,e=>{"use strict";var i=e.i(71645);let s=({size:e=24,color:s="currentColor",...t})=>i.createElement("svg",{viewBox:"0 0 24 24",width:e,height:e,stroke:s,strokeWidth:"2",fill:"none",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",...t},i.createElement("path",{d:"M2.876 18.116c.046-.414.069-.62.131-.814a2 2 0 0 1 .234-.485c.111-.17.259-.317.553-.61L17 3a2.828 2.828 0 1 1 4 4L7.794 20.206c-.294.294-.442.442-.611.553a2 2 0 0 1-.485.233c-.193.063-.4.086-.814.132L2.5 21.5l.376-3.384Z"}));s.displayName="Edit01",e.s(["Edit01",()=>s])},57908,1715,e=>{"use strict";e.i(47167);var i=e.i(50179),s=e.i(69080),t=e.i(14279),l=e.i(43027),r=e.i(49962);function a(e,a,n){let{isDisabled:d=!1,isReadOnly:o=!1,value:c,name:u,form:m,children:p,"aria-label":x,"aria-labelledby":h,validationState:f="valid",isInvalid:g,onPressStart:v,onPressEnd:b,onPressChange:y,onPress:w,onPressUp:j,onClick:N}=e,{pressProps:C,isPressed:P}=(0,l.usePress)({onPressStart:v,onPressEnd:b,onPressChange:y,onPress:w,onPressUp:j,onClick:N,isDisabled:d}),{pressProps:S,isPressed:E}=(0,l.usePress)({onPressStart:v,onPressEnd:b,onPressChange:y,onPressUp:j,onClick:N,onPress(e){var i;null==w||w(e),a.toggle(),null==(i=n.current)||i.focus()},isDisabled:d||o}),{focusableProps:O}=(0,r.useFocusable)(e,n),T=(0,i.mergeProps)(C,O),k=(0,s.filterDOMProps)(e,{labelable:!0});return(0,t.useFormReset)(n,a.defaultSelected,a.setSelected),{labelProps:(0,i.mergeProps)(S,{onClick:e=>e.preventDefault()}),inputProps:(0,i.mergeProps)(k,{"aria-invalid":g||"invalid"===f||void 0,"aria-errormessage":e["aria-errormessage"],"aria-controls":e["aria-controls"],"aria-readonly":o||void 0,onChange:e=>{e.stopPropagation(),a.setSelected(e.target.checked)},disabled:d,...null==c?{}:{value:c},name:u,form:m,type:"checkbox",...T}),isSelected:a.isSelected,isPressed:P||E,isDisabled:d,isReadOnly:o,isInvalid:g||"invalid"===f}}e.s(["useToggle",()=>a],57908);var n=e.i(35190),d=e.i(71645);function o(e={}){var i;let{isReadOnly:s}=e,[t,l]=(0,n.useControlledState)(e.isSelected,e.defaultSelected||!1,e.onChange),[r]=(0,d.useState)(t);return{isSelected:t,defaultSelected:null!=(i=e.defaultSelected)?i:r,setSelected:function(e){s||l(e)},toggle:function(){s||l(!t)}}}e.s(["useToggleState",()=>o],1715)},65842,e=>{"use strict";var i=e.i(71645);let s=({size:e=24,color:s="currentColor",...t})=>i.createElement("svg",{viewBox:"0 0 24 24",width:e,height:e,stroke:s,strokeWidth:"2",fill:"none",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",...t},i.createElement("path",{d:"M16 6v-.8c0-1.12 0-1.68-.218-2.108a2 2 0 0 0-.874-.874C14.48 2 13.92 2 12.8 2h-1.6c-1.12 0-1.68 0-2.108.218a2 2 0 0 0-.874.874C8 3.52 8 4.08 8 5.2V6m2 5.5v5m4-5v5M3 6h18m-2 0v11.2c0 1.68 0 2.52-.327 3.162a3 3 0 0 1-1.311 1.311C16.72 22 15.88 22 14.2 22H9.8c-1.68 0-2.52 0-3.162-.327a3 3 0 0 1-1.311-1.311C5 19.72 5 18.88 5 17.2V6"}));s.displayName="Trash01",e.s(["Trash01",()=>s])},40713,e=>{"use strict";var i=e.i(43476),s=e.i(75174),t=e.i(38199),l=e.i(62542),r=e.i(21850),a=e.i(72395);let n=e=>`url(data:image/svg+xml;base64,${btoa(`<svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M10 2L2 10" stroke="${e}" stroke-linecap="round"/><path d="M11 7L7 11" stroke="${e}" stroke-linecap="round"/></svg>`)})`,d=({className:e,...t})=>(0,i.jsx)(s.TextArea,{...t,style:{"--resize-handle-bg":n("#D5D7DA"),"--resize-handle-bg-dark":n("#373A41")},className:i=>(0,a.cx)("w-full scroll-py-3 rounded-lg bg-primary px-3.5 py-3 text-md text-primary shadow-xs ring-1 ring-primary transition duration-100 ease-linear ring-inset placeholder:text-placeholder autofill:rounded-lg autofill:text-primary focus:outline-hidden","[&::-webkit-resizer]:bg-(image:--resize-handle-bg) [&::-webkit-resizer]:bg-contain dark:[&::-webkit-resizer]:bg-(image:--resize-handle-bg-dark)",i.isFocused&&!i.isDisabled&&"ring-2 ring-brand",i.isDisabled&&"cursor-not-allowed bg-disabled_subtle text-disabled ring-disabled",i.isInvalid&&"ring-error_subtle",i.isInvalid&&i.isFocused&&"ring-2 ring-error","function"==typeof e?e(i):e)});d.displayName="TextAreaBase";let o=({label:e,hint:s,tooltip:n,textAreaRef:o,hideRequiredIndicator:c,textAreaClassName:u,placeholder:m,className:p,rows:x,cols:h,...f})=>(0,i.jsx)(t.TextField,{...f,className:e=>(0,a.cx)("group flex h-max w-full flex-col items-start justify-start gap-1.5","function"==typeof p?p(e):p),children:({isInvalid:t,isRequired:a})=>(0,i.jsxs)(i.Fragment,{children:[e&&(0,i.jsx)(r.Label,{isRequired:c?!c:a,tooltip:n,children:e}),(0,i.jsx)(d,{placeholder:m,className:u,ref:o,rows:x,cols:h}),s&&(0,i.jsx)(l.HintText,{isInvalid:t,children:s})]})});o.displayName="TextArea",e.s(["TextArea",0,o])},19553,e=>{"use strict";var i=e.i(43476),s=e.i(24099),t=e.i(57908),l=e.i(29427),r=e.i(71330),a=e.i(50179),n=e.i(15960),d=e.i(97547),o=e.i(82179),c=e.i(69080),u=e.i(71645),m=e.i(1715);let p=(0,u.createContext)(null),x=(0,u.forwardRef)(function(e,i){let{inputRef:x=null,...h}=e;[e,i]=(0,s.useContextProps)(h,i,p);let f=(0,d.useObjectRef)((0,o.mergeRefs)(x,void 0!==e.inputRef?e.inputRef:null)),g=(0,m.useToggleState)(e),{labelProps:v,inputProps:b,isSelected:y,isDisabled:w,isReadOnly:j,isPressed:N}=function(e,i,s){let{labelProps:l,inputProps:r,isSelected:a,isPressed:n,isDisabled:d,isReadOnly:o}=(0,t.useToggle)(e,i,s);return{labelProps:l,inputProps:{...r,role:"switch",checked:a},isSelected:a,isPressed:n,isDisabled:d,isReadOnly:o}}({...(0,s.removeDataAttributes)(e),children:"function"==typeof e.children||e.children},g,f),{isFocused:C,isFocusVisible:P,focusProps:S}=(0,l.useFocusRing)(),E=e.isDisabled||e.isReadOnly,{hoverProps:O,isHovered:T}=(0,r.useHover)({...e,isDisabled:E}),k=(0,s.useRenderProps)({...e,defaultClassName:"react-aria-Switch",values:{isSelected:y,isPressed:N,isHovered:T,isFocused:C,isFocusVisible:P,isDisabled:w,isReadOnly:j,state:g}}),D=(0,c.filterDOMProps)(e,{global:!0});return delete D.id,delete D.onClick,u.default.createElement("label",{...(0,a.mergeProps)(D,v,O,k),ref:i,slot:e.slot||void 0,"data-selected":y||void 0,"data-pressed":N||void 0,"data-hovered":T||void 0,"data-focused":C||void 0,"data-focus-visible":P||void 0,"data-disabled":w||void 0,"data-readonly":j||void 0},u.default.createElement(n.VisuallyHidden,{elementType:"span"},u.default.createElement("input",{...(0,a.mergeProps)(b,S),ref:f})),k.children)});var h=e.i(72395);let f=({className:e,isHovered:s,isDisabled:t,isFocusVisible:l,isSelected:r,slim:a,size:n="sm"})=>{let d={default:{sm:{root:"h-5 w-9 p-0.5",switch:(0,h.cx)("size-4",r&&"translate-x-4")},md:{root:"h-6 w-11 p-0.5",switch:(0,h.cx)("size-5",r&&"translate-x-5")}},slim:{sm:{root:"h-4 w-8",switch:(0,h.cx)("size-4",r&&"translate-x-4")},md:{root:"h-5 w-10",switch:(0,h.cx)("size-5",r&&"translate-x-5")}}},o=a?d.slim[n]:d.default[n];return(0,i.jsx)("div",{className:(0,h.cx)("cursor-pointer rounded-full bg-tertiary outline-focus-ring transition duration-150 ease-linear",r&&"bg-brand-solid",r&&s&&"bg-brand-solid_hover",t&&"cursor-not-allowed bg-disabled",l&&"outline-2 outline-offset-2",a&&"ring-1 ring-secondary ring-inset",a&&r&&"ring-transparent",o.root,e),children:(0,i.jsx)("div",{style:{transition:"transform 0.15s ease-in-out, translate 0.15s ease-in-out, border-color 0.1s linear, background-color 0.1s linear"},className:(0,h.cx)("rounded-full bg-fg-white shadow-sm",t&&"bg-toggle-button-fg_disabled",a&&"shadow-xs",a&&"border border-toggle-border",a&&r&&"border-toggle-slim-border_pressed",a&&r&&s&&"border-toggle-slim-border_pressed-hover",o.switch)})})};e.s(["Toggle",0,({label:e,hint:s,className:t,size:l="sm",slim:r,...a})=>{let n={sm:{root:"gap-2",textWrapper:"",label:"text-sm font-medium",hint:"text-sm"},md:{root:"gap-3",textWrapper:"gap-0.5",label:"text-md font-medium",hint:"text-md"}};return(0,i.jsx)(x,{...a,className:e=>(0,h.cx)("flex w-max items-start",e.isDisabled&&"cursor-not-allowed",n[l].root,"function"==typeof t?t(e):t),children:({isSelected:t,isDisabled:a,isFocusVisible:d,isHovered:o})=>(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(f,{slim:r,size:l,isHovered:o,isDisabled:a,isFocusVisible:d,isSelected:t,className:r?"mt-0.5":""}),(e||s)&&(0,i.jsxs)("div",{className:(0,h.cx)("flex flex-col",n[l].textWrapper),children:[e&&(0,i.jsx)("p",{className:(0,h.cx)("text-secondary select-none",n[l].label),children:e}),s&&(0,i.jsx)("span",{className:(0,h.cx)("text-tertiary",n[l].hint),onClick:e=>e.stopPropagation(),children:s})]})]})})}],19553)},10099,e=>{"use strict";var i=e.i(71645);let s=({size:e=24,color:s="currentColor",...t})=>i.createElement("svg",{viewBox:"0 0 24 24",width:e,height:e,stroke:s,strokeWidth:"2",fill:"none",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",...t},i.createElement("path",{d:"M17.8 10c1.12 0 1.68 0 2.108-.218a2 2 0 0 0 .874-.874C21 8.48 21 7.92 21 6.8v-.6c0-1.12 0-1.68-.218-2.108a2 2 0 0 0-.874-.874C19.48 3 18.92 3 17.8 3H6.2c-1.12 0-1.68 0-2.108.218a2 2 0 0 0-.874.874C3 4.52 3 5.08 3 6.2v.6c0 1.12 0 1.68.218 2.108a2 2 0 0 0 .874.874C4.52 10 5.08 10 6.2 10h11.6Zm0 11c1.12 0 1.68 0 2.108-.218a2 2 0 0 0 .874-.874C21 19.48 21 18.92 21 17.8v-.6c0-1.12 0-1.68-.218-2.108a2 2 0 0 0-.874-.874C19.48 14 18.92 14 17.8 14H6.2c-1.12 0-1.68 0-2.108.218a2 2 0 0 0-.874.874C3 15.52 3 16.08 3 17.2v.6c0 1.12 0 1.68.218 2.108a2 2 0 0 0 .874.874C4.52 21 5.08 21 6.2 21h11.6Z"}));s.displayName="Rows01",e.s(["Rows01",()=>s])},8996,e=>{"use strict";var i=e.i(43476),s=e.i(47209),t=e.i(30352),l=e.i(19553),r=e.i(10031),a=e.i(40713),n=e.i(67269),d=e.i(10099),o=e.i(65842),c=e.i(86450),u=e.i(71645),m=e.i(23905),p=e.i(3358),x=e.i(58874),h=e.i(18279),f=e.i(66181);function g(){let{token:e,user:d}=(0,f.useAuth)(),[c,g]=(0,u.useState)(!0),[b,y]=(0,u.useState)([]),[w,j]=(0,u.useState)(!1),[N,C]=(0,u.useState)(null),[P,S]=(0,u.useState)(!1),[E,O]=(0,u.useState)(null),[T,k]=(0,u.useState)(0),[D,R]=(0,u.useState)({title:"",description:"",priceType:"fixed",price:void 0,delivery:"",includes:[],cta:"request",visible:!0});(0,u.useEffect)(()=>{let i=!0;return(async()=>{try{if(!d?.id||!e)return;let s=await h.api.get(`/users/id/${d.id}/offers`,{token:e});if(!i)return;y((s.data?.offers||[]).map(e=>({id:String(e._id||e.id),title:e.title,description:e.description,price:"number"==typeof e.price?e.price:0,priceType:e.priceType,visible:e.visible,includes:e.includes||[],cta:e.cta||void 0,delivery:e.delivery||void 0})))}catch{}finally{g(!1)}})(),()=>{i=!1}},[d?.id,e]);let z=()=>{C(null),R({title:"",description:"",priceType:"fixed",price:void 0,delivery:"",includes:[],cta:"request",visible:!0}),j(!0)},B=async()=>{if(!D.title.trim())return;let i={title:D.title.trim(),description:D.description.slice(0,120),priceType:D.priceType,price:"custom"===D.priceType?null:Math.max(0,Number(D.price||0)),includes:D.includes,cta:D.cta,delivery:D.delivery||"",visible:D.visible,currency:"INR"};try{if(!d?.id||!e)throw Error("unauthorized");if(null===N){let s=(await h.api.post(`/users/id/${d.id}/offers`,i,{token:e})).data.offer,t={id:String(s._id||s.id),title:s.title,description:s.description,price:"number"==typeof s.price?s.price:0,priceType:s.priceType,visible:s.visible,includes:s.includes||[],cta:s.cta||void 0,delivery:s.delivery||void 0};y(e=>[t,...e]),k(e=>e+1)}else{let s=b[N].id,t=(await h.api.patch(`/users/id/${d.id}/offers/${s}`,i,{token:e})).data.offer,l={id:String(t._id||t.id),title:t.title,description:t.description,price:"number"==typeof t.price?t.price:0,priceType:t.priceType,visible:t.visible,includes:t.includes||[],cta:t.cta||void 0,delivery:t.delivery||void 0};y(e=>e.map((e,i)=>i===N?l:e)),k(e=>e+1)}}catch{}finally{j(!1)}};return(0,i.jsxs)("section",{className:"flex min-h-screen flex-col lg:pl-[300px]",children:[(0,i.jsx)("div",{className:" top-0 z-10 px-4 md:px-8 pt-6 pb-4",children:(0,i.jsx)("div",{className:"w-full max-w-8xl",children:(0,i.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-3",children:[(0,i.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,i.jsx)("h1",{className:"text-display-sm font-semibold text-primary",children:"My Offerings"}),(0,i.jsx)("p",{className:"text-md text-tertiary",children:"Services visible on your public profile"})]}),(0,i.jsx)("div",{className:"mt-3 md:mt-0",children:(0,i.jsx)(s.Button,{className:"w-full md:w-auto",size:"sm",onClick:z,children:"+ Add Offer"})})]})})}),(0,i.jsx)("div",{className:"flex-1 min-h-0 overflow-y-auto overscroll-contain px-4 md:px-8 pt-8 pb-12",children:(0,i.jsxs)("div",{className:"w-full max-w-8xl grid gap-8 lg:grid-cols-[1fr_1px_360px]",children:[(0,i.jsx)("div",{className:"flex flex-col gap-6",children:c?(0,i.jsx)("div",{className:"grid grid-cols-1 gap-3",children:[void 0,void 0,void 0,void 0].map((e,s)=>(0,i.jsxs)("div",{className:"rounded-2xl bg-primary p-4 md:p-5 shadow-xs ring-1 ring-secondary_alt",children:[(0,i.jsx)("div",{className:"h-5 w-40 bg-primary_hover animate-pulse rounded"}),(0,i.jsx)("div",{className:"mt-2 h-3 w-64 bg-primary_hover animate-pulse rounded"}),(0,i.jsxs)("div",{className:"mt-4 grid grid-cols-2 gap-2",children:[(0,i.jsx)("div",{className:"h-3 bg-primary_hover animate-pulse rounded"}),(0,i.jsx)("div",{className:"h-3 bg-primary_hover animate-pulse rounded"})]})]},s))}):(0,i.jsx)(v,{offers:b,setOffers:y,onEdit:e=>{let i=b[e];C(e),R({title:i.title,description:i.description,priceType:i.priceType,price:"custom"!==i.priceType?i.price:void 0,delivery:i.delivery||"",includes:i.includes||[],cta:i.cta||"request",visible:i.visible}),j(!0)},onAdd:z,onDelete:e=>{O(e),S(!0)},onReorder:async i=>{y(i);try{if(!d?.id||!e)return;await Promise.all(i.map((i,s)=>h.api.patch(`/users/id/${d.id}/offers/${i.id}`,{order:s+1},{token:e}))),k(e=>e+1)}catch{}},onToggle:async(i,s)=>{y(e=>e.map((e,t)=>t===i?{...e,visible:s}:e));try{if(!d?.id||!e)return;let t=b[i].id;await h.api.patch(`/users/id/${d.id}/offers/${t}`,{visible:s},{token:e}),k(e=>e+1)}catch{}}})}),(0,i.jsx)("div",{"aria-hidden":!0,className:"hidden lg:block self-stretch w-px bg-border-secondary"}),(0,i.jsx)("div",{className:"hidden lg:block",children:(0,i.jsx)("div",{className:"lg:sticky top-6",children:(0,i.jsx)(u.Suspense,{fallback:null,children:(0,i.jsx)(x.PhonePreview,{username:d?.username?`${d.username}?v=${T}`:void 0})})})})]})}),(0,i.jsxs)(m.DialogTrigger,{isOpen:P,onOpenChange:S,children:[(0,i.jsx)(s.Button,{slot:"trigger",className:"hidden",children:"Open"}),(0,i.jsx)(p.ModalOverlay,{isDismissable:!0,className:({isEntering:e,isExiting:i})=>`fixed inset-0 z-50 bg-overlay/40 backdrop-blur-sm ${e?"duration-150 ease-out animate-in fade-in":""} ${i?"duration-100 ease-in animate-out fade-out":""}`,children:({state:t})=>(0,i.jsx)(p.Modal,{className:"w-full h-dvh cursor-auto flex items-center justify-center p-4",children:(0,i.jsxs)(m.Dialog,{className:"w-full max-w-sm overflow-hidden rounded-2xl bg-primary shadow-xl ring-1 ring-secondary_alt focus:outline-hidden",children:[(0,i.jsxs)("div",{className:"flex items-center justify-between border-b border-secondary px-4 py-3",children:[(0,i.jsx)("h2",{className:"text-lg font-semibold text-primary",children:"Delete offer?"}),(0,i.jsxs)("div",{className:"flex items-center gap-2",children:[(0,i.jsx)(s.Button,{size:"sm",color:"secondary",onClick:async()=>{if(null!==E)try{if(!d?.id||!e)throw Error("unauthorized");let i=b[E].id;await h.api.delete(`/users/id/${d.id}/offers/${i}`,{token:e}),y(e=>e.filter((e,i)=>i!==E)),k(e=>e+1)}catch{}finally{O(null),t.close()}},children:"Delete"}),(0,i.jsx)(s.Button,{size:"sm",onClick:()=>t.close(),children:"Cancel"})]})]}),(0,i.jsx)("div",{className:"px-4 py-4",children:(0,i.jsx)("p",{className:"text-sm text-tertiary",children:"This removes it from your profile immediately."})})]})})})]}),(0,i.jsxs)(m.DialogTrigger,{isOpen:w,onOpenChange:j,children:[(0,i.jsx)(s.Button,{slot:"trigger",className:"hidden",children:"Open"}),(0,i.jsx)(p.ModalOverlay,{isDismissable:!0,className:({isEntering:e,isExiting:i})=>`fixed inset-0 z-50 bg-overlay/40 backdrop-blur-sm ${e?"duration-150 ease-out animate-in fade-in":""} ${i?"duration-100 ease-in animate-out fade-out":""}`,children:({state:e})=>(0,i.jsx)(p.Modal,{className:"w-full cursor-auto",children:(0,i.jsxs)(m.Dialog,{className:"ml-auto h-dvh w-full max-w-md overflow-y-auto rounded-none bg-primary shadow-xl ring-1 ring-secondary_alt focus:outline-hidden",children:[(0,i.jsxs)("div",{className:"flex items-center justify-between border-b border-secondary px-4 py-3",children:[(0,i.jsx)("h2",{className:"text-lg font-semibold text-primary",children:null===N?"Add Offer":"Edit Offer"}),(0,i.jsxs)("div",{className:"flex items-center gap-2",children:[(0,i.jsx)(s.Button,{size:"sm",color:"secondary",onClick:B,children:"Save"}),(0,i.jsx)(s.Button,{size:"sm",onClick:()=>e.close(),children:"Cancel"})]})]}),(0,i.jsxs)("div",{className:"flex flex-col gap-6 px-4 py-4",children:[(0,i.jsxs)("div",{className:"flex min-w-0 flex-col gap-2",children:[(0,i.jsx)("h3",{className:"text-md font-semibold text-primary",children:"Basic Info"}),(0,i.jsx)(r.Input,{label:"Offer title",placeholder:"e.g. Instagram Reel Promotion",value:D.title,onChange:e=>R(i=>({...i,title:e}))}),(0,i.jsx)(a.TextArea,{label:"Short description",rows:3,value:D.description,onChange:e=>R(i=>({...i,description:e.slice(0,120)})),hint:`${Math.min(120,D.description.length)}/120`})]}),(0,i.jsxs)("div",{className:"flex min-w-0 flex-col gap-2",children:[(0,i.jsx)("h3",{className:"text-md font-semibold text-primary",children:"Pricing"}),(0,i.jsx)(n.Select,{size:"md",label:"Price type",items:[{id:"fixed",label:"Fixed price"},{id:"starting",label:"Starting from"},{id:"custom",label:"Custom quote"}],selectedKey:D.priceType,onSelectionChange:e=>R(i=>({...i,priceType:String(e)})),children:e=>(0,i.jsx)(n.Select.Item,{id:e.id,children:e.label})}),"custom"!==D.priceType&&(0,i.jsx)(r.Input,{label:"Amount (₹)",type:"number",inputMode:"numeric",placeholder:"0",value:String(D.price??""),onChange:e=>R(i=>({...i,price:Number(e||0)}))}),(0,i.jsx)(r.Input,{label:"Delivery time (optional)",placeholder:"e.g. 5 days",value:D.delivery||"",onChange:e=>R(i=>({...i,delivery:e}))})]}),(0,i.jsxs)("div",{className:"flex min-w-0 flex-col gap-2",children:[(0,i.jsx)("h3",{className:"text-md font-semibold text-primary",children:"What’s Included"}),(0,i.jsx)("ul",{className:"flex flex-col gap-2",children:(D.includes||[]).map((e,s)=>(0,i.jsxs)("li",{className:"flex items-center gap-2",children:[(0,i.jsx)(r.Input,{className:"flex-1",placeholder:"e.g. 1 Instagram Reel",value:e,onChange:e=>R(i=>({...i,includes:i.includes.map((i,t)=>t===s?e:i)}))}),(0,i.jsx)(t.ButtonUtility,{"aria-label":"Remove",icon:o.Trash01,size:"sm",onClick:()=>R(e=>({...e,includes:e.includes.filter((e,i)=>i!==s)}))})]},s))}),(0,i.jsx)("div",{children:(0,i.jsx)(s.Button,{size:"sm",color:"secondary",onClick:()=>R(e=>({...e,includes:[...e.includes||[],""]})),children:"Add row"})})]}),(0,i.jsxs)("div",{className:"flex min-w-0 flex-col gap-2",children:[(0,i.jsx)("h3",{className:"text-md font-semibold text-primary",children:"CTA Behavior"}),(0,i.jsx)(n.Select,{size:"md",label:"What happens when brand clicks",items:[{id:"request",label:"Request service"},{id:"pay",label:"Pay now"},{id:"request_pay_later",label:"Request + Pay later"}],selectedKey:D.cta,onSelectionChange:e=>R(i=>({...i,cta:String(e)})),children:e=>(0,i.jsx)(n.Select.Item,{id:e.id,children:e.label})})]}),(0,i.jsxs)("div",{className:"flex min-w-0 flex-col gap-2",children:[(0,i.jsx)("h3",{className:"text-md font-semibold text-primary",children:"Visibility"}),(0,i.jsx)(l.Toggle,{slim:!0,size:"md",isSelected:D.visible,onChange:e=>R(i=>({...i,visible:e})),"aria-label":"Show on profile"})]})]})]})})})]})]})}let v=({offers:e,setOffers:r,onEdit:a,onAdd:n,onDelete:m,onReorder:p,onToggle:x})=>{let[h,f]=(0,u.useState)(null),g="ontouchstart"in window,v=(0,u.useMemo)(()=>new Intl.NumberFormat("en-IN"),[]);return 0===e.length?(0,i.jsx)("div",{className:"rounded-2xl bg-primary p-6 shadow-xs ring-1 ring-secondary_alt",children:(0,i.jsxs)("div",{className:"mx-auto max-w-md text-center",children:[(0,i.jsx)("h3",{className:"text-md font-semibold text-primary",children:"Add your first service"}),(0,i.jsx)("p",{className:"mt-1 text-sm text-tertiary",children:"Brands contact creators faster when pricing is clear."}),(0,i.jsx)("div",{className:"mt-4",children:(0,i.jsx)(s.Button,{size:"sm",color:"secondary",onClick:n,children:"+ Add Offer"})})]})}):(0,i.jsx)("div",{className:"rounded-2xl bg-primary p-4 md:p-5 shadow-xs ring-1 ring-secondary_alt",children:(0,i.jsx)("div",{className:"flex min-w-0 flex-col",children:(0,i.jsx)("ul",{className:"flex flex-col gap-2",children:e.map((s,r)=>(0,i.jsxs)("li",{draggable:!g,onDragStart:()=>f(r),onDragOver:e=>e.preventDefault(),onDrop:async()=>{if(null===h||h===r)return;let i=[...e],[s]=i.splice(h,1);i.splice(r,0,s),await p(i),f(null)},className:"rounded-xl bg-primary p-3 ring-1 ring-secondary active:scale-[0.99]",children:[(0,i.jsxs)("div",{className:"flex flex-col gap-3 md:flex-row md:items-center md:justify-between",children:[(0,i.jsxs)("div",{className:"flex items-center gap-3",children:[(0,i.jsx)(t.ButtonUtility,{"aria-label":"Drag to reorder",icon:d.Rows01,size:"sm"}),(0,i.jsxs)("div",{className:"flex min-w-0 flex-col",children:[(0,i.jsx)("p",{className:"text-md font-semibold text-primary",children:s.title}),(0,i.jsxs)("div",{className:"flex items-center gap-2",children:[(0,i.jsx)("p",{className:"text-sm text-tertiary truncate",children:s.description}),"custom"!==s.priceType&&(0,i.jsxs)("span",{className:"text-sm font-medium text-primary",children:["₹",v.format(s.price)]}),(0,i.jsx)("span",{className:"text-xs text-secondary",children:"fixed"===s.priceType?"fixed":"starting"===s.priceType?"starting":"custom"})]})]})]}),(0,i.jsxs)("div",{className:"hidden md:flex items-center gap-2",children:[(0,i.jsx)(l.Toggle,{slim:!0,size:"md",isSelected:s.visible,onChange:e=>x(r,e),"aria-label":`Show ${s.title} on profile`}),(0,i.jsx)(t.ButtonUtility,{"aria-label":"Edit",icon:c.Edit01,size:"sm",onClick:()=>a(r)}),(0,i.jsx)(t.ButtonUtility,{"aria-label":"Delete",icon:o.Trash01,size:"sm",onClick:()=>m(r)})]})]}),(0,i.jsxs)("div",{className:"mt-2 flex md:hidden items-center gap-2 justify-end",children:[(0,i.jsx)(l.Toggle,{slim:!0,size:"md",isSelected:s.visible,onChange:e=>x(r,e),"aria-label":`Show ${s.title} on profile`}),(0,i.jsx)(t.ButtonUtility,{"aria-label":"Edit",icon:c.Edit01,size:"sm",onClick:()=>a(r)}),(0,i.jsx)(t.ButtonUtility,{"aria-label":"Delete",icon:o.Trash01,size:"sm",onClick:()=>m(r)})]})]},s.id))})})})};e.s(["default",()=>g])}]);