(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,99997,e=>{"use strict";var a=e.i(71645);let t=(0,a.createContext)({}),r=(0,a.createContext)(null),s=(0,a.forwardRef)(function(e,t){let{render:s}=(0,a.useContext)(r);return a.default.createElement(a.default.Fragment,null,s(e,t))});function l(e,t){var r;let l=null==e?void 0:e.renderDropIndicator,n=null==e||null==(r=e.isVirtualDragging)?void 0:r.call(e),i=(0,a.useCallback)(e=>{if(n||(null==t?void 0:t.isDropTarget(e)))return l?l(e):a.default.createElement(s,{target:e})},[null==t?void 0:t.target,n,l]);return(null==e?void 0:e.useDropIndicator)?i:void 0}function n(e,t,r){var s,l,n,i,o,d;let c=e.focusedKey,u=null;if((null==t||null==(s=t.isVirtualDragging)?void 0:s.call(t))&&(null==r||null==(l=r.target)?void 0:l.type)==="item"&&(u=r.target.key,"after"===r.target.dropPosition)){let e=r.collection.getKeyAfter(u),a=null;if(null!=e){let t=null!=(i=null==(n=r.collection.getItem(u))?void 0:n.level)?i:0;for(;e;){let s=r.collection.getItem(e);if(!s)break;if("item"!==s.type){e=r.collection.getKeyAfter(e);continue}if((null!=(o=s.level)?o:0)<=t)break;a=e,e=r.collection.getKeyAfter(e)}}u=null!=(d=null!=e?e:a)?d:u}return(0,a.useMemo)(()=>new Set([c,u].filter(e=>null!=e)),[c,u])}e.s(["DragAndDropContext",()=>t,"DropIndicatorContext",()=>r,"useDndPersistedKeys",()=>n,"useRenderDropIndicator",()=>l])},59596,62633,e=>{"use strict";var a=e.i(74208),t=e.i(91247),r=e.i(99661),s=e.i(71645);function l(e,l){let{collection:n,onLoadMore:i,scrollOffset:o=1}=e,d=(0,s.useRef)(null),c=(0,t.useEffectEvent)(e=>{for(let a of e)a.isIntersecting&&i&&i()});(0,r.useLayoutEffect)(()=>(l.current&&(d.current=new IntersectionObserver(c,{root:(0,a.getScrollParent)(null==l?void 0:l.current),rootMargin:`0px ${100*o}% ${100*o}% ${100*o}%`}),d.current.observe(l.current)),()=>{d.current&&d.current.disconnect()}),[n,l,o])}function n(e){return parseInt(s.version.split(".")[0],10)>=19?e:e?"true":void 0}e.s(["useLoadMoreSentinel",()=>l],59596),e.s(["inertValue",()=>n],62633)},37923,68806,e=>{"use strict";var a={};a={"ar-AE":{colorSwatchPicker:`\u{62A}\u{63A}\u{64A}\u{64A}\u{631}\u{627}\u{62A} \u{627}\u{644}\u{623}\u{644}\u{648}\u{627}\u{646}`,dropzoneLabel:"DropZone",selectPlaceholder:`\u{62D}\u{62F}\u{62F} \u{639}\u{646}\u{635}\u{631}\u{64B}\u{627}`,tableResizer:`\u{623}\u{62F}\u{627}\u{629} \u{62A}\u{63A}\u{64A}\u{64A}\u{631} \u{627}\u{644}\u{62D}\u{62C}\u{645}`},"bg-BG":{colorSwatchPicker:`\u{426}\u{432}\u{435}\u{442}\u{43E}\u{432}\u{438} \u{43C}\u{43E}\u{441}\u{442}\u{440}\u{438}`,dropzoneLabel:"DropZone",selectPlaceholder:`\u{418}\u{437}\u{431}\u{435}\u{440}\u{435}\u{442}\u{435} \u{43F}\u{440}\u{435}\u{434}\u{43C}\u{435}\u{442}`,tableResizer:`\u{41F}\u{440}\u{435}\u{43E}\u{440}\u{430}\u{437}\u{43C}\u{435}\u{440}\u{438}\u{442}\u{435}\u{43B}`},"cs-CZ":{colorSwatchPicker:"Vzorky barev",dropzoneLabel:`M\xedsto pro p\u{159}eta\u{17E}en\xed`,selectPlaceholder:`Vyberte polo\u{17E}ku`,tableResizer:`Zm\u{11B}na velikosti`},"da-DK":{colorSwatchPicker:`Farvepr\xf8ver`,dropzoneLabel:"DropZone",selectPlaceholder:`V\xe6lg et element`,tableResizer:`St\xf8rrelses\xe6ndring`},"de-DE":{colorSwatchPicker:"Farbfelder",dropzoneLabel:"Ablegebereich",selectPlaceholder:`Element w\xe4hlen`,tableResizer:`Gr\xf6\xdfenanpassung`},"el-GR":{colorSwatchPicker:`\u{3A7}\u{3C1}\u{3C9}\u{3BC}\u{3B1}\u{3C4}\u{3B9}\u{3BA}\u{3AC} \u{3B4}\u{3B5}\u{3AF}\u{3B3}\u{3BC}\u{3B1}\u{3C4}\u{3B1}`,dropzoneLabel:"DropZone",selectPlaceholder:`\u{395}\u{3C0}\u{3B9}\u{3BB}\u{3AD}\u{3BE}\u{3C4}\u{3B5} \u{3AD}\u{3BD}\u{3B1} \u{3B1}\u{3BD}\u{3C4}\u{3B9}\u{3BA}\u{3B5}\u{3AF}\u{3BC}\u{3B5}\u{3BD}\u{3BF}`,tableResizer:`\u{391}\u{3BB}\u{3BB}\u{3B1}\u{3B3}\u{3AE} \u{3BC}\u{3B5}\u{3B3}\u{3AD}\u{3B8}\u{3BF}\u{3C5}\u{3C2}`},"en-US":{selectPlaceholder:"Select an item",tableResizer:"Resizer",dropzoneLabel:"DropZone",colorSwatchPicker:"Color swatches"},"es-ES":{colorSwatchPicker:"Muestras de colores",dropzoneLabel:"DropZone",selectPlaceholder:`Seleccionar un art\xedculo`,tableResizer:`Cambiador de tama\xf1o`},"et-EE":{colorSwatchPicker:`V\xe4rvin\xe4idised`,dropzoneLabel:"DropZone",selectPlaceholder:`Valige \xfcksus`,tableResizer:"Suuruse muutja"},"fi-FI":{colorSwatchPicker:`V\xe4rimallit`,dropzoneLabel:"DropZone",selectPlaceholder:"Valitse kohde",tableResizer:"Koon muuttaja"},"fr-FR":{colorSwatchPicker:`\xc9chantillons de couleurs`,dropzoneLabel:"DropZone",selectPlaceholder:`S\xe9lectionner un \xe9l\xe9ment`,tableResizer:"Redimensionneur"},"he-IL":{colorSwatchPicker:`\u{5D3}\u{5D5}\u{5D2}\u{5DE}\u{5D9}\u{5D5}\u{5EA} \u{5E6}\u{5D1}\u{5E2}`,dropzoneLabel:"DropZone",selectPlaceholder:`\u{5D1}\u{5D7}\u{5E8} \u{5E4}\u{5E8}\u{5D9}\u{5D8}`,tableResizer:`\u{5E9}\u{5D9}\u{5E0}\u{5D5}\u{5D9} \u{5D2}\u{5D5}\u{5D3}\u{5DC}`},"hr-HR":{colorSwatchPicker:"Uzorci boja",dropzoneLabel:`Zona spu\u{161}tanja`,selectPlaceholder:"Odaberite stavku",tableResizer:`Promjena veli\u{10D}ine`},"hu-HU":{colorSwatchPicker:`Sz\xednt\xe1rak`,dropzoneLabel:"DropZone",selectPlaceholder:`V\xe1lasszon ki egy elemet`,tableResizer:`\xc1tm\xe9retez\u{151}`},"it-IT":{colorSwatchPicker:"Campioni di colore",dropzoneLabel:"Zona di rilascio",selectPlaceholder:"Seleziona un elemento",tableResizer:"Ridimensionamento"},"ja-JP":{colorSwatchPicker:`\u{30AB}\u{30E9}\u{30FC}\u{30B9}\u{30A6}\u{30A9}\u{30C3}\u{30C1}`,dropzoneLabel:`\u{30C9}\u{30ED}\u{30C3}\u{30D7}\u{30BE}\u{30FC}\u{30F3}`,selectPlaceholder:`\u{9805}\u{76EE}\u{3092}\u{9078}\u{629E}`,tableResizer:`\u{30B5}\u{30A4}\u{30BA}\u{5909}\u{66F4}\u{30C4}\u{30FC}\u{30EB}`},"ko-KR":{colorSwatchPicker:`\u{C0C9}\u{C0C1} \u{ACAC}\u{BCF8}`,dropzoneLabel:`\u{B4DC}\u{B86D} \u{C601}\u{C5ED}`,selectPlaceholder:`\u{D56D}\u{BAA9} \u{C120}\u{D0DD}`,tableResizer:`\u{D06C}\u{AE30} \u{C870}\u{C815}\u{AE30}`},"lt-LT":{colorSwatchPicker:`Spalv\u{173} pavyzd\u{17E}iai`,dropzoneLabel:`\u{201E}DropZone\u{201C}`,selectPlaceholder:`Pasirinkite element\u{105}`,tableResizer:`Dyd\u{17E}io keitiklis`},"lv-LV":{colorSwatchPicker:`Kr\u{101}su paraugi`,dropzoneLabel:"DropZone",selectPlaceholder:`Izv\u{113}l\u{113}ties vienumu`,tableResizer:`Izm\u{113}ra main\u{12B}t\u{101}js`},"nb-NO":{colorSwatchPicker:"Fargekart",dropzoneLabel:"Droppsone",selectPlaceholder:"Velg et element",tableResizer:`St\xf8rrelsesendrer`},"nl-NL":{colorSwatchPicker:"kleurstalen",dropzoneLabel:"DropZone",selectPlaceholder:"Selecteer een item",tableResizer:"Resizer"},"pl-PL":{colorSwatchPicker:`Pr\xf3bki kolor\xf3w`,dropzoneLabel:"Strefa upuszczania",selectPlaceholder:"Wybierz element",tableResizer:"Zmiana rozmiaru"},"pt-BR":{colorSwatchPicker:"Amostras de cores",dropzoneLabel:"DropZone",selectPlaceholder:"Selecione um item",tableResizer:"Redimensionador"},"pt-PT":{colorSwatchPicker:"Amostras de cores",dropzoneLabel:"DropZone",selectPlaceholder:"Selecione um item",tableResizer:"Redimensionador"},"ro-RO":{colorSwatchPicker:"Specimene de culoare",dropzoneLabel:`Zon\u{103} de plasare`,selectPlaceholder:`Selecta\u{21B}i un element`,tableResizer:"Instrument de redimensionare"},"ru-RU":{colorSwatchPicker:`\u{426}\u{432}\u{435}\u{442}\u{43E}\u{432}\u{44B}\u{435} \u{43E}\u{431}\u{440}\u{430}\u{437}\u{446}\u{44B}`,dropzoneLabel:"DropZone",selectPlaceholder:`\u{412}\u{44B}\u{431}\u{435}\u{440}\u{438}\u{442}\u{435} \u{44D}\u{43B}\u{435}\u{43C}\u{435}\u{43D}\u{442}`,tableResizer:`\u{421}\u{440}\u{435}\u{434}\u{441}\u{442}\u{432}\u{43E} \u{438}\u{437}\u{43C}\u{435}\u{43D}\u{435}\u{43D}\u{438}\u{44F} \u{440}\u{430}\u{437}\u{43C}\u{435}\u{440}\u{430}`},"sk-SK":{colorSwatchPicker:`Vzorkovn\xedky farieb`,dropzoneLabel:"DropZone",selectPlaceholder:`Vyberte polo\u{17E}ku`,tableResizer:`N\xe1stroj na zmenu ve\u{13E}kosti`},"sl-SI":{colorSwatchPicker:"Barvne palete",dropzoneLabel:"DropZone",selectPlaceholder:"Izberite element",tableResizer:"Spreminjanje velikosti"},"sr-SP":{colorSwatchPicker:"Uzorci boje",dropzoneLabel:"DropZone",selectPlaceholder:"Izaberite stavku",tableResizer:`Promena veli\u{10D}ine`},"sv-SE":{colorSwatchPicker:`F\xe4rgrutor`,dropzoneLabel:"DropZone",selectPlaceholder:`V\xe4lj en artikel`,tableResizer:`Storleks\xe4ndrare`},"tr-TR":{colorSwatchPicker:`Renk \xf6rnekleri`,dropzoneLabel:`B\u{131}rakma B\xf6lgesi`,selectPlaceholder:`Bir \xf6\u{11F}e se\xe7in`,tableResizer:`Yeniden boyutland\u{131}r\u{131}c\u{131}`},"uk-UA":{colorSwatchPicker:`\u{417}\u{440}\u{430}\u{437}\u{43A}\u{438} \u{43A}\u{43E}\u{43B}\u{44C}\u{43E}\u{440}\u{456}\u{432}`,dropzoneLabel:"DropZone",selectPlaceholder:`\u{412}\u{438}\u{431}\u{435}\u{440}\u{456}\u{442}\u{44C} \u{435}\u{43B}\u{435}\u{43C}\u{435}\u{43D}\u{442}`,tableResizer:`\u{417}\u{430}\u{441}\u{456}\u{431} \u{437}\u{43C}\u{456}\u{43D}\u{435}\u{43D}\u{43D}\u{44F} \u{440}\u{43E}\u{437}\u{43C}\u{456}\u{440}\u{443}`},"zh-CN":{colorSwatchPicker:`\u{989C}\u{8272}\u{8272}\u{677F}`,dropzoneLabel:`\u{653E}\u{7F6E}\u{533A}\u{57DF}`,selectPlaceholder:`\u{9009}\u{62E9}\u{4E00}\u{4E2A}\u{9879}\u{76EE}`,tableResizer:`\u{5C3A}\u{5BF8}\u{8C03}\u{6574}\u{5668}`},"zh-TW":{colorSwatchPicker:`\u{8272}\u{7968}`,dropzoneLabel:`\u{653E}\u{7F6E}\u{5340}`,selectPlaceholder:`\u{9078}\u{53D6}\u{9805}\u{76EE}`,tableResizer:`\u{5927}\u{5C0F}\u{8ABF}\u{6574}\u{5668}`}},e.s(["default",()=>a],37923);var t=e.i(91247),r=e.i(71645);function s(e,a){let s=(0,r.useRef)(!0),l=(0,r.useRef)(null),n=(0,t.useEffectEvent)(e);(0,r.useEffect)(()=>(s.current=!0,()=>{s.current=!1}),[]),(0,r.useEffect)(()=>{let e=l.current;s.current?s.current=!1:(!e||a.some((a,t)=>!Object.is(a,e[t])))&&n(),l.current=a},a)}e.s(["useUpdateEffect",()=>s],68806)},41906,e=>{"use strict";var a=e.i(71645);let t=({size:e=24,color:t="currentColor",...r})=>a.createElement("svg",{viewBox:"0 0 24 24",width:e,height:e,stroke:t,strokeWidth:"2",fill:"none",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",...r},a.createElement("path",{d:"M20 6 9 17l-5-5"}));t.displayName="Check",e.s(["Check",()=>t])},40713,e=>{"use strict";var a=e.i(43476),t=e.i(75174),r=e.i(38199),s=e.i(62542),l=e.i(21850),n=e.i(72395);let i=e=>`url(data:image/svg+xml;base64,${btoa(`<svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M10 2L2 10" stroke="${e}" stroke-linecap="round"/><path d="M11 7L7 11" stroke="${e}" stroke-linecap="round"/></svg>`)})`,o=({className:e,...r})=>(0,a.jsx)(t.TextArea,{...r,style:{"--resize-handle-bg":i("#D5D7DA"),"--resize-handle-bg-dark":i("#373A41")},className:a=>(0,n.cx)("w-full scroll-py-3 rounded-lg bg-primary px-3.5 py-3 text-md text-primary shadow-xs ring-1 ring-primary transition duration-100 ease-linear ring-inset placeholder:text-placeholder autofill:rounded-lg autofill:text-primary focus:outline-hidden","[&::-webkit-resizer]:bg-(image:--resize-handle-bg) [&::-webkit-resizer]:bg-contain dark:[&::-webkit-resizer]:bg-(image:--resize-handle-bg-dark)",a.isFocused&&!a.isDisabled&&"ring-2 ring-brand",a.isDisabled&&"cursor-not-allowed bg-disabled_subtle text-disabled ring-disabled",a.isInvalid&&"ring-error_subtle",a.isInvalid&&a.isFocused&&"ring-2 ring-error","function"==typeof e?e(a):e)});o.displayName="TextAreaBase";let d=({label:e,hint:t,tooltip:i,textAreaRef:d,hideRequiredIndicator:c,textAreaClassName:u,placeholder:m,className:x,rows:p,cols:h,...f})=>(0,a.jsx)(r.TextField,{...f,className:e=>(0,n.cx)("group flex h-max w-full flex-col items-start justify-start gap-1.5","function"==typeof x?x(e):x),children:({isInvalid:r,isRequired:n})=>(0,a.jsxs)(a.Fragment,{children:[e&&(0,a.jsx)(l.Label,{isRequired:c?!c:n,tooltip:i,children:e}),(0,a.jsx)(o,{placeholder:m,className:u,ref:d,rows:p,cols:h}),t&&(0,a.jsx)(s.HintText,{isInvalid:r,children:t})]})});d.displayName="TextArea",e.s(["TextArea",0,d])},36903,e=>{"use strict";var a=e.i(43476),t=e.i(47209),r=e.i(57793),s=e.i(10031),l=e.i(40713),n=e.i(67269),i=e.i(23905),o=e.i(3358),d=e.i(71645),c=e.i(18279),u=e.i(66181);function m(){let{token:e,user:s,getMe:l}=(0,u.useAuth)(),[n,i]=(0,d.useState)(!0),o=(0,d.useMemo)(()=>new Intl.NumberFormat("en-IN"),[]),[m,b]=(0,d.useState)([]),[v,j]=(0,d.useState)([]),[N,w]=(0,d.useState)("Creator"),[C,D]=(0,d.useState)("");(0,d.useEffect)(()=>{let a=!0;return(async()=>{try{if(!s?.username)return;let t=await c.api.get(`/users/${s.username}/payments`,{token:e});if(!a)return;let r=window.location.origin,n=(t.data?.payments||[]).map(e=>({id:String(e.paymentId),date:new Date(e.createdAt).toLocaleDateString(),brand:String(e.brand||"—"),service:String(e.purpose||"—"),amount:Number(e.amount||0),mode:"UPI",status:"paid"===e.status?"received":"pending",url:`${r}/pay/${String(e.paymentId)}`}));b(n);let i=await c.api.get(`/users/${s.username}/offers`,{token:e}),o=(i.data?.offers||[]).map(e=>({id:String(e._id),title:e.title}));j(o);try{let e=await l();if(!a)return;w(e.name||s.username),D(e.upi||"")}catch{}}catch{}finally{i(!1)}})(),()=>{a=!1}},[s?.username,e]);let P=(0,d.useMemo)(()=>{let e=new Date,a=e.getMonth(),t=e.getFullYear(),r=e=>"number"==typeof e?e:0,s=m.filter(e=>"received"===e.status).reduce((e,a)=>e+r(a.amount),0);return{received:s,pending:m.filter(e=>"pending"===e.status).reduce((e,a)=>e+r(a.amount),0),month:m.filter(e=>{try{let r=e.date.split(" ");return new Date(`${r[1]} ${r[0]} ${t}`).getMonth()===a}catch{return!1}}).filter(e=>"received"===e.status).reduce((e,a)=>e+r(a.amount),0)}},[m]),k={received:"success",pending:"warning"},[z,S]=(0,d.useState)(!1),[B,I]=(0,d.useState)({brand:"",service:"Reel Promo",amount:void 0,mode:"UPI",txId:"",date:new Date().toLocaleDateString(void 0,{day:"2-digit",month:"short"}),status:"received",proofUrl:void 0,notes:""});(0,d.useRef)(null);let R=v.map(e=>({id:e.id,label:e.title}))??[{id:"Custom",label:"Custom purpose"}],A={name:N,upiIds:[C||""]},[E,L]=(0,d.useState)(!1),[_,$]=(0,d.useState)({amount:void 0,service:"Reel Promo",purpose:"Instagram Reel Promotion",payer:"",note:"",method:"UPI",upiId:A.upiIds[0]}),[T,F]=(0,d.useState)(null),[O,M]=(0,d.useState)(!1),[U,Z]=(0,d.useState)(null),[V,K]=(0,d.useState)(!1),[G,q]=(0,d.useState)(null),[H,W]=(0,d.useState)(!1),[Y,J]=(0,d.useState)(null),[Q,X]=(0,d.useState)({amount:void 0,mode:"UPI",txId:"",date:new Date().toLocaleDateString(void 0,{day:"2-digit",month:"short"}),proofUrl:void 0,notes:""}),[ee,ea]=(0,d.useState)(!1),[et,er]=(0,d.useState)(null),[es,el]=(0,d.useState)(null),en=(0,d.useRef)(null),ei=e=>{en.current&&(window.clearTimeout(en.current),en.current=null),el(e),en.current=window.setTimeout(()=>{el(null),en.current=null},2e3)};return(0,a.jsxs)("section",{className:"flex min-h-screen flex-col lg:pl-[300px]",children:[(0,a.jsx)("div",{className:" top-0 z-10 px-4 md:px-8 pt-6 pb-4",children:(0,a.jsx)("div",{className:"w-full max-w-8xl",children:(0,a.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-3",children:[(0,a.jsxs)("div",{className:"flex min-w-0 flex-col gap-1",children:[(0,a.jsx)("h1",{className:"text-lg md:text-display-sm font-semibold text-primary md:truncate",children:"Payments"}),(0,a.jsx)("p",{className:"text-sm md:text-md text-tertiary md:truncate",children:"Track and manage your payments"})]}),(0,a.jsxs)("div",{className:"mt-3 md:mt-0 grid grid-cols-1 gap-2 md:flex md:items-center md:gap-2 md:shrink-0",children:[(0,a.jsx)(t.Button,{className:"w-full md:w-auto flex-none",size:"sm",color:"secondary",onClick:()=>L(!0),children:"+ Generate Payment Request"}),(0,a.jsx)(t.Button,{className:"w-full md:w-auto flex-none",size:"sm",color:"secondary",onClick:()=>S(!0),children:"+ Add Payment (Manual)"})]})]})})}),(0,a.jsx)("div",{className:"flex-1 min-h-0 overflow-y-auto overscroll-contain px-4 md:px-8 pt-8 pb-12",children:(0,a.jsx)("div",{className:"w-full max-w-8xl",children:n?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 mb-6",children:[0,1,2].map(e=>(0,a.jsxs)("div",{className:"rounded-2xl bg-primary p-4 md:p-5 shadow-xs ring-1 ring-secondary_alt",children:[(0,a.jsx)("div",{className:"h-3 w-24 bg-primary_hover animate-pulse rounded"}),(0,a.jsx)("div",{className:"mt-3 h-6 w-32 bg-primary_hover animate-pulse rounded"})]},e))}),(0,a.jsxs)("div",{className:"rounded-2xl bg-primary p-0 shadow-xs ring-1 ring-secondary_alt hidden md:block",children:[(0,a.jsx)("div",{className:"grid grid-cols-[1fr_2fr_2fr_1fr_1fr_auto] gap-3 px-4 py-2",children:[0,1,2,3,4,5].map(e=>(0,a.jsx)("div",{className:"h-3 bg-primary_hover animate-pulse rounded"},e))}),(0,a.jsx)("ul",{className:"divide-y divide-secondary",children:[...Array(6)].map((e,t)=>(0,a.jsxs)("li",{className:"grid grid-cols-[1fr_2fr_2fr_1fr_1fr_auto] gap-3 px-4 py-3",children:[(0,a.jsx)("div",{className:"h-4 bg-primary_hover animate-pulse rounded"}),(0,a.jsx)("div",{className:"h-4 bg-primary_hover animate-pulse rounded"}),(0,a.jsx)("div",{className:"h-4 bg-primary_hover animate-pulse rounded"}),(0,a.jsx)("div",{className:"h-4 bg-primary_hover animate-pulse rounded"}),(0,a.jsx)("div",{className:"h-4 bg-primary_hover animate-pulse rounded"}),(0,a.jsx)("div",{className:"h-6 w-20 bg-primary_hover animate-pulse rounded justify-self-end"})]},t))})]}),(0,a.jsx)("div",{className:"md:hidden",children:(0,a.jsx)("ul",{className:"flex flex-col gap-3",children:[...Array(6)].map((e,t)=>(0,a.jsx)("li",{className:"rounded-2xl bg-primary px-4 py-4 shadow-xs ring-1 ring-secondary_alt",children:(0,a.jsxs)("div",{className:"flex items-start justify-between gap-3",children:[(0,a.jsxs)("div",{className:"min-w-0",children:[(0,a.jsx)("div",{className:"h-3 w-20 bg-primary_hover animate-pulse rounded"}),(0,a.jsx)("div",{className:"mt-2 h-4 w-40 bg-primary_hover animate-pulse rounded"}),(0,a.jsx)("div",{className:"mt-1 h-3 w-32 bg-primary_hover animate-pulse rounded"})]}),(0,a.jsxs)("div",{className:"flex flex-col items-end gap-2 shrink-0",children:[(0,a.jsx)("div",{className:"h-4 w-24 bg-primary_hover animate-pulse rounded"}),(0,a.jsx)("div",{className:"h-5 w-16 bg-primary_hover animate-pulse rounded"})]})]})},t))})})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 mb-6",children:[(0,a.jsxs)("div",{className:"rounded-2xl bg-primary p-4 md:p-5 shadow-xs ring-1 ring-secondary_alt",children:[(0,a.jsx)("p",{className:"text-xs font-medium uppercase tracking-wide text-secondary",children:"Total Received"}),(0,a.jsxs)("p",{className:"text-display-sm font-semibold text-primary",children:["₹",o.format(P.received)]})]}),(0,a.jsxs)("div",{className:"rounded-2xl bg-primary p-4 md:p-5 shadow-xs ring-1 ring-secondary_alt",children:[(0,a.jsx)("p",{className:"text-xs font-medium uppercase tracking-wide text-secondary",children:"Total Pending"}),(0,a.jsxs)("p",{className:"text-display-sm font-semibold text-primary",children:["₹",o.format(P.pending)]})]}),(0,a.jsxs)("div",{className:"rounded-2xl bg-primary p-4 md:p-5 shadow-xs ring-1 ring-secondary_alt",children:[(0,a.jsx)("p",{className:"text-xs font-medium uppercase tracking-wide text-secondary",children:"This Month"}),(0,a.jsxs)("p",{className:"text-display-sm font-semibold text-primary",children:["₹",o.format(P.month)]})]})]}),(0,a.jsxs)("div",{className:"rounded-2xl bg-primary p-0 shadow-xs ring-1 ring-secondary_alt hidden md:block",children:[(0,a.jsxs)("div",{className:"grid grid-cols-[1fr_2fr_2fr_1fr_1fr_auto] items-center gap-3 px-4 py-2 text-xs font-medium uppercase tracking-wide text-secondary",children:[(0,a.jsx)("div",{children:"Date"}),(0,a.jsx)("div",{children:"Brand / Payer"}),(0,a.jsx)("div",{children:"Service"}),(0,a.jsx)("div",{children:"Amount"}),(0,a.jsx)("div",{children:"Mode"}),(0,a.jsx)("div",{className:"justify-self-end",children:"Status"})]}),(0,a.jsx)("ul",{className:"divide-y divide-secondary",children:m.map(e=>(0,a.jsxs)("li",{className:"grid grid-cols-[1fr_2fr_2fr_1fr_1fr_auto] items-center gap-3 px-4 py-3 hover:bg-primary_hover cursor-pointer",onClick:()=>{er(e),ea(!0)},children:[(0,a.jsx)("div",{className:"text-sm text-secondary",children:e.date}),(0,a.jsx)("div",{className:"truncate text-md font-medium text-primary",children:e.brand}),(0,a.jsx)("div",{className:"truncate text-sm text-tertiary",children:e.service}),(0,a.jsxs)("div",{className:"truncate text-sm text-primary",children:["₹",o.format(e.amount)]}),(0,a.jsx)("div",{className:"truncate text-sm text-tertiary",children:e.mode}),(0,a.jsx)("div",{className:"justify-self-end flex items-center gap-2",children:(0,a.jsx)(r.Badge,{size:"sm",color:k[e.status],children:"received"===e.status?"Received":"Pending"})})]},e.id))})]}),(0,a.jsx)("div",{className:"md:hidden",children:(0,a.jsx)("ul",{className:"flex flex-col gap-3",children:m.map(e=>(0,a.jsxs)("li",{className:"rounded-2xl bg-primary px-4 py-4 shadow-xs ring-1 ring-secondary_alt active:scale-[0.99]",onClick:()=>{er(e),ea(!0)},children:[(0,a.jsxs)("div",{className:"flex items-start justify-between gap-3",children:[(0,a.jsxs)("div",{className:"min-w-0",children:[(0,a.jsx)("p",{className:"text-sm text-secondary",children:e.date}),(0,a.jsx)("p",{className:"truncate text-md font-semibold text-primary",children:e.brand}),(0,a.jsx)("p",{className:"truncate text-sm text-tertiary",children:e.service})]}),(0,a.jsxs)("div",{className:"flex flex-col items-end gap-1 shrink-0",children:[(0,a.jsxs)("p",{className:"text-sm font-medium text-primary",children:["₹",o.format(e.amount)]}),(0,a.jsx)(r.Badge,{size:"sm",color:k[e.status],children:"received"===e.status?"Received":"Pending"})]})]}),(0,a.jsxs)("div",{className:"mt-3 flex items-center justify-between",children:[(0,a.jsx)("p",{className:"text-xs text-secondary",children:e.mode}),(0,a.jsx)("p",{className:"text-xs text-secondary",children:"Tap to view"})]})]},e.id))})})]})})}),(0,a.jsx)(x,{isOpen:z,onOpenChange:S,draft:B,setDraft:I,onSave:async()=>{if(B.brand.trim()&&B.service.trim()&&"number"==typeof B.amount)try{if(!s?.username||!e)throw Error("unauthorized");let a=(await c.api.post(`/users/${s.username}/payments`,{brand:B.brand.trim(),service:B.service.trim(),amount:B.amount,mode:B.mode,txId:B.txId||null,date:B.date,status:B.status,notes:B.notes||null},{token:e})).payment,t={id:a.id,date:a.date,brand:a.brand,service:a.service,amount:a.amount,mode:a.mode,status:a.status,txId:a.txId||void 0};b(e=>[t,...e])}catch{}finally{S(!1)}}}),(0,a.jsx)(p,{isOpen:E,onOpenChange:e=>{L(e),e||F(null)},draft:_,setDraft:$,offerOptions:R,creator:A,generatedLink:T,notify:ei,onGenerate:async()=>{if("number"==typeof _.amount&&_.amount&&_.purpose.trim())try{if(!s?.username||!e)throw Error("unauthorized");let a=(await c.api.post(`/users/${s.username}/payments`,{amount:_.amount,offerId:_.service,brand:(_.payer||"").trim(),notes:(_.note||"").trim(),purpose:_.purpose.trim()},{token:e})).data.payment;F(a.url),b(e=>[{id:a.id,date:new Date().toLocaleDateString(),brand:a.brand||"—",service:a.purpose||"—",amount:a.amount,mode:"UPI",status:"paid"===a.status?"received":"pending",url:a.url},...e]),Z({amount:a.amount,purpose:_.purpose,payer:_.payer}),M(!0),L(!1)}catch{}}}),(0,a.jsx)(y,{isOpen:O,onOpenChange:e=>M(e),details:U}),G&&(0,a.jsx)(g,{isOpen:V,onOpenChange:e=>K(e),payment:G,creator:A,onDownload:()=>{if(!G)return;let e=`<!doctype html><html><head><meta charset="utf-8"/><title>Payment Receipt</title><style>body{font-family:system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif;padding:24px;color:#111}h1{font-size:20px;margin:0 0 8px}h2{font-size:14px;margin:16px 0 6px;color:#555}table{width:100%;border-collapse:collapse}td{padding:8px;border-bottom:1px solid #eee}footer{margin-top:16px;font-size:12px;color:#666}</style></head><body><h1>Payment Receipt (Non-Tax)</h1><table><tr><td>Creator</td><td>${A.name}</td></tr><tr><td>Brand / Payer</td><td>${G.brand||""}</td></tr><tr><td>Service</td><td>${G.service}</td></tr><tr><td>Amount</td><td>₹${o.format(G.amount)}</td></tr><tr><td>Date</td><td>${G.date}</td></tr><tr><td>Payment mode</td><td>${G.mode}</td></tr>${G.txId?`<tr><td>Transaction ID</td><td>${G.txId}</td></tr>`:""}</table><footer>Generated by INFLU • This is a payment receipt, not a tax invoice.</footer></body></html>`,a=window.open("","_blank");a&&(a.document.write(e),a.document.close(),a.focus(),a.print())},onShare:async()=>{if(!G)return;let e=`Payment Receipt (Non-Tax)
Creator: ${A.name}
Payer: ${G.brand||""}
Service: ${G.service}
Amount: ₹${o.format(G.amount)}
Date: ${G.date}
Mode: ${G.mode}${G.txId?`
Transaction ID: ${G.txId}`:""}`;try{navigator.share?(await navigator.share({title:"Payment Receipt",text:e}),ei("Share sheet opened")):(await navigator.clipboard.writeText(e),ei("Text copied"))}catch(e){ei("Sharing failed")}}}),(0,a.jsx)(h,{isOpen:ee,onOpenChange:e=>ea(e),payment:et,notify:ei,onRecord:e=>{e&&(J(e.id),X(a=>({...a,amount:e.amount})),W(!0))},onViewReceipt:e=>{e&&(q(e),K(!0))}}),(0,a.jsx)(f,{isOpen:H,onOpenChange:e=>W(e),draft:Q,setDraft:X,onSave:async()=>{if(Y)try{if(!s?.username||!e)throw Error("unauthorized");let a=(await c.api.patch(`/users/${s.username}/payments/${Y}`,{amount:"number"==typeof Q.amount?Q.amount:void 0,mode:Q.mode,txId:Q.txId||null,date:Q.date,status:"received",proofUrl:Q.proofUrl||null,notes:Q.notes||null},{token:e})).payment;b(e=>e.map(e=>e.id===Y?{id:a.id,date:a.date,brand:a.brand,service:a.service,amount:a.amount,mode:a.mode,status:a.status,txId:a.txId||void 0,proofUrl:a.proofUrl||void 0}:e))}catch{}finally{W(!1),J(null)}}}),es&&(0,a.jsx)("div",{className:"fixed bottom-6 left-1/2 z-[9999] -translate-x-1/2 rounded-full bg-primary px-4 py-2 shadow-xs ring-1 ring-secondary_alt",children:(0,a.jsx)("span",{className:"text-sm font-medium text-primary",children:es})})]})}function x({isOpen:e,onOpenChange:r,draft:c,setDraft:u,onSave:m}){let x=(0,d.useRef)(null);return(0,a.jsxs)(i.DialogTrigger,{isOpen:e,onOpenChange:r,children:[(0,a.jsx)("span",{slot:"trigger"}),(0,a.jsx)(o.ModalOverlay,{isDismissable:!0,className:({isEntering:e,isExiting:a})=>`fixed inset-0 z-50 bg-overlay/40 backdrop-blur-sm ${e?"duration-150 ease-out animate-in fade-in":""} ${a?"duration-100 ease-in animate-out fade-out":""}`,children:({state:e})=>(0,a.jsx)(o.Modal,{className:"w-full cursor-auto",children:(0,a.jsxs)(i.Dialog,{"aria-label":"Add payment",className:"ml-auto h-dvh w-full max-w-md overflow-y-auto rounded-none bg-primary shadow-xl ring-1 ring-secondary_alt focus:outline-hidden",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between border-b border-secondary px-4 py-3",children:[(0,a.jsx)("h2",{className:"text-lg font-semibold text-primary",children:"Add Payment"}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(t.Button,{size:"sm",color:"secondary",onClick:m,children:"Save Payment"}),(0,a.jsx)(t.Button,{size:"sm",onClick:()=>e.close(),children:"Cancel"})]})]}),(0,a.jsxs)("div",{className:"flex flex-col gap-6 px-4 py-4",children:[(0,a.jsxs)("div",{className:"flex min-w-0 flex-col gap-2",children:[(0,a.jsx)("h3",{className:"text-md font-semibold text-primary",children:"Payment Info"}),(0,a.jsx)(s.Input,{label:"Brand / Payer name",placeholder:"required",value:c.brand,onChange:e=>u(a=>({...a,brand:e}))}),(0,a.jsx)(s.Input,{label:"Service",placeholder:"e.g. Reel Promo",value:c.service,onChange:e=>u(a=>({...a,service:e}))}),(0,a.jsx)(s.Input,{label:"Amount (₹)",type:"number",inputMode:"numeric",placeholder:"required",value:"number"==typeof c.amount?String(c.amount):"",onChange:e=>u(a=>({...a,amount:e?Number(e):void 0}))}),(0,a.jsx)(n.Select,{size:"md",label:"Payment mode",items:[{id:"UPI",label:"UPI"},{id:"Bank",label:"Bank transfer"},{id:"Cash",label:"Cash"},{id:"Other",label:"Other"}],selectedKey:c.mode,onSelectionChange:e=>u(a=>({...a,mode:String(e)})),children:e=>(0,a.jsx)(n.Select.Item,{id:e.id,children:e.label})})]}),(0,a.jsxs)("div",{className:"flex min-w-0 flex-col gap-2",children:[(0,a.jsx)("h3",{className:"text-md font-semibold text-primary",children:"Transaction Details"}),(0,a.jsx)(s.Input,{label:"Transaction ID",placeholder:"optional",value:c.txId||"",onChange:e=>u(a=>({...a,txId:e}))}),(0,a.jsx)(s.Input,{label:"Date of payment",placeholder:"e.g. 12 Dec",value:c.date,onChange:e=>u(a=>({...a,date:e}))}),(0,a.jsx)(n.Select,{size:"md",label:"Status",items:[{id:"received",label:"Received"},{id:"pending",label:"Pending"}],selectedKey:c.status,onSelectionChange:e=>u(a=>({...a,status:String(e)})),children:e=>(0,a.jsx)(n.Select.Item,{id:e.id,children:e.label})})]}),(0,a.jsxs)("div",{className:"flex min-w-0 flex-col gap-2",children:[(0,a.jsx)("h3",{className:"text-md font-semibold text-primary",children:"Proof (Optional)"}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(t.Button,{size:"sm",color:"secondary",onClick:()=>x.current?.click(),children:"Upload screenshot / PDF"}),(0,a.jsx)("input",{ref:x,type:"file",accept:"image/*,application/pdf",className:"hidden",onChange:e=>{let a=e.target.files?.[0];a&&u(e=>({...e,proofUrl:a.name}))}})]}),(0,a.jsx)(l.TextArea,{label:"Notes",rows:3,value:c.notes||"",onChange:e=>u(a=>({...a,notes:e}))})]})]})]})})})]})}function p({isOpen:e,onOpenChange:r,draft:c,setDraft:u,offerOptions:m,creator:x,generatedLink:p,notify:h,onGenerate:f}){return(0,d.useRef)(null),(0,a.jsxs)(i.DialogTrigger,{isOpen:e,onOpenChange:r,children:[(0,a.jsx)("span",{slot:"trigger"}),(0,a.jsx)(o.ModalOverlay,{isDismissable:!0,className:({isEntering:e,isExiting:a})=>`fixed inset-0 z-50 bg-overlay/40 backdrop-blur-sm ${e?"duration-150 ease-out animate-in fade-in":""} ${a?"duration-100 ease-in animate-out fade-out":""}`,children:({state:e})=>(0,a.jsx)(o.Modal,{className:"w-full cursor-auto",children:(0,a.jsxs)(i.Dialog,{"aria-label":"Generate payment request",className:"ml-auto h-dvh w-full max-w-md overflow-y-auto rounded-none bg-primary shadow-xl ring-1 ring-secondary_alt focus:outline-hidden",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between border-b border-secondary px-4 py-3",children:[(0,a.jsx)("h2",{className:"text-lg font-semibold text-primary",children:"Generate Payment Request"}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(t.Button,{size:"sm",color:"secondary",onClick:f,children:"Generate Link"}),(0,a.jsx)(t.Button,{size:"sm",onClick:()=>e.close(),children:"Close"})]})]}),(0,a.jsxs)("div",{className:"flex flex-col gap-6 px-4 py-4",children:[(0,a.jsxs)("div",{className:"flex min-w-0 flex-col gap-2",children:[(0,a.jsx)("h3",{className:"text-md font-semibold text-primary",children:"Amount"}),(0,a.jsx)(s.Input,{label:"Amount (₹)",type:"number",inputMode:"numeric",placeholder:"required",value:"number"==typeof c.amount?String(c.amount):"",onChange:e=>u(a=>({...a,amount:e?Number(e):void 0}))}),(0,a.jsx)("div",{className:"flex flex-wrap items-center gap-2",children:[1e3,5e3,1e4].map(e=>(0,a.jsxs)(t.Button,{size:"sm",color:"secondary",onClick:()=>u(a=>({...a,amount:e})),children:["₹",e.toLocaleString("en-IN")]},e))})]}),(0,a.jsxs)("div",{className:"flex min-w-0 flex-col gap-2",children:[(0,a.jsx)("h3",{className:"text-md font-semibold text-primary",children:"Payment For"}),(0,a.jsx)(n.Select,{size:"md",label:"Service",items:m,selectedKey:c.service,onSelectionChange:e=>{let a=String(e),t=m.find(e=>e.id===a);u(e=>({...e,service:a,purpose:"Custom"===a?e.purpose:t?.label||a}))},children:e=>(0,a.jsx)(n.Select.Item,{id:e.id,children:e.label})}),(0,a.jsx)(s.Input,{label:"Purpose",placeholder:"e.g. Instagram Reel Promotion",value:c.purpose,onChange:e=>u(a=>({...a,purpose:e}))})]}),(0,a.jsxs)("div",{className:"flex min-w-0 flex-col gap-2",children:[(0,a.jsx)("h3",{className:"text-md font-semibold text-primary",children:"Payer Details (Optional)"}),(0,a.jsx)(s.Input,{label:"Brand / Payer name",placeholder:"optional",value:c.payer||"",onChange:e=>u(a=>({...a,payer:e}))}),(0,a.jsx)(l.TextArea,{label:"Note",rows:3,placeholder:"Advance for January campaign",value:c.note||"",onChange:e=>u(a=>({...a,note:e}))})]}),(0,a.jsxs)("div",{className:"flex min-w-0 flex-col gap-2",children:[(0,a.jsx)("h3",{className:"text-md font-semibold text-primary",children:"Payment Method"}),(0,a.jsx)(s.Input,{label:"Method",isDisabled:!0,value:c.method,onChange:()=>{}}),(0,a.jsx)(s.Input,{label:"UPI ID",isDisabled:!0,value:x.upiIds[0],onChange:()=>{}})]})]})]})})})]})}function h({isOpen:e,onOpenChange:r,payment:l,notify:n,onRecord:d,onViewReceipt:c}){let u=window.location.origin,m=l?`${u}/pay/${l.id}`:"",x=l?`Payment request for ₹${l.amount.toLocaleString("en-IN")} — ${l.service}`:"",p=async e=>{try{if(navigator.clipboard&&navigator.clipboard.writeText)return await navigator.clipboard.writeText(e),!0}catch{}try{let a=window.Blob||Blob;if(navigator.clipboard&&navigator.clipboard.write&&a){let t=new window.ClipboardItem({"text/plain":new a([e],{type:"text/plain"})});return await navigator.clipboard.write([t]),!0}}catch{}try{let a=document.createElement("textarea");a.value=e,a.setAttribute("readonly",""),a.style.position="fixed",a.style.top="0",a.style.left="0",a.style.width="1px",a.style.height="1px",a.style.opacity="0",a.style.pointerEvents="none",document.body.appendChild(a),a.focus(),a.select(),a.setSelectionRange(0,a.value.length);let t=document.execCommand("copy");if(document.body.removeChild(a),t)return!0}catch{}return!1};return(0,a.jsxs)(i.DialogTrigger,{isOpen:e,onOpenChange:r,children:[(0,a.jsx)("span",{slot:"trigger"}),(0,a.jsx)(o.ModalOverlay,{isDismissable:!0,className:({isEntering:e,isExiting:a})=>`fixed inset-0 z-50 bg-overlay/40 backdrop-blur-sm ${e?"duration-150 ease-out animate-in fade-in":""} ${a?"duration-100 ease-in animate-out fade-out":""}`,children:({state:e})=>(0,a.jsx)(o.Modal,{className:"w-full cursor-auto",children:(0,a.jsxs)(i.Dialog,{"aria-label":"Payment details",className:"ml-auto h-dvh w-full max-w-md overflow-y-auto rounded-none bg-primary shadow-xl ring-1 ring-secondary_alt focus:outline-hidden",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between border-b border-secondary px-4 py-3",children:[(0,a.jsx)("h2",{className:"text-lg font-semibold text-primary",children:"Payment Details"}),(0,a.jsx)("div",{className:"flex items-center gap-2",children:(0,a.jsx)(t.Button,{size:"sm",onClick:()=>e.close(),children:"Close"})})]}),(0,a.jsxs)("div",{className:"flex flex-col gap-6 px-4 py-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-xs text-secondary",children:"Brand / Payer"}),(0,a.jsx)("p",{className:"text-sm text-primary",children:l?.brand||""})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-xs text-secondary",children:"Service"}),(0,a.jsx)("p",{className:"text-sm text-primary",children:l?.service||""})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-xs text-secondary",children:"Amount"}),(0,a.jsxs)("p",{className:"text-sm text-primary",children:["₹",l?l.amount.toLocaleString("en-IN"):"0"]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-xs text-secondary",children:"Mode"}),(0,a.jsx)("p",{className:"text-sm text-primary",children:l?.mode||""})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-xs text-secondary",children:"Status"}),(0,a.jsx)("p",{className:"text-sm text-primary",children:l?"received"===l.status?"Received":"Pending":""})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-xs text-secondary",children:"Date"}),(0,a.jsx)("p",{className:"text-sm text-primary",children:l?.date||""})]})]}),(0,a.jsx)(s.Input,{label:"Generated Link",isDisabled:!0,value:m,onChange:()=>{}}),(0,a.jsxs)("div",{className:"flex flex-wrap items-center gap-2",children:[(0,a.jsx)(t.Button,{size:"sm",color:"secondary",isDisabled:!l,onClick:()=>{let e=`${x}
${m}`;console.log(e),p(e).then(a=>{if(a)n("Text copied");else try{window.prompt("Copy text",e),n("Text ready to copy")}catch{n("Copy failed")}})},children:"Copy Link"}),(0,a.jsx)(t.Button,{size:"sm",color:"secondary",isDisabled:!l,onClick:()=>{let e=`https://wa.me/?text=${encodeURIComponent(`${x}
${m}`)}`;window.open(e,"_blank")},children:"Share on WhatsApp"}),(0,a.jsx)(t.Button,{size:"sm",color:"secondary",isDisabled:!l,onClick:async()=>{try{navigator.share?(await navigator.share({title:"Payment Request",text:x,url:m}),n("Share sheet opened")):(await navigator.clipboard.writeText(`${x}
${m}`),n("Link copied"))}catch{n("Sharing failed")}},children:"Share Anywhere"})]}),(0,a.jsxs)("div",{className:"flex min-w-0 flex-col gap-3",children:[(0,a.jsx)("h3",{className:"text-md font-semibold text-primary",children:"Actions"}),(0,a.jsxs)("div",{className:"flex flex-wrap items-center gap-2",children:[(0,a.jsx)(t.Button,{size:"sm",color:"secondary",isDisabled:!l,onClick:()=>d(l),children:"Record as Received"}),(0,a.jsx)(t.Button,{size:"sm",color:"secondary",isDisabled:!l,onClick:()=>c(l),children:"View Receipt"})]})]})]})]})})})]})}function f({isOpen:e,onOpenChange:r,draft:c,setDraft:u,onSave:m}){let x=(0,d.useRef)(null);return(0,a.jsxs)(i.DialogTrigger,{isOpen:e,onOpenChange:r,children:[(0,a.jsx)("span",{slot:"trigger"}),(0,a.jsx)(o.ModalOverlay,{isDismissable:!0,className:({isEntering:e,isExiting:a})=>`fixed inset-0 z-50 bg-overlay/40 backdrop-blur-sm ${e?"duration-150 ease-out animate-in fade-in":""} ${a?"duration-100 ease-in animate-out fade-out":""}`,children:({state:e})=>(0,a.jsx)(o.Modal,{className:"w-full cursor-auto",children:(0,a.jsxs)(i.Dialog,{"aria-label":"Record payment",className:"ml-auto h-dvh w-full max-w-md overflow-y-auto rounded-none bg-primary shadow-xl ring-1 ring-secondary_alt focus:outline-hidden",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between border-b border-secondary px-4 py-3",children:[(0,a.jsx)("h2",{className:"text-lg font-semibold text-primary",children:"Record Payment"}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(t.Button,{size:"sm",color:"secondary",onClick:m,children:"Mark as Received"}),(0,a.jsx)(t.Button,{size:"sm",onClick:()=>e.close(),children:"Cancel"})]})]}),(0,a.jsxs)("div",{className:"flex flex-col gap-6 px-4 py-4",children:[(0,a.jsxs)("div",{className:"flex min-w-0 flex-col gap-2",children:[(0,a.jsx)(s.Input,{label:"Amount (₹)",type:"number",inputMode:"numeric",placeholder:"required",value:"number"==typeof c.amount?String(c.amount):"",onChange:e=>u(a=>({...a,amount:e?Number(e):void 0}))}),(0,a.jsx)(n.Select,{size:"md",label:"Payment mode",items:[{id:"UPI",label:"UPI"},{id:"Bank",label:"Bank transfer"},{id:"Cash",label:"Cash"},{id:"Other",label:"Other"}],selectedKey:c.mode,onSelectionChange:e=>u(a=>({...a,mode:String(e)})),children:e=>(0,a.jsx)(n.Select.Item,{id:e.id,children:e.label})}),(0,a.jsx)(s.Input,{label:"Transaction ID",placeholder:"optional",value:c.txId||"",onChange:e=>u(a=>({...a,txId:e}))}),(0,a.jsx)(s.Input,{label:"Date of payment",placeholder:"e.g. 12 Dec",value:c.date,onChange:e=>u(a=>({...a,date:e}))})]}),(0,a.jsxs)("div",{className:"flex min-w-0 flex-col gap-2",children:[(0,a.jsx)("h3",{className:"text-md font-semibold text-primary",children:"Proof (Optional)"}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(t.Button,{size:"sm",color:"secondary",onClick:()=>x.current?.click(),children:"Upload screenshot / PDF"}),(0,a.jsx)("input",{ref:x,type:"file",accept:"image/*,application/pdf",className:"hidden",onChange:e=>{let a=e.target.files?.[0];a&&u(e=>({...e,proofUrl:a.name}))}})]}),(0,a.jsx)(l.TextArea,{label:"Notes",rows:3,value:c.notes||"",onChange:e=>u(a=>({...a,notes:e}))})]})]})]})})})]})}function g({isOpen:e,onOpenChange:r,payment:s,creator:l,onDownload:n,onShare:d}){return(0,a.jsxs)(i.DialogTrigger,{isOpen:e,onOpenChange:r,children:[(0,a.jsx)("span",{slot:"trigger"}),(0,a.jsx)(o.ModalOverlay,{isDismissable:!0,className:({isEntering:e,isExiting:a})=>`fixed inset-0 z-50 bg-overlay/40 backdrop-blur-sm ${e?"duration-150 ease-out animate-in fade-in":""} ${a?"duration-100 ease-in animate-out fade-out":""}`,children:({state:e})=>(0,a.jsx)(o.Modal,{className:"w-full cursor-auto",children:(0,a.jsxs)(i.Dialog,{"aria-label":"Payment receipt",className:"ml-auto h-dvh w-full max-w-md overflow-y-auto rounded-none bg-primary shadow-xl ring-1 ring-secondary_alt focus:outline-hidden",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between border-b border-secondary px-4 py-3",children:[(0,a.jsx)("h2",{className:"text-lg font-semibold text-primary",children:"Payment Receipt"}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(t.Button,{size:"sm",color:"secondary",onClick:n,children:"Download PDF"}),(0,a.jsx)(t.Button,{size:"sm",color:"secondary",onClick:d,children:"Share"}),(0,a.jsx)(t.Button,{size:"sm",onClick:()=>e.close(),children:"Close"})]})]}),(0,a.jsx)("div",{className:"flex flex-col gap-4 px-4 py-4",children:(0,a.jsxs)("div",{className:"rounded-xl ring-1 ring-secondary_alt p-4",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-primary",children:"Payment Receipt (Non-Tax)"}),(0,a.jsxs)("div",{className:"mt-3 grid grid-cols-2 gap-3",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-xs text-secondary",children:"Creator"}),(0,a.jsx)("p",{className:"text-sm text-primary",children:l.name})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-xs text-secondary",children:"Brand / Payer"}),(0,a.jsx)("p",{className:"text-sm text-primary",children:s.brand||""})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-xs text-secondary",children:"Service"}),(0,a.jsx)("p",{className:"text-sm text-primary",children:s.service})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-xs text-secondary",children:"Amount"}),(0,a.jsxs)("p",{className:"text-sm text-primary",children:["₹",new Intl.NumberFormat("en-IN").format(s.amount)]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-xs text-secondary",children:"Date"}),(0,a.jsx)("p",{className:"text-sm text-primary",children:s.date})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-xs text-secondary",children:"Payment mode"}),(0,a.jsx)("p",{className:"text-sm text-primary",children:s.mode})]}),s.txId&&(0,a.jsxs)("div",{className:"col-span-2",children:[(0,a.jsx)("p",{className:"text-xs text-secondary",children:"Transaction ID"}),(0,a.jsx)("p",{className:"text-sm text-primary",children:s.txId})]})]})]})})]})})})]})}function y({isOpen:e,onOpenChange:r,details:s}){return(0,a.jsxs)(i.DialogTrigger,{isOpen:e,onOpenChange:r,children:[(0,a.jsx)("span",{slot:"trigger"}),(0,a.jsx)(o.ModalOverlay,{isDismissable:!0,className:({isEntering:e,isExiting:a})=>`fixed inset-0 z-50 bg-overlay/40 backdrop-blur-sm ${e?"duration-150 ease-out animate-in fade-in":""} ${a?"duration-100 ease-in animate-out fade-out":""}`,children:({state:e})=>(0,a.jsx)(o.Modal,{className:"w-full h-dvh cursor-auto grid place-items-center",children:(0,a.jsxs)(i.Dialog,{"aria-label":"New Payment Link Generated",className:"w-[min(92vw,520px)] overflow-hidden rounded-2xl bg-primary shadow-2xl ring-1 ring-secondary_alt focus:outline-hidden",children:[(0,a.jsx)("div",{className:"border-b border-secondary px-5 py-4",children:(0,a.jsx)("h2",{className:"text-lg font-semibold text-primary text-center",children:"New Payment Link Generated"})}),(0,a.jsxs)("div",{className:"px-5 py-5",children:[s?(0,a.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-xs text-secondary",children:"Amount"}),(0,a.jsxs)("p",{className:"text-sm text-primary",children:["₹",new Intl.NumberFormat("en-IN").format(s.amount)]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-xs text-secondary",children:"Purpose"}),(0,a.jsx)("p",{className:"text-sm text-primary",children:s.purpose})]})]}),s.payer?(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-xs text-secondary",children:"Payer"}),(0,a.jsx)("p",{className:"text-sm text-primary",children:s.payer})]}):null,(0,a.jsx)("p",{className:"text-xs text-secondary mt-2",children:"The table has been updated. You can share the link from the payment’s details pane."})]}):(0,a.jsx)("p",{className:"text-sm text-primary text-center",children:"The payment has been created."}),(0,a.jsx)("div",{className:"mt-5 flex justify-center",children:(0,a.jsx)(t.Button,{size:"sm",onClick:()=>e.close(),children:"Close"})})]})]})})})]})}e.s(["default",()=>m])}]);