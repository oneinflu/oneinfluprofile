(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,40713,e=>{"use strict";var t=e.i(43476),a=e.i(75174),i=e.i(38199),s=e.i(62542),r=e.i(21850),n=e.i(72395);let l=e=>`url(data:image/svg+xml;base64,${btoa(`<svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M10 2L2 10" stroke="${e}" stroke-linecap="round"/><path d="M11 7L7 11" stroke="${e}" stroke-linecap="round"/></svg>`)})`,d=({className:e,...i})=>(0,t.jsx)(a.TextArea,{...i,style:{"--resize-handle-bg":l("#D5D7DA"),"--resize-handle-bg-dark":l("#373A41")},className:t=>(0,n.cx)("w-full scroll-py-3 rounded-lg bg-primary px-3.5 py-3 text-md text-primary shadow-xs ring-1 ring-primary transition duration-100 ease-linear ring-inset placeholder:text-placeholder autofill:rounded-lg autofill:text-primary focus:outline-hidden","[&::-webkit-resizer]:bg-(image:--resize-handle-bg) [&::-webkit-resizer]:bg-contain dark:[&::-webkit-resizer]:bg-(image:--resize-handle-bg-dark)",t.isFocused&&!t.isDisabled&&"ring-2 ring-brand",t.isDisabled&&"cursor-not-allowed bg-disabled_subtle text-disabled ring-disabled",t.isInvalid&&"ring-error_subtle",t.isInvalid&&t.isFocused&&"ring-2 ring-error","function"==typeof e?e(t):e)});d.displayName="TextAreaBase";let o=({label:e,hint:a,tooltip:l,textAreaRef:o,hideRequiredIndicator:c,textAreaClassName:m,placeholder:u,className:x,rows:p,cols:h,...g})=>(0,t.jsx)(i.TextField,{...g,className:e=>(0,n.cx)("group flex h-max w-full flex-col items-start justify-start gap-1.5","function"==typeof x?x(e):x),children:({isInvalid:i,isRequired:n})=>(0,t.jsxs)(t.Fragment,{children:[e&&(0,t.jsx)(r.Label,{isRequired:c?!c:n,tooltip:l,children:e}),(0,t.jsx)(d,{placeholder:u,className:m,ref:o,rows:p,cols:h}),a&&(0,t.jsx)(s.HintText,{isInvalid:i,children:a})]})});o.displayName="TextArea",e.s(["TextArea",0,o])},3358,e=>{"use strict";e.i(47167);var t=e.i(24099),a=e.i(23905),i=e.i(54453),s=e.i(71331),r=e.i(63985),n=e.i(58825),l=e.i(37681),d=e.i(50179),o=e.i(71645),c=e.i(60623),m=e.i(97547),u=e.i(36836),x=e.i(99848);let p="undefined"!=typeof document&&window.visualViewport;function h(){return{width:p?p.width*p.scale:window.innerWidth,height:p?p.height*p.scale:window.innerHeight}}var g=e.i(62789),y=e.i(69080),f=e.i(82179),v=e.i(53930);let b=(0,o.createContext)(null),j=(0,o.createContext)(null),w=(0,o.forwardRef)(function(e,t){if((0,o.useContext)(j))return o.default.createElement(S,{...e,modalRef:t},e.children);let{isDismissable:a,isKeyboardDismissDisabled:i,isOpen:s,defaultOpen:r,onOpenChange:n,children:l,isEntering:d,isExiting:c,UNSTABLE_portalContainer:m,shouldCloseOnInteractOutside:u,...x}=e;return o.default.createElement(N,{isDismissable:a,isKeyboardDismissDisabled:i,isOpen:s,defaultOpen:r,onOpenChange:n,isEntering:d,isExiting:c,UNSTABLE_portalContainer:m,shouldCloseOnInteractOutside:u},o.default.createElement(S,{...x,modalRef:t},l))}),N=(0,o.forwardRef)(function(e,s){[e,s]=(0,t.useContextProps)(e,s,b);let r=(0,o.useContext)(a.OverlayTriggerStateContext),n=(0,v.useOverlayTriggerState)(e),l=null==e.isOpen&&null==e.defaultOpen&&r?r:n,d=(0,m.useObjectRef)(s),c=(0,o.useRef)(null),x=(0,u.useExitAnimation)(d,l.isOpen),p=(0,u.useExitAnimation)(c,l.isOpen),h=x||p||e.isExiting||!1,g=(0,i.useIsSSR)();return(l.isOpen||h)&&!g?o.default.createElement(C,{...e,state:l,isExiting:h,overlayRef:d,modalRef:c}):null});function C({UNSTABLE_portalContainer:e,...c}){let m,f=c.modalRef,{state:v}=c,{modalProps:b,underlayProps:w}=function(e,t,a){let{overlayProps:i,underlayProps:c}=(0,r.useOverlay)({...e,isOpen:t.isOpen,onClose:t.close},a);return(0,l.usePreventScroll)({isDisabled:!t.isOpen}),(0,n.useOverlayFocusContain)(),(0,o.useEffect)(()=>{if(t.isOpen&&a.current)return(0,s.ariaHideOutside)([a.current],{shouldUseInert:!0})},[t.isOpen,a]),{modalProps:(0,d.mergeProps)(i),underlayProps:c}}(c,v,f),N=(0,u.useEnterAnimation)(c.overlayRef)||c.isEntering||!1,C=(0,t.useRenderProps)({...c,defaultClassName:"react-aria-ModalOverlay",values:{isEntering:N,isExiting:c.isExiting,state:v}}),S=function(){let e=(0,i.useIsSSR)(),[t,a]=(0,o.useState)(()=>e?{width:0,height:0}:h());return(0,o.useEffect)(()=>{let e,t=()=>{p&&p.scale>1||a(e=>{let t=h();return t.width===e.width&&t.height===e.height?e:t})},i=t=>{p&&p.scale>1||(0,x.willOpenKeyboard)(t.target)&&(e=requestAnimationFrame(()=>{document.activeElement&&(0,x.willOpenKeyboard)(document.activeElement)||a(e=>{let t={width:window.innerWidth,height:window.innerHeight};return t.width===e.width&&t.height===e.height?e:t})}))};return window.addEventListener("blur",i,!0),p?p.addEventListener("resize",t):window.addEventListener("resize",t),()=>{cancelAnimationFrame(e),window.removeEventListener("blur",i,!0),p?p.removeEventListener("resize",t):window.removeEventListener("resize",t)}},[]),t}();if("undefined"!=typeof document){let e=(0,g.isScrollable)(document.body)?document.body:document.scrollingElement||document.documentElement,t=e.getBoundingClientRect().height%1;m=e.scrollHeight-t}let I={...C.style,"--visual-viewport-height":S.height+"px","--page-height":void 0!==m?m+"px":void 0};return o.default.createElement(n.Overlay,{isExiting:c.isExiting,portalContainer:e},o.default.createElement("div",{...(0,d.mergeProps)((0,y.filterDOMProps)(c,{global:!0}),w),...C,style:I,ref:c.overlayRef,"data-entering":N||void 0,"data-exiting":c.isExiting||void 0},o.default.createElement(t.Provider,{values:[[j,{modalProps:b,modalRef:f,isExiting:c.isExiting,isDismissable:c.isDismissable}],[a.OverlayTriggerStateContext,v]]},C.children)))}function S(e){let{modalProps:i,modalRef:s,isExiting:r,isDismissable:n}=(0,o.useContext)(j),l=(0,o.useContext)(a.OverlayTriggerStateContext),x=(0,o.useMemo)(()=>(0,f.mergeRefs)(e.modalRef,s),[e.modalRef,s]),p=(0,m.useObjectRef)(x),h=(0,u.useEnterAnimation)(p),g=(0,t.useRenderProps)({...e,defaultClassName:"react-aria-Modal",values:{isEntering:h,isExiting:r,state:l}});return o.default.createElement("div",{...(0,d.mergeProps)((0,y.filterDOMProps)(e,{global:!0}),i),...g,ref:p,"data-entering":h||void 0,"data-exiting":r||void 0},n&&o.default.createElement(c.DismissButton,{onDismiss:l.close}),g.children)}e.s(["Modal",()=>w,"ModalOverlay",()=>N],3358)},57793,e=>{"use strict";var t=e.i(43476);e.i(71645);var a=e.i(72395);let i="pill-color",s="color",r="modern",n={gray:{root:"bg-utility-gray-50 text-utility-gray-700 ring-utility-gray-200",addon:"text-utility-gray-500",addonButton:"hover:bg-utility-gray-100 text-utility-gray-400 hover:text-utility-gray-500"},brand:{root:"bg-utility-brand-50 text-utility-brand-700 ring-utility-brand-200",addon:"text-utility-brand-500",addonButton:"hover:bg-utility-brand-100 text-utility-brand-400 hover:text-utility-brand-500"},error:{root:"bg-utility-error-50 text-utility-error-700 ring-utility-error-200",addon:"text-utility-error-500",addonButton:"hover:bg-utility-error-100 text-utility-error-400 hover:text-utility-error-500"},warning:{root:"bg-utility-warning-50 text-utility-warning-700 ring-utility-warning-200",addon:"text-utility-warning-500",addonButton:"hover:bg-utility-warning-100 text-utility-warning-400 hover:text-utility-warning-500"},success:{root:"bg-utility-success-50 text-utility-success-700 ring-utility-success-200",addon:"text-utility-success-500",addonButton:"hover:bg-utility-success-100 text-utility-success-400 hover:text-utility-success-500"},"gray-blue":{root:"bg-utility-gray-blue-50 text-utility-gray-blue-700 ring-utility-gray-blue-200",addon:"text-utility-gray-blue-500",addonButton:"hover:bg-utility-gray-blue-100 text-utility-gray-blue-400 hover:text-utility-gray-blue-500"},"blue-light":{root:"bg-utility-blue-light-50 text-utility-blue-light-700 ring-utility-blue-light-200",addon:"text-utility-blue-light-500",addonButton:"hover:bg-utility-blue-light-100 text-utility-blue-light-400 hover:text-utility-blue-light-500"},blue:{root:"bg-utility-blue-50 text-utility-blue-700 ring-utility-blue-200",addon:"text-utility-blue-500",addonButton:"hover:bg-utility-blue-100 text-utility-blue-400 hover:text-utility-blue-500"},indigo:{root:"bg-utility-indigo-50 text-utility-indigo-700 ring-utility-indigo-200",addon:"text-utility-indigo-500",addonButton:"hover:bg-utility-indigo-100 text-utility-indigo-400 hover:text-utility-indigo-500"},purple:{root:"bg-utility-purple-50 text-utility-purple-700 ring-utility-purple-200",addon:"text-utility-purple-500",addonButton:"hover:bg-utility-purple-100 text-utility-purple-400 hover:text-utility-purple-500"},pink:{root:"bg-utility-pink-50 text-utility-pink-700 ring-utility-pink-200",addon:"text-utility-pink-500",addonButton:"hover:bg-utility-pink-100 text-utility-pink-400 hover:text-utility-pink-500"},orange:{root:"bg-utility-orange-50 text-utility-orange-700 ring-utility-orange-200",addon:"text-utility-orange-500",addonButton:"hover:bg-utility-orange-100 text-utility-orange-400 hover:text-utility-orange-500"}},l=Object.fromEntries(Object.entries(n).map(([e,t])=>[e,{root:"",addon:t.addon}])),d={[i]:{common:"size-max flex items-center whitespace-nowrap rounded-full ring-1 ring-inset",styles:n},[s]:{common:"size-max flex items-center whitespace-nowrap rounded-md ring-1 ring-inset",styles:n},[r]:{common:"size-max flex items-center whitespace-nowrap rounded-md ring-1 ring-inset shadow-xs",styles:{gray:{root:"bg-primary text-secondary ring-primary",addon:"text-gray-500",addonButton:"hover:bg-utility-gray-100 text-utility-gray-400 hover:text-utility-gray-500"}}}},o={[i]:{common:"size-max flex items-center whitespace-nowrap rounded-full ring-1 ring-inset",styles:n},[s]:{common:"size-max flex items-center whitespace-nowrap rounded-md ring-1 ring-inset",styles:n},[r]:{common:"size-max flex items-center whitespace-nowrap rounded-md ring-1 ring-inset bg-primary text-secondary ring-primary shadow-xs",styles:l}};e.s(["Badge",0,e=>{let{type:n="pill-color",size:l="md",color:o="gray",children:c}=e,m=d[n],u={sm:"py-0.5 px-1.5 text-xs font-medium",md:"py-0.5 px-2 text-sm font-medium",lg:"py-1 px-2.5 text-sm font-medium rounded-lg"};return(0,t.jsx)("span",{className:(0,a.cx)(m.common,{[i]:{sm:"py-0.5 px-2 text-xs font-medium",md:"py-0.5 px-2.5 text-sm font-medium",lg:"py-1 px-3 text-sm font-medium"},[s]:u,[r]:u}[n][l],m.styles[o].root,e.className),children:c})},"BadgeWithIcon",0,e=>{let{size:n="md",color:l="gray",type:d="pill-color",iconLeading:c,iconTrailing:m,children:u,className:x}=e,p=o[d],h=c?"leading":"trailing",g={sm:{trailing:"gap-0.5 py-0.5 pl-2 pr-1.5 text-xs font-medium",leading:"gap-0.5 py-0.5 pr-2 pl-1.5 text-xs font-medium"},md:{trailing:"gap-1 py-0.5 pl-2 pr-1.5 text-sm font-medium",leading:"gap-1 py-0.5 pr-2 pl-1.5 text-sm font-medium"},lg:{trailing:"gap-1 py-1 pl-2.5 pr-2 text-sm font-medium rounded-lg",leading:"gap-1 py-1 pr-2.5 pl-2 text-sm font-medium rounded-lg"}};return(0,t.jsxs)("span",{className:(0,a.cx)(p.common,{[i]:{sm:{trailing:"gap-0.5 py-0.5 pl-2 pr-1.5 text-xs font-medium",leading:"gap-0.5 py-0.5 pr-2 pl-1.5 text-xs font-medium"},md:{trailing:"gap-1 py-0.5 pl-2.5 pr-2 text-sm font-medium",leading:"gap-1 py-0.5 pr-2.5 pl-2 text-sm font-medium"},lg:{trailing:"gap-1 py-1 pl-3 pr-2.5 text-sm font-medium",leading:"gap-1 py-1 pr-3 pl-2.5 text-sm font-medium"}},[s]:g,[r]:g}[d][n][h],p.styles[l].root,x),children:[c&&(0,t.jsx)(c,{className:(0,a.cx)(p.styles[l].addon,"size-3 stroke-3")}),u,m&&(0,t.jsx)(m,{className:(0,a.cx)(p.styles[l].addon,"size-3 stroke-3")})]})}],57793)},36903,e=>{"use strict";var t=e.i(43476),a=e.i(47209),i=e.i(57793),s=e.i(10031),r=e.i(40713),n=e.i(67269),l=e.i(23905),d=e.i(3358),o=e.i(71645),c=e.i(18279),m=e.i(66181);function u(){let{token:e,user:s,getMe:r}=(0,m.useAuth)(),[n,l]=(0,o.useState)(!0),d=(0,o.useMemo)(()=>new Intl.NumberFormat("en-IN"),[]),[u,v]=(0,o.useState)([]),[b,j]=(0,o.useState)([]),[w,N]=(0,o.useState)("Creator"),[C,S]=(0,o.useState)("");(0,o.useEffect)(()=>{let t=!0;return(async()=>{try{if(!s?.username)return;let a=await c.api.get(`/users/${s.username}/payments`,{token:e});if(!t)return;let i=window.location.origin,n=(a.data?.payments||[]).map(e=>({id:String(e.paymentId),date:new Date(e.createdAt).toLocaleDateString(),brand:String(e.brand||"—"),service:String(e.purpose||"—"),amount:Number(e.amount||0),mode:"UPI",status:"paid"===e.status?"received":"pending",url:`${i}/pay/${String(e.paymentId)}`}));v(n);let l=await c.api.get(`/users/${s.username}/offers`,{token:e}),d=(l.data?.offers||[]).map(e=>({id:String(e._id),title:e.title}));j(d);try{let e=await r();if(!t)return;N(e.name||s.username),S(e.upi||"")}catch{}}catch{}finally{l(!1)}})(),()=>{t=!1}},[s?.username,e]);let I=(0,o.useMemo)(()=>{let e=new Date,t=e.getMonth(),a=e.getFullYear(),i=e=>"number"==typeof e?e:0,s=u.filter(e=>"received"===e.status).reduce((e,t)=>e+i(t.amount),0);return{received:s,pending:u.filter(e=>"pending"===e.status).reduce((e,t)=>e+i(t.amount),0),month:u.filter(e=>{try{let i=e.date.split(" ");return new Date(`${i[1]} ${i[0]} ${a}`).getMonth()===t}catch{return!1}}).filter(e=>"received"===e.status).reduce((e,t)=>e+i(t.amount),0)}},[u]),P={received:"success",pending:"warning"},[D,O]=(0,o.useState)(!1),[k,z]=(0,o.useState)({brand:"",service:"Reel Promo",amount:void 0,mode:"UPI",txId:"",date:new Date().toLocaleDateString(void 0,{day:"2-digit",month:"short"}),status:"received",proofUrl:void 0,notes:""});(0,o.useRef)(null);let R=b.map(e=>({id:e.id,label:e.title}))??[{id:"Custom",label:"Custom purpose"}],_={name:w,upiIds:[C||""]},[B,E]=(0,o.useState)(!1),[T,$]=(0,o.useState)({amount:void 0,service:"Reel Promo",purpose:"Instagram Reel Promotion",payer:"",note:"",method:"UPI",upiId:_.upiIds[0]}),[A,M]=(0,o.useState)(null),[U,L]=(0,o.useState)(!1),[F,q]=(0,o.useState)(null),[K,G]=(0,o.useState)(!1),[H,W]=(0,o.useState)(null),[V,Y]=(0,o.useState)(!1),[J,Q]=(0,o.useState)(null),[X,Z]=(0,o.useState)({amount:void 0,mode:"UPI",txId:"",date:new Date().toLocaleDateString(void 0,{day:"2-digit",month:"short"}),proofUrl:void 0,notes:""}),[ee,et]=(0,o.useState)(!1),[ea,ei]=(0,o.useState)(null),[es,er]=(0,o.useState)(null),en=(0,o.useRef)(null),el=e=>{en.current&&(window.clearTimeout(en.current),en.current=null),er(e),en.current=window.setTimeout(()=>{er(null),en.current=null},2e3)};return(0,t.jsxs)("section",{className:"flex min-h-screen flex-col lg:pl-[300px]",children:[(0,t.jsx)("div",{className:" top-0 z-10 px-4 md:px-8 pt-6 pb-4",children:(0,t.jsx)("div",{className:"w-full max-w-8xl",children:(0,t.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-3",children:[(0,t.jsxs)("div",{className:"flex min-w-0 flex-col gap-1",children:[(0,t.jsx)("h1",{className:"text-lg md:text-display-sm font-semibold text-primary md:truncate",children:"Payments"}),(0,t.jsx)("p",{className:"text-sm md:text-md text-tertiary md:truncate",children:"Track and manage your payments"})]}),(0,t.jsxs)("div",{className:"mt-3 md:mt-0 grid grid-cols-1 gap-2 md:flex md:items-center md:gap-2 md:shrink-0",children:[(0,t.jsx)(a.Button,{className:"w-full md:w-auto flex-none",size:"sm",color:"secondary",onClick:()=>E(!0),children:"+ Generate Payment Request"}),(0,t.jsx)(a.Button,{className:"w-full md:w-auto flex-none",size:"sm",color:"secondary",onClick:()=>O(!0),children:"+ Add Payment (Manual)"})]})]})})}),(0,t.jsx)("div",{className:"flex-1 min-h-0 overflow-y-auto overscroll-contain px-4 md:px-8 pt-8 pb-12",children:(0,t.jsx)("div",{className:"w-full max-w-8xl",children:n?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 mb-6",children:[0,1,2].map(e=>(0,t.jsxs)("div",{className:"rounded-2xl bg-primary p-4 md:p-5 shadow-xs ring-1 ring-secondary_alt",children:[(0,t.jsx)("div",{className:"h-3 w-24 bg-primary_hover animate-pulse rounded"}),(0,t.jsx)("div",{className:"mt-3 h-6 w-32 bg-primary_hover animate-pulse rounded"})]},e))}),(0,t.jsxs)("div",{className:"rounded-2xl bg-primary p-0 shadow-xs ring-1 ring-secondary_alt hidden md:block",children:[(0,t.jsx)("div",{className:"grid grid-cols-[1fr_2fr_2fr_1fr_1fr_auto] gap-3 px-4 py-2",children:[0,1,2,3,4,5].map(e=>(0,t.jsx)("div",{className:"h-3 bg-primary_hover animate-pulse rounded"},e))}),(0,t.jsx)("ul",{className:"divide-y divide-secondary",children:[...Array(6)].map((e,a)=>(0,t.jsxs)("li",{className:"grid grid-cols-[1fr_2fr_2fr_1fr_1fr_auto] gap-3 px-4 py-3",children:[(0,t.jsx)("div",{className:"h-4 bg-primary_hover animate-pulse rounded"}),(0,t.jsx)("div",{className:"h-4 bg-primary_hover animate-pulse rounded"}),(0,t.jsx)("div",{className:"h-4 bg-primary_hover animate-pulse rounded"}),(0,t.jsx)("div",{className:"h-4 bg-primary_hover animate-pulse rounded"}),(0,t.jsx)("div",{className:"h-4 bg-primary_hover animate-pulse rounded"}),(0,t.jsx)("div",{className:"h-6 w-20 bg-primary_hover animate-pulse rounded justify-self-end"})]},a))})]}),(0,t.jsx)("div",{className:"md:hidden",children:(0,t.jsx)("ul",{className:"flex flex-col gap-3",children:[...Array(6)].map((e,a)=>(0,t.jsx)("li",{className:"rounded-2xl bg-primary px-4 py-4 shadow-xs ring-1 ring-secondary_alt",children:(0,t.jsxs)("div",{className:"flex items-start justify-between gap-3",children:[(0,t.jsxs)("div",{className:"min-w-0",children:[(0,t.jsx)("div",{className:"h-3 w-20 bg-primary_hover animate-pulse rounded"}),(0,t.jsx)("div",{className:"mt-2 h-4 w-40 bg-primary_hover animate-pulse rounded"}),(0,t.jsx)("div",{className:"mt-1 h-3 w-32 bg-primary_hover animate-pulse rounded"})]}),(0,t.jsxs)("div",{className:"flex flex-col items-end gap-2 shrink-0",children:[(0,t.jsx)("div",{className:"h-4 w-24 bg-primary_hover animate-pulse rounded"}),(0,t.jsx)("div",{className:"h-5 w-16 bg-primary_hover animate-pulse rounded"})]})]})},a))})})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 mb-6",children:[(0,t.jsxs)("div",{className:"rounded-2xl bg-primary p-4 md:p-5 shadow-xs ring-1 ring-secondary_alt",children:[(0,t.jsx)("p",{className:"text-xs font-medium uppercase tracking-wide text-secondary",children:"Total Received"}),(0,t.jsxs)("p",{className:"text-display-sm font-semibold text-primary",children:["₹",d.format(I.received)]})]}),(0,t.jsxs)("div",{className:"rounded-2xl bg-primary p-4 md:p-5 shadow-xs ring-1 ring-secondary_alt",children:[(0,t.jsx)("p",{className:"text-xs font-medium uppercase tracking-wide text-secondary",children:"Total Pending"}),(0,t.jsxs)("p",{className:"text-display-sm font-semibold text-primary",children:["₹",d.format(I.pending)]})]}),(0,t.jsxs)("div",{className:"rounded-2xl bg-primary p-4 md:p-5 shadow-xs ring-1 ring-secondary_alt",children:[(0,t.jsx)("p",{className:"text-xs font-medium uppercase tracking-wide text-secondary",children:"This Month"}),(0,t.jsxs)("p",{className:"text-display-sm font-semibold text-primary",children:["₹",d.format(I.month)]})]})]}),(0,t.jsxs)("div",{className:"rounded-2xl bg-primary p-0 shadow-xs ring-1 ring-secondary_alt hidden md:block",children:[(0,t.jsxs)("div",{className:"grid grid-cols-[1fr_2fr_2fr_1fr_1fr_auto] items-center gap-3 px-4 py-2 text-xs font-medium uppercase tracking-wide text-secondary",children:[(0,t.jsx)("div",{children:"Date"}),(0,t.jsx)("div",{children:"Brand / Payer"}),(0,t.jsx)("div",{children:"Service"}),(0,t.jsx)("div",{children:"Amount"}),(0,t.jsx)("div",{children:"Mode"}),(0,t.jsx)("div",{className:"justify-self-end",children:"Status"})]}),(0,t.jsx)("ul",{className:"divide-y divide-secondary",children:u.map(e=>(0,t.jsxs)("li",{className:"grid grid-cols-[1fr_2fr_2fr_1fr_1fr_auto] items-center gap-3 px-4 py-3 hover:bg-primary_hover cursor-pointer",onClick:()=>{ei(e),et(!0)},children:[(0,t.jsx)("div",{className:"text-sm text-secondary",children:e.date}),(0,t.jsx)("div",{className:"truncate text-md font-medium text-primary",children:e.brand}),(0,t.jsx)("div",{className:"truncate text-sm text-tertiary",children:e.service}),(0,t.jsxs)("div",{className:"truncate text-sm text-primary",children:["₹",d.format(e.amount)]}),(0,t.jsx)("div",{className:"truncate text-sm text-tertiary",children:e.mode}),(0,t.jsx)("div",{className:"justify-self-end flex items-center gap-2",children:(0,t.jsx)(i.Badge,{size:"sm",color:P[e.status],children:"received"===e.status?"Received":"Pending"})})]},e.id))})]}),(0,t.jsx)("div",{className:"md:hidden",children:(0,t.jsx)("ul",{className:"flex flex-col gap-3",children:u.map(e=>(0,t.jsxs)("li",{className:"rounded-2xl bg-primary px-4 py-4 shadow-xs ring-1 ring-secondary_alt active:scale-[0.99]",onClick:()=>{ei(e),et(!0)},children:[(0,t.jsxs)("div",{className:"flex items-start justify-between gap-3",children:[(0,t.jsxs)("div",{className:"min-w-0",children:[(0,t.jsx)("p",{className:"text-sm text-secondary",children:e.date}),(0,t.jsx)("p",{className:"truncate text-md font-semibold text-primary",children:e.brand}),(0,t.jsx)("p",{className:"truncate text-sm text-tertiary",children:e.service})]}),(0,t.jsxs)("div",{className:"flex flex-col items-end gap-1 shrink-0",children:[(0,t.jsxs)("p",{className:"text-sm font-medium text-primary",children:["₹",d.format(e.amount)]}),(0,t.jsx)(i.Badge,{size:"sm",color:P[e.status],children:"received"===e.status?"Received":"Pending"})]})]}),(0,t.jsxs)("div",{className:"mt-3 flex items-center justify-between",children:[(0,t.jsx)("p",{className:"text-xs text-secondary",children:e.mode}),(0,t.jsx)("p",{className:"text-xs text-secondary",children:"Tap to view"})]})]},e.id))})})]})})}),(0,t.jsx)(x,{isOpen:D,onOpenChange:O,draft:k,setDraft:z,onSave:async()=>{if(k.brand.trim()&&k.service.trim()&&"number"==typeof k.amount)try{if(!s?.username||!e)throw Error("unauthorized");let t=(await c.api.post(`/users/${s.username}/payments`,{brand:k.brand.trim(),service:k.service.trim(),amount:k.amount,mode:k.mode,txId:k.txId||null,date:k.date,status:k.status,notes:k.notes||null},{token:e})).payment,a={id:t.id,date:t.date,brand:t.brand,service:t.service,amount:t.amount,mode:t.mode,status:t.status,txId:t.txId||void 0};v(e=>[a,...e])}catch{}finally{O(!1)}}}),(0,t.jsx)(p,{isOpen:B,onOpenChange:e=>{E(e),e||M(null)},draft:T,setDraft:$,offerOptions:R,creator:_,generatedLink:A,notify:el,onGenerate:async()=>{if("number"==typeof T.amount&&T.amount&&T.purpose.trim())try{if(!s?.username||!e)throw Error("unauthorized");let t=(await c.api.post(`/users/${s.username}/payments`,{amount:T.amount,offerId:T.service,brand:(T.payer||"").trim(),notes:(T.note||"").trim(),purpose:T.purpose.trim()},{token:e})).data.payment;M(t.url),v(e=>[{id:t.id,date:new Date().toLocaleDateString(),brand:t.brand||"—",service:t.purpose||"—",amount:t.amount,mode:"UPI",status:"paid"===t.status?"received":"pending",url:t.url},...e]),q({amount:t.amount,purpose:T.purpose,payer:T.payer}),L(!0),E(!1)}catch{}}}),(0,t.jsx)(f,{isOpen:U,onOpenChange:e=>L(e),details:F}),H&&(0,t.jsx)(y,{isOpen:K,onOpenChange:e=>G(e),payment:H,creator:_,onDownload:()=>{if(!H)return;let e=`<!doctype html><html><head><meta charset="utf-8"/><title>Payment Receipt</title><style>body{font-family:system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif;padding:24px;color:#111}h1{font-size:20px;margin:0 0 8px}h2{font-size:14px;margin:16px 0 6px;color:#555}table{width:100%;border-collapse:collapse}td{padding:8px;border-bottom:1px solid #eee}footer{margin-top:16px;font-size:12px;color:#666}</style></head><body><h1>Payment Receipt (Non-Tax)</h1><table><tr><td>Creator</td><td>${_.name}</td></tr><tr><td>Brand / Payer</td><td>${H.brand||""}</td></tr><tr><td>Service</td><td>${H.service}</td></tr><tr><td>Amount</td><td>₹${d.format(H.amount)}</td></tr><tr><td>Date</td><td>${H.date}</td></tr><tr><td>Payment mode</td><td>${H.mode}</td></tr>${H.txId?`<tr><td>Transaction ID</td><td>${H.txId}</td></tr>`:""}</table><footer>Generated by INFLU • This is a payment receipt, not a tax invoice.</footer></body></html>`,t=window.open("","_blank");t&&(t.document.write(e),t.document.close(),t.focus(),t.print())},onShare:async()=>{if(!H)return;let e=`Payment Receipt (Non-Tax)
Creator: ${_.name}
Payer: ${H.brand||""}
Service: ${H.service}
Amount: ₹${d.format(H.amount)}
Date: ${H.date}
Mode: ${H.mode}${H.txId?`
Transaction ID: ${H.txId}`:""}`;try{navigator.share?(await navigator.share({title:"Payment Receipt",text:e}),el("Share sheet opened")):(await navigator.clipboard.writeText(e),el("Text copied"))}catch(e){el("Sharing failed")}}}),(0,t.jsx)(h,{isOpen:ee,onOpenChange:e=>et(e),payment:ea,notify:el,onRecord:e=>{e&&(Q(e.id),Z(t=>({...t,amount:e.amount})),Y(!0))},onViewReceipt:e=>{e&&(W(e),G(!0))}}),(0,t.jsx)(g,{isOpen:V,onOpenChange:e=>Y(e),draft:X,setDraft:Z,onSave:async()=>{if(J)try{if(!s?.username||!e)throw Error("unauthorized");let t=(await c.api.patch(`/users/${s.username}/payments/${J}`,{amount:"number"==typeof X.amount?X.amount:void 0,mode:X.mode,txId:X.txId||null,date:X.date,status:"received",proofUrl:X.proofUrl||null,notes:X.notes||null},{token:e})).payment;v(e=>e.map(e=>e.id===J?{id:t.id,date:t.date,brand:t.brand,service:t.service,amount:t.amount,mode:t.mode,status:t.status,txId:t.txId||void 0,proofUrl:t.proofUrl||void 0}:e))}catch{}finally{Y(!1),Q(null)}}}),es&&(0,t.jsx)("div",{className:"fixed bottom-6 left-1/2 z-[9999] -translate-x-1/2 rounded-full bg-primary px-4 py-2 shadow-xs ring-1 ring-secondary_alt",children:(0,t.jsx)("span",{className:"text-sm font-medium text-primary",children:es})})]})}function x({isOpen:e,onOpenChange:i,draft:c,setDraft:m,onSave:u}){let x=(0,o.useRef)(null);return(0,t.jsxs)(l.DialogTrigger,{isOpen:e,onOpenChange:i,children:[(0,t.jsx)("span",{slot:"trigger"}),(0,t.jsx)(d.ModalOverlay,{isDismissable:!0,className:({isEntering:e,isExiting:t})=>`fixed inset-0 z-50 bg-overlay/40 backdrop-blur-sm ${e?"duration-150 ease-out animate-in fade-in":""} ${t?"duration-100 ease-in animate-out fade-out":""}`,children:({state:e})=>(0,t.jsx)(d.Modal,{className:"w-full cursor-auto",children:(0,t.jsxs)(l.Dialog,{"aria-label":"Add payment",className:"ml-auto h-dvh w-full max-w-md overflow-y-auto rounded-none bg-primary shadow-xl ring-1 ring-secondary_alt focus:outline-hidden",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between border-b border-secondary px-4 py-3",children:[(0,t.jsx)("h2",{className:"text-lg font-semibold text-primary",children:"Add Payment"}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(a.Button,{size:"sm",color:"secondary",onClick:u,children:"Save Payment"}),(0,t.jsx)(a.Button,{size:"sm",onClick:()=>e.close(),children:"Cancel"})]})]}),(0,t.jsxs)("div",{className:"flex flex-col gap-6 px-4 py-4",children:[(0,t.jsxs)("div",{className:"flex min-w-0 flex-col gap-2",children:[(0,t.jsx)("h3",{className:"text-md font-semibold text-primary",children:"Payment Info"}),(0,t.jsx)(s.Input,{label:"Brand / Payer name",placeholder:"required",value:c.brand,onChange:e=>m(t=>({...t,brand:e}))}),(0,t.jsx)(s.Input,{label:"Service",placeholder:"e.g. Reel Promo",value:c.service,onChange:e=>m(t=>({...t,service:e}))}),(0,t.jsx)(s.Input,{label:"Amount (₹)",type:"number",inputMode:"numeric",placeholder:"required",value:"number"==typeof c.amount?String(c.amount):"",onChange:e=>m(t=>({...t,amount:e?Number(e):void 0}))}),(0,t.jsx)(n.Select,{size:"md",label:"Payment mode",items:[{id:"UPI",label:"UPI"},{id:"Bank",label:"Bank transfer"},{id:"Cash",label:"Cash"},{id:"Other",label:"Other"}],selectedKey:c.mode,onSelectionChange:e=>m(t=>({...t,mode:String(e)})),children:e=>(0,t.jsx)(n.Select.Item,{id:e.id,children:e.label})})]}),(0,t.jsxs)("div",{className:"flex min-w-0 flex-col gap-2",children:[(0,t.jsx)("h3",{className:"text-md font-semibold text-primary",children:"Transaction Details"}),(0,t.jsx)(s.Input,{label:"Transaction ID",placeholder:"optional",value:c.txId||"",onChange:e=>m(t=>({...t,txId:e}))}),(0,t.jsx)(s.Input,{label:"Date of payment",placeholder:"e.g. 12 Dec",value:c.date,onChange:e=>m(t=>({...t,date:e}))}),(0,t.jsx)(n.Select,{size:"md",label:"Status",items:[{id:"received",label:"Received"},{id:"pending",label:"Pending"}],selectedKey:c.status,onSelectionChange:e=>m(t=>({...t,status:String(e)})),children:e=>(0,t.jsx)(n.Select.Item,{id:e.id,children:e.label})})]}),(0,t.jsxs)("div",{className:"flex min-w-0 flex-col gap-2",children:[(0,t.jsx)("h3",{className:"text-md font-semibold text-primary",children:"Proof (Optional)"}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(a.Button,{size:"sm",color:"secondary",onClick:()=>x.current?.click(),children:"Upload screenshot / PDF"}),(0,t.jsx)("input",{ref:x,type:"file",accept:"image/*,application/pdf",className:"hidden",onChange:e=>{let t=e.target.files?.[0];t&&m(e=>({...e,proofUrl:t.name}))}})]}),(0,t.jsx)(r.TextArea,{label:"Notes",rows:3,value:c.notes||"",onChange:e=>m(t=>({...t,notes:e}))})]})]})]})})})]})}function p({isOpen:e,onOpenChange:i,draft:c,setDraft:m,offerOptions:u,creator:x,generatedLink:p,notify:h,onGenerate:g}){return(0,o.useRef)(null),(0,t.jsxs)(l.DialogTrigger,{isOpen:e,onOpenChange:i,children:[(0,t.jsx)("span",{slot:"trigger"}),(0,t.jsx)(d.ModalOverlay,{isDismissable:!0,className:({isEntering:e,isExiting:t})=>`fixed inset-0 z-50 bg-overlay/40 backdrop-blur-sm ${e?"duration-150 ease-out animate-in fade-in":""} ${t?"duration-100 ease-in animate-out fade-out":""}`,children:({state:e})=>(0,t.jsx)(d.Modal,{className:"w-full cursor-auto",children:(0,t.jsxs)(l.Dialog,{"aria-label":"Generate payment request",className:"ml-auto h-dvh w-full max-w-md overflow-y-auto rounded-none bg-primary shadow-xl ring-1 ring-secondary_alt focus:outline-hidden",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between border-b border-secondary px-4 py-3",children:[(0,t.jsx)("h2",{className:"text-lg font-semibold text-primary",children:"Generate Payment Request"}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(a.Button,{size:"sm",color:"secondary",onClick:g,children:"Generate Link"}),(0,t.jsx)(a.Button,{size:"sm",onClick:()=>e.close(),children:"Close"})]})]}),(0,t.jsxs)("div",{className:"flex flex-col gap-6 px-4 py-4",children:[(0,t.jsxs)("div",{className:"flex min-w-0 flex-col gap-2",children:[(0,t.jsx)("h3",{className:"text-md font-semibold text-primary",children:"Amount"}),(0,t.jsx)(s.Input,{label:"Amount (₹)",type:"number",inputMode:"numeric",placeholder:"required",value:"number"==typeof c.amount?String(c.amount):"",onChange:e=>m(t=>({...t,amount:e?Number(e):void 0}))}),(0,t.jsx)("div",{className:"flex flex-wrap items-center gap-2",children:[1e3,5e3,1e4].map(e=>(0,t.jsxs)(a.Button,{size:"sm",color:"secondary",onClick:()=>m(t=>({...t,amount:e})),children:["₹",e.toLocaleString("en-IN")]},e))})]}),(0,t.jsxs)("div",{className:"flex min-w-0 flex-col gap-2",children:[(0,t.jsx)("h3",{className:"text-md font-semibold text-primary",children:"Payment For"}),(0,t.jsx)(n.Select,{size:"md",label:"Service",items:u,selectedKey:c.service,onSelectionChange:e=>{let t=String(e),a=u.find(e=>e.id===t);m(e=>({...e,service:t,purpose:"Custom"===t?e.purpose:a?.label||t}))},children:e=>(0,t.jsx)(n.Select.Item,{id:e.id,children:e.label})}),(0,t.jsx)(s.Input,{label:"Purpose",placeholder:"e.g. Instagram Reel Promotion",value:c.purpose,onChange:e=>m(t=>({...t,purpose:e}))})]}),(0,t.jsxs)("div",{className:"flex min-w-0 flex-col gap-2",children:[(0,t.jsx)("h3",{className:"text-md font-semibold text-primary",children:"Payer Details (Optional)"}),(0,t.jsx)(s.Input,{label:"Brand / Payer name",placeholder:"optional",value:c.payer||"",onChange:e=>m(t=>({...t,payer:e}))}),(0,t.jsx)(r.TextArea,{label:"Note",rows:3,placeholder:"Advance for January campaign",value:c.note||"",onChange:e=>m(t=>({...t,note:e}))})]}),(0,t.jsxs)("div",{className:"flex min-w-0 flex-col gap-2",children:[(0,t.jsx)("h3",{className:"text-md font-semibold text-primary",children:"Payment Method"}),(0,t.jsx)(s.Input,{label:"Method",isDisabled:!0,value:c.method,onChange:()=>{}}),(0,t.jsx)(s.Input,{label:"UPI ID",isDisabled:!0,value:x.upiIds[0],onChange:()=>{}})]})]})]})})})]})}function h({isOpen:e,onOpenChange:i,payment:r,notify:n,onRecord:o,onViewReceipt:c}){let m=window.location.origin,u=r?`${m}/pay/${r.id}`:"",x=r?`Payment request for ₹${r.amount.toLocaleString("en-IN")} — ${r.service}`:"",p=async e=>{try{if(navigator.clipboard&&navigator.clipboard.writeText)return await navigator.clipboard.writeText(e),!0}catch{}try{let t=window.Blob||Blob;if(navigator.clipboard&&navigator.clipboard.write&&t){let a=new window.ClipboardItem({"text/plain":new t([e],{type:"text/plain"})});return await navigator.clipboard.write([a]),!0}}catch{}try{let t=document.createElement("textarea");t.value=e,t.setAttribute("readonly",""),t.style.position="fixed",t.style.top="0",t.style.left="0",t.style.width="1px",t.style.height="1px",t.style.opacity="0",t.style.pointerEvents="none",document.body.appendChild(t),t.focus(),t.select(),t.setSelectionRange(0,t.value.length);let a=document.execCommand("copy");if(document.body.removeChild(t),a)return!0}catch{}return!1};return(0,t.jsxs)(l.DialogTrigger,{isOpen:e,onOpenChange:i,children:[(0,t.jsx)("span",{slot:"trigger"}),(0,t.jsx)(d.ModalOverlay,{isDismissable:!0,className:({isEntering:e,isExiting:t})=>`fixed inset-0 z-50 bg-overlay/40 backdrop-blur-sm ${e?"duration-150 ease-out animate-in fade-in":""} ${t?"duration-100 ease-in animate-out fade-out":""}`,children:({state:e})=>(0,t.jsx)(d.Modal,{className:"w-full cursor-auto",children:(0,t.jsxs)(l.Dialog,{"aria-label":"Payment details",className:"ml-auto h-dvh w-full max-w-md overflow-y-auto rounded-none bg-primary shadow-xl ring-1 ring-secondary_alt focus:outline-hidden",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between border-b border-secondary px-4 py-3",children:[(0,t.jsx)("h2",{className:"text-lg font-semibold text-primary",children:"Payment Details"}),(0,t.jsx)("div",{className:"flex items-center gap-2",children:(0,t.jsx)(a.Button,{size:"sm",onClick:()=>e.close(),children:"Close"})})]}),(0,t.jsxs)("div",{className:"flex flex-col gap-6 px-4 py-4",children:[(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs text-secondary",children:"Brand / Payer"}),(0,t.jsx)("p",{className:"text-sm text-primary",children:r?.brand||""})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs text-secondary",children:"Service"}),(0,t.jsx)("p",{className:"text-sm text-primary",children:r?.service||""})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs text-secondary",children:"Amount"}),(0,t.jsxs)("p",{className:"text-sm text-primary",children:["₹",r?r.amount.toLocaleString("en-IN"):"0"]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs text-secondary",children:"Mode"}),(0,t.jsx)("p",{className:"text-sm text-primary",children:r?.mode||""})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs text-secondary",children:"Status"}),(0,t.jsx)("p",{className:"text-sm text-primary",children:r?"received"===r.status?"Received":"Pending":""})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs text-secondary",children:"Date"}),(0,t.jsx)("p",{className:"text-sm text-primary",children:r?.date||""})]})]}),(0,t.jsx)(s.Input,{label:"Generated Link",isDisabled:!0,value:u,onChange:()=>{}}),(0,t.jsxs)("div",{className:"flex flex-wrap items-center gap-2",children:[(0,t.jsx)(a.Button,{size:"sm",color:"secondary",isDisabled:!r,onClick:()=>{let e=`${x}
${u}`;console.log(e),p(e).then(t=>{if(t)n("Text copied");else try{window.prompt("Copy text",e),n("Text ready to copy")}catch{n("Copy failed")}})},children:"Copy Link"}),(0,t.jsx)(a.Button,{size:"sm",color:"secondary",isDisabled:!r,onClick:()=>{let e=`https://wa.me/?text=${encodeURIComponent(`${x}
${u}`)}`;window.open(e,"_blank")},children:"Share on WhatsApp"}),(0,t.jsx)(a.Button,{size:"sm",color:"secondary",isDisabled:!r,onClick:async()=>{try{navigator.share?(await navigator.share({title:"Payment Request",text:x,url:u}),n("Share sheet opened")):(await navigator.clipboard.writeText(`${x}
${u}`),n("Link copied"))}catch{n("Sharing failed")}},children:"Share Anywhere"})]}),(0,t.jsxs)("div",{className:"flex min-w-0 flex-col gap-3",children:[(0,t.jsx)("h3",{className:"text-md font-semibold text-primary",children:"Actions"}),(0,t.jsxs)("div",{className:"flex flex-wrap items-center gap-2",children:[(0,t.jsx)(a.Button,{size:"sm",color:"secondary",isDisabled:!r,onClick:()=>o(r),children:"Record as Received"}),(0,t.jsx)(a.Button,{size:"sm",color:"secondary",isDisabled:!r,onClick:()=>c(r),children:"View Receipt"})]})]})]})]})})})]})}function g({isOpen:e,onOpenChange:i,draft:c,setDraft:m,onSave:u}){let x=(0,o.useRef)(null);return(0,t.jsxs)(l.DialogTrigger,{isOpen:e,onOpenChange:i,children:[(0,t.jsx)("span",{slot:"trigger"}),(0,t.jsx)(d.ModalOverlay,{isDismissable:!0,className:({isEntering:e,isExiting:t})=>`fixed inset-0 z-50 bg-overlay/40 backdrop-blur-sm ${e?"duration-150 ease-out animate-in fade-in":""} ${t?"duration-100 ease-in animate-out fade-out":""}`,children:({state:e})=>(0,t.jsx)(d.Modal,{className:"w-full cursor-auto",children:(0,t.jsxs)(l.Dialog,{"aria-label":"Record payment",className:"ml-auto h-dvh w-full max-w-md overflow-y-auto rounded-none bg-primary shadow-xl ring-1 ring-secondary_alt focus:outline-hidden",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between border-b border-secondary px-4 py-3",children:[(0,t.jsx)("h2",{className:"text-lg font-semibold text-primary",children:"Record Payment"}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(a.Button,{size:"sm",color:"secondary",onClick:u,children:"Mark as Received"}),(0,t.jsx)(a.Button,{size:"sm",onClick:()=>e.close(),children:"Cancel"})]})]}),(0,t.jsxs)("div",{className:"flex flex-col gap-6 px-4 py-4",children:[(0,t.jsxs)("div",{className:"flex min-w-0 flex-col gap-2",children:[(0,t.jsx)(s.Input,{label:"Amount (₹)",type:"number",inputMode:"numeric",placeholder:"required",value:"number"==typeof c.amount?String(c.amount):"",onChange:e=>m(t=>({...t,amount:e?Number(e):void 0}))}),(0,t.jsx)(n.Select,{size:"md",label:"Payment mode",items:[{id:"UPI",label:"UPI"},{id:"Bank",label:"Bank transfer"},{id:"Cash",label:"Cash"},{id:"Other",label:"Other"}],selectedKey:c.mode,onSelectionChange:e=>m(t=>({...t,mode:String(e)})),children:e=>(0,t.jsx)(n.Select.Item,{id:e.id,children:e.label})}),(0,t.jsx)(s.Input,{label:"Transaction ID",placeholder:"optional",value:c.txId||"",onChange:e=>m(t=>({...t,txId:e}))}),(0,t.jsx)(s.Input,{label:"Date of payment",placeholder:"e.g. 12 Dec",value:c.date,onChange:e=>m(t=>({...t,date:e}))})]}),(0,t.jsxs)("div",{className:"flex min-w-0 flex-col gap-2",children:[(0,t.jsx)("h3",{className:"text-md font-semibold text-primary",children:"Proof (Optional)"}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(a.Button,{size:"sm",color:"secondary",onClick:()=>x.current?.click(),children:"Upload screenshot / PDF"}),(0,t.jsx)("input",{ref:x,type:"file",accept:"image/*,application/pdf",className:"hidden",onChange:e=>{let t=e.target.files?.[0];t&&m(e=>({...e,proofUrl:t.name}))}})]}),(0,t.jsx)(r.TextArea,{label:"Notes",rows:3,value:c.notes||"",onChange:e=>m(t=>({...t,notes:e}))})]})]})]})})})]})}function y({isOpen:e,onOpenChange:i,payment:s,creator:r,onDownload:n,onShare:o}){return(0,t.jsxs)(l.DialogTrigger,{isOpen:e,onOpenChange:i,children:[(0,t.jsx)("span",{slot:"trigger"}),(0,t.jsx)(d.ModalOverlay,{isDismissable:!0,className:({isEntering:e,isExiting:t})=>`fixed inset-0 z-50 bg-overlay/40 backdrop-blur-sm ${e?"duration-150 ease-out animate-in fade-in":""} ${t?"duration-100 ease-in animate-out fade-out":""}`,children:({state:e})=>(0,t.jsx)(d.Modal,{className:"w-full cursor-auto",children:(0,t.jsxs)(l.Dialog,{"aria-label":"Payment receipt",className:"ml-auto h-dvh w-full max-w-md overflow-y-auto rounded-none bg-primary shadow-xl ring-1 ring-secondary_alt focus:outline-hidden",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between border-b border-secondary px-4 py-3",children:[(0,t.jsx)("h2",{className:"text-lg font-semibold text-primary",children:"Payment Receipt"}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(a.Button,{size:"sm",color:"secondary",onClick:n,children:"Download PDF"}),(0,t.jsx)(a.Button,{size:"sm",color:"secondary",onClick:o,children:"Share"}),(0,t.jsx)(a.Button,{size:"sm",onClick:()=>e.close(),children:"Close"})]})]}),(0,t.jsx)("div",{className:"flex flex-col gap-4 px-4 py-4",children:(0,t.jsxs)("div",{className:"rounded-xl ring-1 ring-secondary_alt p-4",children:[(0,t.jsx)("p",{className:"text-sm font-medium text-primary",children:"Payment Receipt (Non-Tax)"}),(0,t.jsxs)("div",{className:"mt-3 grid grid-cols-2 gap-3",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs text-secondary",children:"Creator"}),(0,t.jsx)("p",{className:"text-sm text-primary",children:r.name})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs text-secondary",children:"Brand / Payer"}),(0,t.jsx)("p",{className:"text-sm text-primary",children:s.brand||""})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs text-secondary",children:"Service"}),(0,t.jsx)("p",{className:"text-sm text-primary",children:s.service})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs text-secondary",children:"Amount"}),(0,t.jsxs)("p",{className:"text-sm text-primary",children:["₹",new Intl.NumberFormat("en-IN").format(s.amount)]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs text-secondary",children:"Date"}),(0,t.jsx)("p",{className:"text-sm text-primary",children:s.date})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs text-secondary",children:"Payment mode"}),(0,t.jsx)("p",{className:"text-sm text-primary",children:s.mode})]}),s.txId&&(0,t.jsxs)("div",{className:"col-span-2",children:[(0,t.jsx)("p",{className:"text-xs text-secondary",children:"Transaction ID"}),(0,t.jsx)("p",{className:"text-sm text-primary",children:s.txId})]})]})]})})]})})})]})}function f({isOpen:e,onOpenChange:i,details:s}){return(0,t.jsxs)(l.DialogTrigger,{isOpen:e,onOpenChange:i,children:[(0,t.jsx)("span",{slot:"trigger"}),(0,t.jsx)(d.ModalOverlay,{isDismissable:!0,className:({isEntering:e,isExiting:t})=>`fixed inset-0 z-50 bg-overlay/40 backdrop-blur-sm ${e?"duration-150 ease-out animate-in fade-in":""} ${t?"duration-100 ease-in animate-out fade-out":""}`,children:({state:e})=>(0,t.jsx)(d.Modal,{className:"w-full h-dvh cursor-auto grid place-items-center",children:(0,t.jsxs)(l.Dialog,{"aria-label":"New Payment Link Generated",className:"w-[min(92vw,520px)] overflow-hidden rounded-2xl bg-primary shadow-2xl ring-1 ring-secondary_alt focus:outline-hidden",children:[(0,t.jsx)("div",{className:"border-b border-secondary px-5 py-4",children:(0,t.jsx)("h2",{className:"text-lg font-semibold text-primary text-center",children:"New Payment Link Generated"})}),(0,t.jsxs)("div",{className:"px-5 py-5",children:[s?(0,t.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs text-secondary",children:"Amount"}),(0,t.jsxs)("p",{className:"text-sm text-primary",children:["₹",new Intl.NumberFormat("en-IN").format(s.amount)]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs text-secondary",children:"Purpose"}),(0,t.jsx)("p",{className:"text-sm text-primary",children:s.purpose})]})]}),s.payer?(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs text-secondary",children:"Payer"}),(0,t.jsx)("p",{className:"text-sm text-primary",children:s.payer})]}):null,(0,t.jsx)("p",{className:"text-xs text-secondary mt-2",children:"The table has been updated. You can share the link from the payment’s details pane."})]}):(0,t.jsx)("p",{className:"text-sm text-primary text-center",children:"The payment has been created."}),(0,t.jsx)("div",{className:"mt-5 flex justify-center",children:(0,t.jsx)(a.Button,{size:"sm",onClick:()=>e.close(),children:"Close"})})]})]})})})]})}e.s(["default",()=>u])}]);