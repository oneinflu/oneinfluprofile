module.exports=[9270,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.AppRouterContext},36313,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.HooksClientContext},18341,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.ServerInsertedHtml},18622,(a,b,c)=>{b.exports=a.x("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js",()=>require("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js"))},56704,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-async-storage.external.js",()=>require("next/dist/server/app-render/work-async-storage.external.js"))},32319,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-unit-async-storage.external.js",()=>require("next/dist/server/app-render/work-unit-async-storage.external.js"))},20635,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/action-async-storage.external.js",()=>require("next/dist/server/app-render/action-async-storage.external.js"))},42602,(a,b,c)=>{"use strict";b.exports=a.r(18622)},87924,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].ReactJsxRuntime},72131,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].React},35112,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].ReactDOM},39668,a=>{"use strict";var b,c=a.i(72131);let d="undefined"!=typeof document?null!=(b=c.default.useInsertionEffect)?b:c.default.useLayoutEffect:()=>{};function e(a,b,e){let[f,g]=(0,c.useState)(a||b),h=(0,c.useRef)(f),i=(0,c.useRef)(void 0!==a),j=void 0!==a;(0,c.useEffect)(()=>{i.current,i.current=j},[j]);let k=j?a:f;d(()=>{h.current=k});let[,l]=(0,c.useReducer)(()=>({}),{});return[k,(0,c.useCallback)((a,...b)=>{let c="function"==typeof a?a(h.current):a;Object.is(h.current,c)||(h.current=c,g(c),l(),null==e||e(c,...b))},[e])]}a.s(["useControlledState",()=>e])},54708,a=>{"use strict";async function b(a,{method:c="GET",body:d,token:e,headers:f={},signal:g}={}){let h=a.startsWith("http")?a:`https://newyearbackendcode-zrp62.ondigitalocean.app/${a}`,i={"Content-Type":"application/json",...f};e&&(i.Authorization=`Bearer ${e}`);let j={method:c,headers:i,signal:g};void 0!==d&&"GET"!==c&&(j.body=JSON.stringify(d));let k=await fetch(h,j),l=k.headers.get("content-type")?.includes("application/json")?await k.json():void 0;if(!k.ok)throw Error(l?.message||l?.error||`HTTP ${k.status}`);return l??{}}a.s(["api",0,{get:(a,c)=>b(a,{...c??{},method:"GET"}),post:(a,c,d)=>b(a,{...d??{},method:"POST",body:c}),patch:(a,c,d)=>b(a,{...d??{},method:"PATCH",body:c}),delete:(a,c)=>b(a,{...c??{},method:"DELETE"})}])},61240,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(54708);let e=(0,c.createContext)(null);function f({children:a}){let[f,g]=(0,c.useState)(null),[h,i]=(0,c.useState)(null);(0,c.useEffect)(()=>{try{let a=localStorage.getItem("influu_token");if(a)return void g(a);let b="undefined"!=typeof document&&document.cookie.split("; ").find(a=>a.startsWith("influu_token="))?.split("=")[1]||null;b&&g(b)}catch{}},[]),(0,c.useEffect)(()=>{let a=!0;return(async()=>{try{if(!f)return;let b=await d.api.get("/users/me",{token:f});if(!a)return;i({id:b.id,username:b.username,email:b.email});try{localStorage.setItem("influu_user_id",b.id)}catch{}}catch{}})(),()=>{a=!1}},[f]);let j=a=>{g(a),a?(localStorage.setItem("influu_token",a),function(a,b,c=7){let d=new Date;d.setTime(d.getTime()+24*c*36e5),document.cookie=`${a}=${b};expires=${d.toUTCString()};path=/`}("influu_token",a)):(localStorage.removeItem("influu_token"),document.cookie="influu_token=;expires=Thu, 01 Jan 1970 00:00:00 UTC;path=/")},k=(0,c.useMemo)(()=>({token:f,user:h,setToken:j,setUser:a=>{i(a)},registerStart:async a=>(await d.api.post("/auth/register/start",{email:a})).data.id,async registerSaveUsername(a,b){await d.api.post("/auth/register/username/save",{id:a,username:b})},async registerSendOtp(a){await d.api.post("/auth/register/otp/send",{id:a})},async registerVerifyOtp(a,b){let c=await d.api.post("/auth/register/otp/verify",{id:a,code:b});j(c.data.token),i(c.data.user)},async loginPassword(a,b){let c=await d.api.post("/auth/login",{identifier:a,password:b});j(c.data.token),i(c.data.user)},async loginSendOtp(a){await d.api.post("/auth/otp/send",{identifier:a})},async loginVerifyOtp(a,b){let c=await d.api.post("/auth/otp/login",{identifier:a,code:b});j(c.data.token),i(c.data.user)},async updateUser(a,b){if(!f)throw Error("unauthorized");await d.api.patch(`/users/${a}`,b,{token:f}),"string"==typeof b.username&&i(a=>a?{...a,username:String(b.username)}:a)},async getMe(){if(!f)throw Error("unauthorized");let a=f.split(".");if(3!==a.length)throw Error("invalid_token");let b=a[1].replace(/-/g,"+").replace(/_/g,"/");for(;b.length%4;)b+="=";let c=String("");if(!c)throw Error("missing_user_id");return await d.api.get(`/users/id/${c}`,{token:f})},async updateUserById(a,b){if(!f)throw Error("unauthorized");await d.api.patch(`/users/id/${a}`,b,{token:f}),"string"==typeof b.username&&i(a=>a?{...a,username:String(b.username)}:a)},async uploadAvatar(a,b){if(!f)throw Error("unauthorized");if("string"==typeof b)return(await d.api.post(`/users/${a}/avatar`,{url:b},{token:f})).avatarUrl;{let c=new FormData;c.append("avatar",b);let d=`https://newyearbackendcode-zrp62.ondigitalocean.app//users/${a}/avatar`,e=await fetch(d,{method:"POST",headers:{Authorization:`Bearer ${f}`},body:c}),g=await e.json().catch(()=>({}));if(!e.ok)throw Error(g?.error||`HTTP ${e.status}`);return g?.avatarUrl}},async uploadAvatarById(a,b){if(!f)throw Error("unauthorized");if("string"==typeof b)return(await d.api.post(`/users/id/${a}/avatar`,{url:b},{token:f})).avatarUrl;{let c=new FormData;c.append("avatar",b);let d=`https://newyearbackendcode-zrp62.ondigitalocean.app//users/id/${a}/avatar`,e=await fetch(d,{method:"POST",headers:{Authorization:`Bearer ${f}`},body:c}),g=await e.json().catch(()=>({}));if(!e.ok)throw Error(g?.error||`HTTP ${e.status}`);return g?.avatarUrl}},async createSocialLink(a,b,c){if(!f)throw Error("unauthorized");await d.api.post(`/users/${a}/social-links`,{platform:b,url:c},{token:f})}}),[f,h]);return(0,b.jsx)(e.Provider,{value:k,children:a})}function g(){let a=(0,c.useContext)(e);if(!a)throw Error("AuthContext missing");return a}a.s(["AuthProvider",()=>f,"useAuth",()=>g])},86762,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(95908),e=a.i(71408),f=a.i(75756),g=a.i(10782),h=a.i(58153);let i={secondary:"bg-primary text-fg-quaternary shadow-xs-skeumorphic ring-1 ring-primary ring-inset hover:bg-primary_hover hover:text-fg-quaternary_hover disabled:shadow-xs disabled:ring-disabled_subtle",tertiary:"text-fg-quaternary hover:bg-primary_hover hover:text-fg-quaternary_hover"};a.s(["ButtonUtility",0,({tooltip:a,className:j,isDisabled:k,icon:l,size:m="sm",color:n="secondary",tooltipPlacement:o="top",...p})=>{let q="href"in p?p.href:void 0,r=q?e.Link:d.Button,s={};s=q?{...p,href:k?void 0:q,...k?{"data-rac":!0,"data-disabled":!0}:{}}:{...p,type:p.type||"button",isDisabled:k};let t=(0,b.jsxs)(r,{"aria-label":a,...s,className:(0,g.cx)("group relative inline-flex h-max cursor-pointer items-center justify-center rounded-md p-1.5 outline-focus-ring transition duration-100 ease-linear focus-visible:outline-2 focus-visible:outline-offset-2 disabled:cursor-not-allowed disabled:text-fg-disabled_subtle",i[n],"*:data-icon:pointer-events-none *:data-icon:shrink-0 *:data-icon:text-current *:data-icon:transition-inherit-all","xs"===m?"*:data-icon:size-4":"*:data-icon:size-5",j),children:[(0,h.isReactComponent)(l)&&(0,b.jsx)(l,{"data-icon":!0}),(0,c.isValidElement)(l)&&l]});return a?(0,b.jsx)(f.Tooltip,{title:a,placement:o,isDisabled:k,offset:"xs"===m?4:6,children:t}):t}])},29515,a=>{"use strict";var b=a.i(87924),c=a.i(10782);a.s(["UntitledLogo",0,a=>(0,b.jsxs)("div",{...a,className:(0,c.cx)("flex h-8 w-max items-center justify-start overflow-visible",a.className),children:[(0,b.jsx)("img",{src:"/light.svg",alt:"Logo",className:"h-full w-auto shrink-0 dark:hidden"}),(0,b.jsx)("img",{src:"/logo.svg",alt:"Logo",className:"hidden h-full w-auto shrink-0 dark:block"})]})])},13902,a=>{"use strict";var b=a.i(72131),c=(a,b,c,d,e,f,g,h)=>{let i=document.documentElement,j=["light","dark"];function k(b){var c;(Array.isArray(a)?a:[a]).forEach(a=>{let c="class"===a,d=c&&f?e.map(a=>f[a]||a):e;c?(i.classList.remove(...d),i.classList.add(f&&f[b]?f[b]:b)):i.setAttribute(a,b)}),c=b,h&&j.includes(c)&&(i.style.colorScheme=c)}if(d)k(d);else try{let a=localStorage.getItem(b)||c,d=g&&"system"===a?window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":a;k(d)}catch(a){}},d=["light","dark"],e="(prefers-color-scheme: dark)",f=b.createContext(void 0),g={setTheme:a=>{},themes:[]},h=()=>{var a;return null!=(a=b.useContext(f))?a:g},i=a=>b.useContext(f)?b.createElement(b.Fragment,null,a.children):b.createElement(k,{...a}),j=["light","dark"],k=({forcedTheme:a,disableTransitionOnChange:c=!1,enableSystem:g=!0,enableColorScheme:h=!0,storageKey:i="theme",themes:k=j,defaultTheme:p=g?"system":"light",attribute:q="data-theme",value:r,children:s,nonce:t,scriptProps:u})=>{let[v,w]=b.useState(()=>m(i,p)),[x,y]=b.useState(()=>"system"===v?o():v),z=r?Object.values(r):k,A=b.useCallback(a=>{let b=a;if(!b)return;"system"===a&&g&&(b=o());let e=r?r[b]:b,f=c?n(t):null,i=document.documentElement,j=a=>{"class"===a?(i.classList.remove(...z),e&&i.classList.add(e)):a.startsWith("data-")&&(e?i.setAttribute(a,e):i.removeAttribute(a))};if(Array.isArray(q)?q.forEach(j):j(q),h){let a=d.includes(p)?p:null,c=d.includes(b)?b:a;i.style.colorScheme=c}null==f||f()},[t]),B=b.useCallback(a=>{let b="function"==typeof a?a(v):a;w(b);try{localStorage.setItem(i,b)}catch(a){}},[v]),C=b.useCallback(b=>{y(o(b)),"system"===v&&g&&!a&&A("system")},[v,a]);b.useEffect(()=>{let a=window.matchMedia(e);return a.addListener(C),C(a),()=>a.removeListener(C)},[C]),b.useEffect(()=>{let a=a=>{a.key===i&&(a.newValue?w(a.newValue):B(p))};return window.addEventListener("storage",a),()=>window.removeEventListener("storage",a)},[B]),b.useEffect(()=>{A(null!=a?a:v)},[a,v]);let D=b.useMemo(()=>({theme:v,setTheme:B,forcedTheme:a,resolvedTheme:"system"===v?x:v,themes:g?[...k,"system"]:k,systemTheme:g?x:void 0}),[v,B,a,x,g,k]);return b.createElement(f.Provider,{value:D},b.createElement(l,{forcedTheme:a,storageKey:i,attribute:q,enableSystem:g,enableColorScheme:h,defaultTheme:p,value:r,themes:k,nonce:t,scriptProps:u}),s)},l=b.memo(({forcedTheme:a,storageKey:d,attribute:e,enableSystem:f,enableColorScheme:g,defaultTheme:h,value:i,themes:j,nonce:k,scriptProps:l})=>{let m=JSON.stringify([e,d,h,a,j,i,f,g]).slice(1,-1);return b.createElement("script",{...l,suppressHydrationWarning:!0,nonce:k,dangerouslySetInnerHTML:{__html:`(${c.toString()})(${m})`}})}),m=(a,b)=>{},n=a=>{let b=document.createElement("style");return a&&b.setAttribute("nonce",a),b.appendChild(document.createTextNode("*,*::before,*::after{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(b),()=>{window.getComputedStyle(document.body),setTimeout(()=>{document.head.removeChild(b)},1)}},o=a=>(a||(a=window.matchMedia(e)),a.matches?"dark":"light");a.s(["ThemeProvider",()=>i,"useTheme",()=>h])},62733,10161,a=>{"use strict";var b=a.i(72131);let c=({size:a=24,color:c="currentColor",...d})=>b.createElement("svg",{viewBox:"0 0 24 24",width:a,height:a,stroke:c,strokeWidth:"2",fill:"none",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",...d},b.createElement("path",{d:"M12 2v2m0 16v2M4 12H2m4.314-5.686L4.9 4.9m12.786 1.414L19.1 4.9M6.314 17.69 4.9 19.104m12.786-1.414 1.414 1.414M22 12h-2m-3 0a5 5 0 1 1-10 0 5 5 0 0 1 10 0Z"}));c.displayName="Sun",a.s(["Sun",()=>c],62733);let d=({size:a=24,color:c="currentColor",...d})=>b.createElement("svg",{viewBox:"0 0 24 24",width:a,height:a,stroke:c,strokeWidth:"2",fill:"none",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",...d},b.createElement("path",{d:"M22 15.844a10.424 10.424 0 0 1-4.306.925c-5.779 0-10.463-4.684-10.463-10.462 0-1.536.33-2.994.925-4.307A10.464 10.464 0 0 0 2 11.538C2 17.316 6.684 22 12.462 22c4.243 0 7.896-2.526 9.538-6.156Z"}));d.displayName="Moon01",a.s(["Moon01",()=>d],10161)}];

//# sourceMappingURL=%5Broot-of-the-server%5D__d0f20080._.js.map