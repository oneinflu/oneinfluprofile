{"version":3,"sources":["../../../../src/app/%5Busername%5D/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { Button } from \"@/components/base/buttons/button\";\nimport { ButtonUtility } from \"@/components/base/buttons/button-utility\";\nimport { MessageChatCircle, CurrencyDollarCircle, Stars02, Share04, Sun, Moon01 } from \"@untitledui/icons\";\nimport { useMemo, useState, useEffect, useRef } from \"react\";\nimport type { MouseEvent } from \"react\";\nimport { Dialog as AriaDialog, DialogTrigger as AriaDialogTrigger, Modal as AriaModal, ModalOverlay as AriaModalOverlay } from \"react-aria-components\";\nimport { Input } from \"@/components/base/input/input\";\nimport { TextArea } from \"@/components/base/textarea/textarea\";\nimport { Select } from \"@/components/base/select/select\";\nimport { RadioGroup, RadioButton } from \"@/components/base/radio-buttons/radio-buttons\";\nimport { useTheme } from \"next-themes\";\nimport { useParams } from \"next/navigation\";\nimport { api } from \"@/utils/api\";\n\ntype PublicProfileResponse = {\n    profile: { id: string; username: string; name: string | null; role: string | null; bio: string | null; avatarUrl: string | null; coverUrl: string | null; verified: boolean };\n    offers: Array<{ title: string; description: string | null; priceType: string; price?: number; cta?: string | null }>;\n    links: Array<{ platform: string; icon: string; url: string; visible: boolean }>;\n    payment: { upiId: string | null; payEnabled: boolean };\n    contact?: { method?: \"email\" | \"whatsapp\" | null; email?: string | null; whatsapp?: string | null };\n    portfolio: Array<{\n        id: string;\n        contentType?: \"image\" | \"video\" | \"link\" | null;\n        fileUrl?: string | null;\n        externalUrl?: string | null;\n        title?: string | null;\n        brand?: string | null;\n        description?: string | null;\n        platform?: string | null;\n        visible?: boolean;\n        pinned?: boolean | null;\n    }>;\n};\n\nfunction toCta(v?: string | null): \"request\" | \"pay\" | \"request_pay_later\" | null {\n    return v === \"pay\" ? \"pay\" : v === \"request\" ? \"request\" : v === \"request_pay_later\" ? \"request_pay_later\" : null;\n}\n\nfunction PaymentBottomSheet({ isOpen, onOpenChange, name, upiId }: { isOpen: boolean; onOpenChange: (open: boolean) => void; name: string; upiId: string }) {\n    const pa = encodeURIComponent(upiId || \"\");\n    const pn = encodeURIComponent(name || \"\");\n    const phonePe = `phonepe://pay?pa=${pa}&pn=${pn}&cu=INR`;\n    const googlePay = `tez://upi/pay?pa=${pa}&pn=${pn}&cu=INR`;\n    const whatsappPay = `upi://pay?pa=${pa}&pn=${pn}&cu=INR`;\n    const disabled = !upiId;\n    return (\n        <AriaDialogTrigger isOpen={isOpen} onOpenChange={onOpenChange}>\n            <Button slot=\"trigger\" className=\"hidden\">Open</Button>\n            <AriaModalOverlay\n                isDismissable\n                className={({ isEntering, isExiting }) =>\n                    `fixed inset-0 z-50 bg-overlay/40 backdrop-blur-sm ${isEntering ? \"duration-150 ease-out animate-in fade-in\" : \"\"} ${isExiting ? \"duration-100 ease-in animate-out fade-out\" : \"\"}`\n                }\n            >\n                {({ state }) => (\n                    <AriaModal className=\"w-full cursor-auto\">\n                        <AriaDialog aria-label=\"Make a Payment\" className=\"fixed inset-x-0 bottom-0 mx-auto w-[min(92vw,640px)] max-h-[80vh] overflow-y-auto rounded-t-2xl bg-primary shadow-xl ring-1 ring-secondary_alt focus:outline-hidden\">\n                            <div className=\"flex items-center justify-between border-b border-secondary px-4 py-3\">\n                                <div className=\"flex min-w-0 flex-col\">\n                                    <h2 className=\"text-lg font-semibold text-primary\">Make a Payment</h2>\n                                    <p className=\"text-sm text-tertiary\">Choose your payment app</p>\n                                </div>\n                                <Button size=\"sm\" onClick={() => state.close()}>Close</Button>\n                            </div>\n                            <div className=\"px-4 py-4\">\n                                <div className=\"grid grid-cols-3 gap-3\">\n                                    <button\n                                        disabled={disabled}\n                                        onClick={() => { if (!disabled) window.location.href = phonePe; }}\n                                        className=\"flex flex-col items-center gap-2 rounded-xl bg-primary p-4 ring-1 ring-secondary_alt disabled:opacity-50\"\n                                    >\n                                        <img src=\"/phonepe-icon.png\" alt=\"PhonePe\" className=\"size-10\" />\n                                        <div className=\"text-sm font-medium text-primary\">PhonePe</div>\n                                    </button>\n                                    <button\n                                        disabled={disabled}\n                                        onClick={() => { if (!disabled) window.location.href = googlePay; }}\n                                        className=\"flex flex-col items-center gap-2 rounded-xl bg-primary p-4 ring-1 ring-secondary_alt disabled:opacity-50\"\n                                    >\n                                        <img src=\"/google-pay-icon.png\" alt=\"Google Pay\" className=\"size-10\" />\n                                        <div className=\"text-sm font-medium text-primary\">G Pay</div>\n                                    </button>\n                                    <button\n                                        disabled={disabled}\n                                        onClick={() => { if (!disabled) window.location.href = whatsappPay; }}\n                                        className=\"flex flex-col items-center gap-2 rounded-xl bg-primary p-4 ring-1 ring-secondary_alt disabled:opacity-50\"\n                                    >\n                                        <img src=\"/whatsapp.png\" alt=\"WhatsApp Pay\" className=\"size-10 rounded\" />\n                                        <div className=\"text-sm font-medium text-primary\">UPI Pay</div>\n                                    </button>\n                                </div>\n                            </div>\n                        </AriaDialog>\n                    </AriaModal>\n                )}\n            </AriaModalOverlay>\n        </AriaDialogTrigger>\n    );\n}\n\nexport default function ProfilePage() {\n    const [username, setUsername] = useState<string>(\"\");\n    const params = useParams();\n    const [isLandscape, setIsLandscape] = useState(false);\n    useEffect(() => {\n        let alive = true;\n        (async () => {\n            try {\n                if (username) return;\n                const fromRoute = (params as any)?.username ? String((params as any).username) : \"\";\n                if (fromRoute && fromRoute.trim()) {\n                    setUsername(fromRoute.trim());\n                    return;\n                }\n                try {\n                    const stored = typeof window !== \"undefined\" ? window.localStorage.getItem(\"influu_username\") : null;\n                    if (stored && stored.trim()) {\n                        setUsername(stored.trim());\n                        return;\n                    }\n                } catch {}\n                let token: string | null = null;\n                let userId: string | null = null;\n                if (typeof window !== \"undefined\") {\n                    token = window.localStorage.getItem(\"influu_token\");\n                    userId = window.localStorage.getItem(\"influu_user_id\");\n                }\n                if (!token || !userId) return;\n                const me = await api.get<{ id: string; username: string }>(`/users/id/${userId}`, { token });\n                if (!alive) return;\n                setUsername(me.username);\n            } catch {\n                if (!alive) return;\n            }\n        })();\n        return () => { alive = false; };\n    }, [params, username]);\n    useEffect(() => {\n        let q: MediaQueryList | null = null;\n        const update = () => {\n            try {\n                const m = window.matchMedia(\"(orientation: landscape)\");\n                q = m;\n                setIsLandscape(Boolean(m.matches));\n            } catch {}\n        };\n        update();\n        const handler = () => update();\n        try {\n            window.addEventListener(\"orientationchange\", handler);\n            window.addEventListener(\"resize\", handler);\n        } catch {}\n        return () => {\n            try {\n                window.removeEventListener(\"orientationchange\", handler);\n                window.removeEventListener(\"resize\", handler);\n            } catch {}\n        };\n    }, []);\n    const [profile, setProfile] = useState<{ name?: string | null; bio?: string | null; avatarUrl?: string | null } | null>(null);\n    const [offers, setOffers] = useState<Array<{ title: string; description: string | null; priceType: \"fixed\" | \"starting\" | \"custom\"; price?: number; cta?: \"request\" | \"pay\" | \"request_pay_later\" | null; delivery?: string | null; includes?: string[] }>>([]);\n    const [links, setLinks] = useState<Array<{ platform: string; icon: string; url: string }>>([]);\n    const [payEnabled, setPayEnabled] = useState<boolean>(false);\n    const [upiId, setUpiId] = useState<string>(\"\");\n    const [contactMethod, setContactMethod] = useState<\"email\" | \"whatsapp\">(\"whatsapp\");\n    const [contactEmail, setContactEmail] = useState<string>(\"\");\n    const [contactWhatsapp, setContactWhatsapp] = useState<string>(\"\");\n    const [portfolioItems, setPortfolioItems] = useState<Array<{\n        id: string;\n        contentType?: \"image\" | \"video\" | \"link\" | null;\n        fileUrl?: string | null;\n        externalUrl?: string | null;\n        title?: string | null;\n        brand?: string | null;\n        description?: string | null;\n        platform?: string | null;\n        visible?: boolean;\n        pinned?: boolean | null;\n    }>>([]);\n    useEffect(() => {\n        if (!username) return;\n        let alive = true;\n        (async () => {\n            try {\n                const endpoint = `/users/${username}/profile`;\n                const res = (await api.get(endpoint)) as PublicProfileResponse;\n                if (!alive) return;\n                setProfile(res.profile);\n                setOffers(res.offers.map((o) => ({\n                    title: o.title,\n                    description: o.description || null,\n                    priceType: o.priceType === \"fixed\" ? \"fixed\" : o.priceType === \"starting\" ? \"starting\" : \"custom\",\n                    price: o.price,\n                    cta: toCta(o.cta),\n                    delivery: (o as any).delivery || null,\n                    includes: Array.isArray((o as any).includes) ? (o as any).includes : [],\n                })));\n                setLinks(res.links.map((l) => ({ platform: l.platform, icon: l.icon, url: l.url })));\n                setPayEnabled(Boolean(res.payment?.payEnabled));\n                setUpiId(res.payment?.upiId || \"\");\n                const method = (res.contact?.method as any) || (res.contact?.whatsapp ? \"whatsapp\" : \"email\");\n                setContactMethod(method);\n                setContactEmail(res.contact?.email || \"\");\n                setContactWhatsapp(res.contact?.whatsapp || \"\");\n                setPortfolioItems(Array.isArray(res.portfolio) ? res.portfolio : []);\n                try {\n                    const origin = typeof window !== \"undefined\" ? window.location.origin : \"\";\n                    const url = `${origin}/${username}`;\n                    await api.post(`/users/${username}/analytics/view`, { url }).catch(() => {});\n                } catch {}\n            } catch {\n                if (!alive) return;\n            }\n        })();\n        return () => { alive = false; };\n    }, [username]);\n\n    const [publicData, setPublicData] = useState<any>(null);\n    const [publicError, setPublicError] = useState<string | null>(null);\n    useEffect(() => {\n        if (!username) return;\n        const url = `http://192.168.0.6:3000/${encodeURIComponent(username)}`;\n        console.group(\"PUBLIC_PROFILE_GET\");\n        console.log(\"REQUEST GET\", url);\n        console.groupEnd();\n        let alive = true;\n        api.get(url)\n            .then((data) => {\n                if (!alive) return;\n                console.group(\"PUBLIC_PROFILE_RESPONSE\");\n                console.log(\"BODY\", data);\n                console.groupEnd();\n                setPublicData(data);\n                setPublicError(null);\n            })\n            .catch((err) => {\n                if (!alive) return;\n                setPublicError(String(err?.message || \"Error\"));\n            });\n        return () => { alive = false; };\n    }, [username]);\n    const [requestOpen, setRequestOpen] = useState(false);\n    const [prefillService, setPrefillService] = useState<string | null>(null);\n    const openRequest = (service?: string) => {\n        setPrefillService(service || null);\n        setRequestOpen(true);\n    };\n    const [paymentOpen, setPaymentOpen] = useState(false);\n    const openPayment = () => setPaymentOpen(true);\n    const [requestSuccessOpen, setRequestSuccessOpen] = useState(false);\n    const [requestSuccessService, setRequestSuccessService] = useState<string>(\"\");\n\n    return (\n        <>\n            {isLandscape && (\n                <div className=\"fixed inset-0 z-50 flex items-center justify-center bg-black/70\">\n                    <div className=\"mx-4 w-full max-w-sm rounded-2xl bg-primary p-4 text-center shadow-xl ring-1 ring-secondary_alt\">\n                        <p className=\"text-md font-semibold text-primary\">Please rotate your device to portrait</p>\n                        <p className=\"mt-1 text-sm text-tertiary\">This page is optimized for portrait orientation.</p>\n                    </div>\n                </div>\n            )}\n            <section className=\"lg:hidden flex min-h-screen pt-5  bg-linear-to-br from-[#ffffff] via-[#F4EBFF] to-[#ffffff] dark:bg-linear-to-br dark:from-[#0d1117] dark:via-[#42307D] dark:to-[#000000] px-4 pb-20 overflow-y-auto scrollbar-hide\">\n                \n                <ProfileCard username={username} profile={profile} payEnabled={payEnabled} upiId={upiId} offers={offers} links={links} portfolio={portfolioItems} onRequest={openRequest} />\n                <PrimaryCTAStrip username={username} payEnabled={payEnabled} upiId={upiId} contactMethod={contactMethod} email={contactEmail} whatsapp={contactWhatsapp} variant=\"mobile\" onRequest={openRequest} onPay={openPayment} />\n            </section>\n            <section className=\"hidden lg:flex min-h-screen items-center justify-center bg-linear-to-br from-[#ffffff] via-[#F4EBFF] to-[#ffffff] dark:bg-linear-to-br dark:from-[#0d1117] dark:via-[#42307D] dark:to-[#000000] px-4\">\n                <div className=\"mx-auto w-full max-w-4xl\">\n                    <div className=\"rounded-2xl bg-primary p-4 ring-1 ring-secondary_alt\">\n                        <ProfileCard username={username} profile={profile} payEnabled={payEnabled} upiId={upiId} offers={offers} links={links} portfolio={portfolioItems} onRequest={openRequest} />\n                    </div>\n                    <div className=\"mt-4\">\n                        <PrimaryCTAStrip username={username} payEnabled={payEnabled} upiId={upiId} contactMethod={contactMethod} email={contactEmail} whatsapp={contactWhatsapp} variant=\"mobile\" onRequest={openRequest} onPay={openPayment} />\n                    </div>\n                </div>\n            </section>\n\n            <RequestServiceBottomSheet\n                isOpen={requestOpen}\n                onOpenChange={setRequestOpen}\n                username={username}\n                services={offers.map((o) => o.title)}\n                offers={offers}\n                prefillService={prefillService}\n                onSuccess={(service) => {\n                    setRequestSuccessService(service || \"\");\n                    setRequestSuccessOpen(true);\n                }}\n            />\n            <PaymentBottomSheet\n                isOpen={paymentOpen}\n                onOpenChange={setPaymentOpen}\n                name={(profile?.name as string) || username}\n                upiId={upiId}\n            />\n            <RequestSuccessBottomSheet\n                isOpen={requestSuccessOpen}\n                onOpenChange={setRequestSuccessOpen}\n                username={username}\n                service={requestSuccessService}\n                contactMethod={contactMethod}\n                email={contactEmail}\n                whatsapp={contactWhatsapp}\n            />\n        </>\n    );\n}\n\nfunction ProfileCard({ username, profile, payEnabled, upiId, offers, links, portfolio, onRequest }: { username: string; profile: { name?: string | null; bio?: string | null; avatarUrl?: string | null } | null; payEnabled: boolean; upiId: string; offers: Array<{ title: string; description: string | null; priceType: \"fixed\" | \"starting\" | \"custom\"; price?: number; cta?: \"request\" | \"pay\" | \"request_pay_later\" | null }>; links: Array<{ platform: string; icon: string; url: string }>; portfolio: Array<{ id: string; contentType?: \"image\" | \"video\" | \"link\" | null; fileUrl?: string | null; externalUrl?: string | null; title?: string | null; brand?: string | null; description?: string | null; platform?: string | null; visible?: boolean; pinned?: boolean | null }>; onRequest: (service?: string) => void }) {\n    const { resolvedTheme, setTheme } = useTheme();\n    const [mounted, setMounted] = useState(false);\n    useEffect(() => setMounted(true), []);\n    const isDark = mounted && resolvedTheme === \"dark\";\n    const themeLabel = isDark ? \"Switch to light\" : \"Switch to dark\";\n    return (\n        <div className=\"w-full max-w-sm\">\n            <div className=\"relative flex flex-col gap-3 rounded-2xl bg-primary p-0 pb-5 shadow-none\">\n                <div className=\"relative h-44 w-full overflow-hidden rounded-t-2xl sm:h-56\">\n                    {profile?.avatarUrl ? (\n                        <img src={profile.avatarUrl} loading=\"lazy\" alt=\"Avatar\" className=\"size-full object-cover\" />\n                    ) : (\n                        <div className=\"size-full bg-primary_hover animate-pulse\" />\n                    )}\n                    <div className=\"absolute inset-x-0 bottom-0 h-28 bg-linear-to-b from-transparent to-primary dark:to-[#0b0f14]\" />\n                    <div className=\"absolute left-3 top-3\">\n                        <span className=\"inline-flex items-center justify-center rounded-md bg-primary/75 backdrop-blur p-1.5 shadow-xs\">\n                            <img\n                                src={isDark ? \"/faviconwhite.png\" : \"/favicon.png\"}\n                                alt=\"Brand\"\n                                className=\"size-5\"\n                                onError={(e) => {\n                                    e.currentTarget.src = \"/faviconwhite.png\";\n                                }}\n                            />\n                        </span>\n                    </div>\n                    <div className=\"absolute right-3 top-3\">\n                        <div className=\"flex items-center gap-2\">\n                            <ButtonUtility\n                                tooltip=\"Share profile\"\n                                size=\"sm\"\n                                color=\"secondary\"\n                                icon={Share04}\n                                onClick={() => {\n                                    const url = typeof window !== \"undefined\" ? window.location.href : `/${username}`;\n                                    const text = `Check out ${username}'s profile`;\n                                    if (typeof navigator !== \"undefined\" && (navigator as any).share) {\n                                        (navigator as any)\n                                            .share({ title: text, text, url })\n                                            .catch(() => {});\n                                    } else {\n                                        const wa = `https://wa.me/?text=${encodeURIComponent(`${text} ${url}`)}`;\n                                        window.open(wa, \"_blank\");\n                                    }\n                                }}\n                            />\n                            {mounted && (\n                                <ButtonUtility\n                                    tooltip={themeLabel}\n                                    size=\"sm\"\n                                    color=\"secondary\"\n                                    icon={isDark ? Sun : Moon01}\n                                    onClick={() => setTheme(isDark ? \"light\" : \"dark\")}\n                                />\n                            )}\n                        </div>\n                    </div>\n                </div>\n                <div className=\"px-6 pb-6\">\n                    <div className=\"flex flex-col items-center gap-1\">\n                        <h1 className=\"text-3xl sm:text-4xl font-semibold leading-tight tracking-tight text-primary text-center\">{profile?.name || username}</h1>\n                    </div>\n                    {profile?.bio && (\n                        <p className=\"mt-2 text-sm text-tertiary text-center\">{truncateBio(profile.bio)}</p>\n                    )}\n                </div>\n            <div className=\"mt-1 flex items-center justify-center gap-2\">\n                {links.length > 0 ? (\n                    links.map((l) => (\n                        <a\n                            key={`${l.platform}:${l.url}`}\n                            href={l.url}\n                            target=\"_blank\"\n                            rel=\"noopener noreferrer\"\n                            aria-label={l.platform}\n                            className=\"rounded-full bg-primary_hover p-2 ring-1 ring-secondary_alt transition-colors hover:bg-primary\"\n                            onClick={() => {\n                                try {\n                                    const payload = { category: \"social\", label: l.platform, url: l.url };\n                                    const endpoint = `${process.env.NEXT_PUBLIC_API_BASE_URL}/users/${encodeURIComponent(username)}/analytics/click`;\n                                    const blob = new Blob([JSON.stringify(payload)], { type: \"application/json\" });\n                                    if (typeof navigator !== \"undefined\" && typeof (navigator as any).sendBeacon === \"function\") {\n                                        (navigator as any).sendBeacon(endpoint, blob);\n                                    } else {\n                                        api.post(`/users/${username}/analytics/click`, payload).catch(() => {});\n                                    }\n                                } catch {}\n                            }}\n                        >\n                            <img src={l.icon} alt={l.platform} className=\"size-5\" />\n                        </a>\n                    ))\n                ) : (\n                    <>\n                        <div className=\"rounded-full bg-primary_hover p-2 ring-1 ring-secondary_alt size-9 animate-pulse\" />\n                        <div className=\"rounded-full bg-primary_hover p-2 ring-1 ring-secondary_alt size-9 animate-pulse\" />\n                        <div className=\"rounded-full bg-primary_hover p-2 ring-1 ring-secondary_alt size-9 animate-pulse\" />\n                        <div className=\"rounded-full bg-primary_hover p-2 ring-1 ring-secondary_alt size-9 animate-pulse\" />\n                    </>\n                )}\n            </div>\n        </div>\n            <ProfileServices username={username} payEnabled={payEnabled} upiId={upiId} offers={offers} onRequest={onRequest} />\n            <ProfilePortfolio username={username} items={portfolio} />\n            <ProfileFooter />\n        </div>\n    );\n}\n\nfunction truncateBio(text: string) {\n    const max = 150;\n    return text.length > max ? text.slice(0, max - 1) + \"…\" : text;\n}\n\nfunction ProfileServices({ username, payEnabled, upiId, offers, onRequest }: { username: string; payEnabled: boolean; upiId: string; offers: Array<{ title: string; description: string | null; priceType: \"fixed\" | \"starting\" | \"custom\"; price?: number; cta?: \"request\" | \"pay\" | \"request_pay_later\" | null }>; onRequest: (service?: string) => void }) {\n    const formatINR = new Intl.NumberFormat(\"en-IN\");\n    const labelFor = (o: typeof offers[number]) => {\n        if (o.priceType === \"fixed\" && typeof o.price === \"number\") return `₹${formatINR.format(o.price)}`;\n        if (o.priceType === \"starting\" && typeof o.price === \"number\") return `Starting at ₹${formatINR.format(o.price)}`;\n        return \"Custom pricing\";\n    };\n    const handlePay = (service: string, price?: number) => {\n        if (!price || !payEnabled) return onRequest(service);\n        const link = `upi://pay?pa=${encodeURIComponent(upiId)}&pn=${encodeURIComponent(username)}&am=${encodeURIComponent(String(price))}&tn=${encodeURIComponent(service)}`;\n        window.location.href = link;\n    };\n    return (\n        <div className=\"mt-4\">\n            <h2 className=\"text-md font-semibold text-primary\">Services</h2>\n            <ul className=\"mt-2 flex flex-col gap-2\">\n                {offers.length > 0 ? (\n                    offers.map((o) => (\n                        <li key={o.title} className=\"rounded-2xl bg-primary p-4 shadow-xs ring-1 ring-secondary_alt\">\n                            <div className=\"flex items-start justify-between gap-3\">\n                                <div className=\"flex min-w-0 flex-col\">\n                                    <p className=\"truncate text-sm font-semibold text-primary\">{o.title}</p>\n                                    {o.description && <p className=\"truncate text-sm text-tertiary\">{o.description}</p>}\n                                </div>\n                                <div className=\"shrink-0 text-right\">\n                                    <p className=\"text-sm font-medium text-primary\">{labelFor(o)}</p>\n                                </div>\n                            </div>\n                            <div className=\"mt-3\">\n                                {o.cta === \"pay\" ? (\n                                    <Button size=\"sm\" color=\"primary\" className=\"w-full\" onClick={() => handlePay(o.title, o.price)}>\n                                        Pay Now\n                                    </Button>\n                                ) : (\n                                    <Button\n                                        size=\"sm\"\n                                        color=\"primary\"\n                                        className=\"w-full\"\n                                        onClick={() => {\n                                            try {\n                                                const payload = { category: \"request\", label: o.title };\n                                                const endpoint = `${process.env.NEXT_PUBLIC_API_BASE_URL}/users/${encodeURIComponent(username)}/analytics/click`;\n                                                const blob = new Blob([JSON.stringify(payload)], { type: \"application/json\" });\n                                                if (typeof navigator !== \"undefined\" && typeof (navigator as any).sendBeacon === \"function\") {\n                                                    (navigator as any).sendBeacon(endpoint, blob);\n                                                } else {\n                                                    api.post(`/users/${username}/analytics/click`, payload).catch(() => {});\n                                                }\n                                            } catch {}\n                                            onRequest(o.title);\n                                        }}\n                                    >\n                                        Request Service\n                                    </Button>\n                                )}\n                            </div>\n                        </li>\n                    ))\n                ) : (\n                    <>\n                        <li className=\"rounded-2xl bg-primary p-4 shadow-xs ring-1 ring-secondary_alt\">\n                            <div className=\"flex items-start justify-between gap-3\">\n                                <div className=\"flex min-w-0 flex-col gap-1\">\n                                    <div className=\"h-4 w-36 bg-primary_hover rounded animate-pulse\" />\n                                    <div className=\"h-3 w-56 bg-primary_hover rounded animate-pulse\" />\n                                </div>\n                                <div className=\"shrink-0\">\n                                    <div className=\"h-4 w-24 bg-primary_hover rounded animate-pulse\" />\n                                </div>\n                            </div>\n                            <div className=\"mt-3\">\n                                <div className=\"h-8 w-full bg-primary_hover rounded-md animate-pulse\" />\n                            </div>\n                        </li>\n                        <li className=\"rounded-2xl bg-primary p-4 shadow-xs ring-1 ring-secondary_alt\">\n                            <div className=\"flex items-start justify-between gap-3\">\n                                <div className=\"flex min-w-0 flex-col gap-1\">\n                                    <div className=\"h-4 w-28 bg-primary_hover rounded animate-pulse\" />\n                                    <div className=\"h-3 w-44 bg-primary_hover rounded animate-pulse\" />\n                                </div>\n                                <div className=\"shrink-0\">\n                                    <div className=\"h-4 w-20 bg-primary_hover rounded animate-pulse\" />\n                                </div>\n                            </div>\n                            <div className=\"mt-3\">\n                                <div className=\"h-8 w-full bg-primary_hover rounded-md animate-pulse\" />\n                            </div>\n                        </li>\n                    </>\n                )}\n            </ul>\n        </div>\n    );\n}\n\nfunction ProfilePortfolio({\n    username,\n    items,\n}: {\n    username: string;\n    items: Array<{\n        id: string;\n        contentType?: \"image\" | \"video\" | \"link\" | null;\n        fileUrl?: string | null;\n        externalUrl?: string | null;\n        title?: string | null;\n        brand?: string | null;\n        description?: string | null;\n        platform?: string | null;\n        visible?: boolean;\n        pinned?: boolean | null;\n    }>;\n}) {\n    const iconFor = (p: string) => {\n        const map: Record<string, string> = {\n            instagram: \"/instagram.png\",\n            youtube: \"/youtube.png\",\n            tiktok: \"/tiktok.png\",\n            website: \"/web.png\",\n        };\n        return map[p] || \"/web.png\";\n    };\n    const urlFor = (it: { fileUrl?: string | null; externalUrl?: string | null }) => (it.fileUrl || it.externalUrl || \"\");\n    const [open, setOpen] = useState(false);\n    const [galleryOpen, setGalleryOpen] = useState(false);\n    const [active, setActive] = useState<(typeof items)[number] | null>(null);\n    const [wantAutoplay, setWantAutoplay] = useState(false);\n    return (\n        <div className=\"mt-4\">\n            <div className=\"flex items-center justify-between\">\n                <h2 className=\"text-md font-semibold text-primary\">Work & Collaborations</h2>\n                <Button size=\"sm\" color=\"link-color\" onClick={() => setGalleryOpen(true)}>View all</Button>\n            </div>\n            <div className=\"mt-2 overflow-x-auto\">\n                <div className=\"flex gap-2 snap-x snap-mandatory\">\n                    {items.length > 0 ? (\n                        items.map((it) => (\n                            <button\n                                key={it.id}\n                                type=\"button\"\n                                className=\"snap-start w-36 sm:w-40 overflow-hidden rounded-xl ring-1 ring-secondary_alt bg-primary hover:bg-primary_hover\"\n                                onClick={() => {\n                                    setActive(it);\n                                    setWantAutoplay(it.contentType === \"video\");\n                                    setOpen(true);\n                                }}\n                            >\n                                <div className=\"aspect-square w-full overflow-hidden relative\">\n                                    {it.contentType === \"video\" && urlFor(it) ? (\n                                        <video\n                                            src={urlFor(it)}\n                                            className=\"size-full object-cover pointer-events-none\"\n                                            muted\n                                            playsInline\n                                            preload=\"metadata\"\n                                            controlsList=\"nodownload noplaybackrate\"\n                                            disablePictureInPicture\n                                            onContextMenu={(e) => e.preventDefault()}\n                                        />\n                                    ) : it.contentType === \"image\" && urlFor(it) ? (\n                                        <img\n                                            src={urlFor(it)}\n                                            alt={String(it.title || it.brand || it.platform || \"Portfolio\")}\n                                            className=\"size-full object-cover select-none\"\n                                            draggable={false}\n                                            onContextMenu={(e) => e.preventDefault()}\n                                        />\n                                    ) : (\n                                        <div className=\"flex size-full items-center justify-center bg-primary_hover\">\n                                            <img src={iconFor(String(it.platform || \"website\"))} alt={String(it.platform || \"website\")} className=\"size-10 opacity-90\" />\n                                        </div>\n                                    )}\n                                    <div className=\"absolute inset-0 flex items-center justify-center\">\n                                        <Button\n                                            size=\"sm\"\n                                            color=\"secondary\"\n                                            className=\"px-3\"\n                                            onClick={(e: MouseEvent<HTMLButtonElement>) => {\n                                                e.stopPropagation();\n                                                setActive(it);\n                                                setWantAutoplay(it.contentType === \"video\");\n                                                setOpen(true);\n                                            }}\n                                        >\n                                            {it.contentType === \"video\" ? \"Play\" : \"View\"}\n                                        </Button>\n                                    </div>\n                                </div>\n                                <div className=\"flex items-center justify-between gap-2 px-2 py-1\">\n                                    {it.brand && <p className=\"truncate text-xs text-primary\">{it.brand}</p>}\n                                    <img src={iconFor(String(it.platform || \"website\"))} alt=\"platform\" className=\"size-4 opacity-80\" />\n                                </div>\n                            </button>\n                        ))\n                    ) : (\n                        <>\n                            <div className=\"snap-start w-36 sm:w-40 overflow-hidden rounded-xl ring-1 ring-secondary_alt bg-primary\">\n                                <div className=\"aspect-square w-full bg-primary_hover animate-pulse\" />\n                                <div className=\"px-2 py-1\">\n                                    <div className=\"h-3 w-24 bg-primary_hover rounded animate-pulse\" />\n                                </div>\n                            </div>\n                            <div className=\"snap-start w-36 sm:w-40 overflow-hidden rounded-xl ring-1 ring-secondary_alt bg-primary\">\n                                <div className=\"aspect-square w-full bg-primary_hover animate-pulse\" />\n                                <div className=\"px-2 py-1\">\n                                    <div className=\"h-3 w-20 bg-primary_hover rounded animate-pulse\" />\n                                </div>\n                            </div>\n                            <div className=\"snap-start w-36 sm:w-40 overflow-hidden rounded-xl ring-1 ring-secondary_alt bg-primary\">\n                                <div className=\"aspect-square w-full bg-primary_hover animate-pulse\" />\n                                <div className=\"px-2 py-1\">\n                                    <div className=\"h-3 w-16 bg-primary_hover rounded animate-pulse\" />\n                                </div>\n                            </div>\n                        </>\n                    )}\n                </div>\n            </div>\n\n            <AriaDialogTrigger isOpen={open} onOpenChange={setOpen}>\n                <Button slot=\"trigger\" className=\"hidden\">Open</Button>\n                <AriaModalOverlay\n                    isDismissable\n                    className={({ isEntering, isExiting }) =>\n                        `fixed inset-0 z-50 bg-overlay/50 backdrop-blur-md flex items-center justify-center p-4 ${isEntering ? \"duration-150 ease-out animate-in fade-in\" : \"\"} ${isExiting ? \"duration-100 ease-in animate-out fade-out\" : \"\"}`\n                    }\n                >\n                    {({ state }) => (\n                        <AriaModal className=\"w-full cursor-auto\">\n                            <AriaDialog aria-label=\"Portfolio item\" className=\"mx-auto w-[min(92vw,420px)] overflow-hidden rounded-[2rem] bg-primary shadow-2xl ring-1 ring-secondary_alt focus:outline-hidden\">\n                                <div className=\"flex items-center justify-between border-b border-secondary px-5 py-4\">\n                                    <p className=\"text-md font-semibold text-primary\">{active?.brand || \"Preview\"}</p>\n                                    <div className=\"flex items-center gap-2\">\n                                        <Button size=\"sm\" onClick={() => state.close()}>Back</Button>\n                                    </div>\n                                </div>\n                                <div className=\"p-3\">\n                                    <div className=\"mx-auto aspect-[9/19] w-full rounded-[1.5rem] ring-1 ring-secondary_alt overflow-hidden bg-primary\">\n                                    {active ? (\n                                        active.contentType === \"video\" && urlFor(active) ? (\n                                            <video\n                                                src={urlFor(active)}\n                                                className=\"size-full object-cover\"\n                                                autoPlay={wantAutoplay}\n                                                muted\n                                                playsInline\n                                                controlsList=\"nodownload noplaybackrate\"\n                                                disablePictureInPicture\n                                                onContextMenu={(e) => e.preventDefault()}\n                                            />\n                                        ) : active.contentType === \"image\" && urlFor(active) ? (\n                                            <img\n                                                src={urlFor(active)}\n                                                alt={String(active.title || active.brand || active.platform || \"Portfolio\")}\n                                                className=\"size-full object-cover select-none\"\n                                                draggable={false}\n                                                onContextMenu={(e) => e.preventDefault()}\n                                            />\n                                        ) : (\n                                            <div className=\"flex size-full items-center justify-center\">\n                                                <img src={iconFor(String(active.platform || \"website\"))} alt={String(active.platform || \"website\")} className=\"size-16 opacity-90\" />\n                                            </div>\n                                        )\n                                    ) : null}\n                                    </div>\n                                </div>\n                            </AriaDialog>\n                        </AriaModal>\n                    )}\n                </AriaModalOverlay>\n            </AriaDialogTrigger>\n\n            <AriaDialogTrigger isOpen={galleryOpen} onOpenChange={setGalleryOpen}>\n                <Button slot=\"trigger\" className=\"hidden\">Open</Button>\n                <AriaModalOverlay\n                    isDismissable\n                    className={({ isEntering, isExiting }) =>\n                        `fixed inset-0 z-50 bg-overlay/50 backdrop-blur-md ${isEntering ? \"duration-150 ease-out animate-in fade-in\" : \"\"} ${isExiting ? \"duration-100 ease-in animate-out fade-out\" : \"\"}`\n                    }\n                >\n                    {({ state }) => (\n                        <AriaModal className=\"w-full cursor-auto\">\n                            <AriaDialog aria-label=\"Portfolio gallery\" className=\"mx-auto my-8 w-[min(92vw,640px)] overflow-hidden rounded-2xl bg-primary shadow-xl ring-1 ring-secondary_alt focus:outline-hidden\">\n                                <div className=\"flex items-center justify-between border-b border-secondary px-4 py-3\">\n                                    <p className=\"text-md font-semibold text-primary\">Work & Collaborations</p>\n                                    <Button size=\"sm\" onClick={() => state.close()}>Close</Button>\n                                </div>\n                                <div className=\"p-3\">\n                                    <div className=\"grid grid-cols-2 sm:grid-cols-3 gap-2\">\n                                        {items.length > 0 ? (\n                                            items.map((it) => (\n                                                <button\n                                                    key={it.id}\n                                                    type=\"button\"\n                                                    className=\"overflow-hidden rounded-xl ring-1 ring-secondary_alt bg-primary hover:bg-primary_hover\"\n                                                    onClick={() => {\n                                                        setActive(it);\n                                                        setWantAutoplay(it.contentType === \"video\");\n                                                        setOpen(true);\n                                                    }}\n                                                >\n                                                    <div className=\"aspect-square w-full overflow-hidden relative\">\n                                                        {it.contentType === \"video\" && urlFor(it) ? (\n                                                            <video\n                                                                src={urlFor(it)}\n                                                                className=\"size-full object-cover pointer-events-none\"\n                                                                muted\n                                                                playsInline\n                                                                preload=\"metadata\"\n                                                                controlsList=\"nodownload noplaybackrate\"\n                                                                disablePictureInPicture\n                                                                onContextMenu={(e) => e.preventDefault()}\n                                                            />\n                                                        ) : it.contentType === \"image\" && urlFor(it) ? (\n                                                            <img\n                                                                src={urlFor(it)}\n                                                                alt={String(it.title || it.brand || it.platform || \"Portfolio\")}\n                                                                className=\"size-full object-cover select-none\"\n                                                                draggable={false}\n                                                                onContextMenu={(e) => e.preventDefault()}\n                                                            />\n                                                        ) : (\n                                                            <div className=\"flex size-full items-center justify-center bg-primary_hover\">\n                                                                <img src={iconFor(String(it.platform || \"website\"))} alt={String(it.platform || \"website\")} className=\"size-10 opacity-90\" />\n                                                            </div>\n                                                        )}\n                                                        <div className=\"absolute inset-0 flex items-center justify-center\">\n                                                            <Button\n                                                                size=\"sm\"\n                                                                color=\"secondary\"\n                                                                className=\"px-3\"\n                                                                onClick={(e: MouseEvent<HTMLButtonElement>) => {\n                                                                    e.stopPropagation();\n                                                                    setActive(it);\n                                                                    setWantAutoplay(it.contentType === \"video\");\n                                                                    setOpen(true);\n                                                                }}\n                                                            >\n                                                                {it.contentType === \"video\" ? \"Play\" : \"View\"}\n                                                            </Button>\n                                                        </div>\n                                                    </div>\n                                                    <div className=\"flex items-center justify-between gap-2 px-2 py-1\">\n                                                        <p className=\"truncate text-xs text-primary\">{it.brand || \"\"}</p>\n                                                        <img src={iconFor(String(it.platform || \"website\"))} alt=\"platform\" className=\"size-4 opacity-80\" />\n                                                    </div>\n                                                </button>\n                                            ))\n                                        ) : (\n                                            <>\n                                                <div className=\"overflow-hidden rounded-xl ring-1 ring-secondary_alt bg-primary\">\n                                                    <div className=\"aspect-square w-full bg-primary_hover animate-pulse\" />\n                                                    <div className=\"px-2 py-1\">\n                                                        <div className=\"h-3 w-24 bg-primary_hover rounded animate-pulse\" />\n                                                    </div>\n                                                </div>\n                                                <div className=\"overflow-hidden rounded-xl ring-1 ring-secondary_alt bg-primary\">\n                                                    <div className=\"aspect-square w-full bg-primary_hover animate-pulse\" />\n                                                    <div className=\"px-2 py-1\">\n                                                        <div className=\"h-3 w-20 bg-primary_hover rounded animate-pulse\" />\n                                                    </div>\n                                                </div>\n                                                <div className=\"overflow-hidden rounded-xl ring-1 ring-secondary_alt bg-primary\">\n                                                    <div className=\"aspect-square w-full bg-primary_hover animate-pulse\" />\n                                                    <div className=\"px-2 py-1\">\n                                                        <div className=\"h-3 w-16 bg-primary_hover rounded animate-pulse\" />\n                                                    </div>\n                                                </div>\n                                            </>\n                                        )}\n                                    </div>\n                                </div>\n                            </AriaDialog>\n                        </AriaModal>\n                    )}\n                </AriaModalOverlay>\n            </AriaDialogTrigger>\n        </div>\n    );\n}\n\nfunction ProfileFooter() {\n    return (\n        <div className=\"mt-6 mb-2 text-center\">\n            <a\n                href=\"https://oneinflu.com/\"\n                target=\"_blank\"\n                rel=\"noopener noreferrer\"\n                className=\"inline-flex flex-col items-center gap-0.5 text-xs text-secondary hover:text-secondary_hover\"\n            >\n                <span className=\"font-medium\">Powered by INFLU</span>\n                <span className=\"text-[11px]\">Profiles that convert, not just link</span>\n            </a>\n        </div>\n    );\n}\n\nfunction PrimaryCTAStrip({ username, payEnabled, upiId, contactMethod, email, whatsapp, variant, onRequest, onPay }: { username: string; payEnabled: boolean; upiId: string; contactMethod: \"email\" | \"whatsapp\"; email: string; whatsapp: string; variant: \"mobile\" | \"inline\" | \"overlay\"; onRequest: (service?: string) => void; onPay: () => void }) {\n    const base =\n        variant === \"mobile\"\n            ? \"fixed inset-x-0 bottom-0 z-30 px-4 pb-4\"\n            : variant === \"inline\"\n            ? \"\"\n            : \"px-0\";\n    const inner = variant === \"mobile\" ? \"mx-auto max-w-sm w-full\" : \"w-full\";\n    const waText = encodeURIComponent(`Hi ${username}, I'd like to discuss a collaboration.`);\n    const cols = \"grid-cols-2\";\n    return (\n        <div className={base}>\n            <div className={`${inner}`}>\n                <div className=\"rounded-3xl bg-primary/90 dark:bg-linear-to-r dark:from-[#1f143d]/90 dark:to-[#4b2e8b]/90 backdrop-blur p-2 shadow-xl ring-1 ring-secondary_alt dark:ring-brand overflow-hidden\">\n                    <div className={`grid ${cols} gap-2 min-w-0`}>\n                        <Button className=\"w-full !bg-white !text-black hover:!bg-gray-100 !ring-secondary_alt dark:!bg-white dark:!text-black\" size=\"sm\" color=\"secondary\" onClick={() => {\n                            try {\n                                const payload = { category: \"pay\", label: \"Make Payment\" };\n                                const endpoint = `${process.env.NEXT_PUBLIC_API_BASE_URL}/users/${encodeURIComponent(username)}/analytics/click`;\n                                const blob = new Blob([JSON.stringify(payload)], { type: \"application/json\" });\n                                if (typeof navigator !== \"undefined\" && typeof (navigator as any).sendBeacon === \"function\") {\n                                    (navigator as any).sendBeacon(endpoint, blob);\n                                } else {\n                                    api.post(`/users/${username}/analytics/click`, payload).catch(() => {});\n                                }\n                            } catch {}\n                            onPay();\n                        }}>Make Payment</Button>\n                        {contactMethod === \"whatsapp\" ? (\n                            <Button className=\"w-full !bg-[#47AE4C] !text-white hover:!bg-[#10887B] !ring-transparent\" size=\"sm\" color=\"secondary\" onClick={() => {\n                                const digits = whatsapp.replace(/\\D/g, \"\");\n                                const url = `https://wa.me/${digits}?text=${waText}`;\n                                try {\n                                    const payload = { category: \"contact\", label: \"whatsapp\", url };\n                                    const endpoint = `${process.env.NEXT_PUBLIC_API_BASE_URL}/users/${encodeURIComponent(username)}/analytics/click`;\n                                    const blob = new Blob([JSON.stringify(payload)], { type: \"application/json\" });\n                                    if (typeof navigator !== \"undefined\" && typeof (navigator as any).sendBeacon === \"function\") {\n                                        (navigator as any).sendBeacon(endpoint, blob);\n                                    } else {\n                                        api.post(`/users/${username}/analytics/click`, payload).catch(() => {});\n                                    }\n                                } catch {}\n                                window.open(url, \"_blank\");\n                            }}>Chat on WhatsApp</Button>\n                        ) : (\n                            <Button className=\"w-full\" size=\"sm\" color=\"secondary\" onClick={() => {\n                                const url = `mailto:${email}?subject=${encodeURIComponent(\"Collaboration inquiry\")}&body=${encodeURIComponent(`Hi ${username}, I'd like to discuss a collaboration.`)}`;\n                                try {\n                                    const payload = { category: \"contact\", label: \"email\", url };\n                                    const endpoint = `${process.env.NEXT_PUBLIC_API_BASE_URL}/users/${encodeURIComponent(username)}/analytics/click`;\n                                    const blob = new Blob([JSON.stringify(payload)], { type: \"application/json\" });\n                                    if (typeof navigator !== \"undefined\" && typeof (navigator as any).sendBeacon === \"function\") {\n                                        (navigator as any).sendBeacon(endpoint, blob);\n                                    } else {\n                                        api.post(`/users/${username}/analytics/click`, payload).catch(() => {});\n                                    }\n                                } catch {}\n                                window.location.href = url;\n                            }}>Mail Us</Button>\n                        )}\n                    </div>\n                </div>\n            </div>\n        </div>\n    );\n}\n\nfunction RequestServiceBottomSheet({ isOpen, onOpenChange, username, services, offers, prefillService, onSuccess }: { isOpen: boolean; onOpenChange: (open: boolean) => void; username: string; services: string[]; offers: Array<{ title: string; description: string | null; priceType: \"fixed\" | \"starting\" | \"custom\"; price?: number; cta?: \"request\" | \"pay\" | \"request_pay_later\" | null; delivery?: string | null; includes?: string[] }>; prefillService: string | null; onSuccess: (service: string) => void }) {\n    const [serviceKey, setServiceKey] = useState<string | null>(prefillService);\n    const [budget, setBudget] = useState<string>(\"\");\n    const [name, setName] = useState<string>(\"\");\n    const [contactMethod, setContactMethod] = useState<\"whatsapp\" | \"email\">(\"whatsapp\");\n    const [contact, setContact] = useState<string>(\"\");\n    const [message, setMessage] = useState<string>(\"\");\n\n    const items = services.map((t) => ({ id: t, label: t }));\n    const selectedTitle = serviceKey || services[0] || null;\n    const selectedOffer = offers.find((o) => o.title === selectedTitle) || null;\n\n    useEffect(() => {\n        if (isOpen) {\n            setServiceKey(prefillService || null);\n        }\n    }, [isOpen, prefillService]);\n\n    const submit = async () => {\n        const selectedService = selectedTitle || \"Service\";\n        if (!name.trim() || !contact.trim()) return;\n        try {\n            await api.post(`/users/${username}/enquiries`, {\n                service: selectedService,\n                brand: name.trim(),\n                contactMethod,\n                contact: contact.trim(),\n                message: message.trim(),\n                budget: budget ? Number(budget) : undefined,\n            });\n            onOpenChange(false);\n            onSuccess(selectedService);\n        } catch {}\n    };\n\n    return (\n        <AriaDialogTrigger isOpen={isOpen} onOpenChange={onOpenChange}>\n            <Button slot=\"trigger\" className=\"hidden\">Open</Button>\n            <AriaModalOverlay\n                isDismissable\n                className={({ isEntering, isExiting }) =>\n                    `fixed inset-0 z-50 bg-overlay/40 backdrop-blur-sm ${isEntering ? \"duration-150 ease-out animate-in fade-in\" : \"\"} ${isExiting ? \"duration-100 ease-in animate-out fade-out\" : \"\"}`\n                }\n            >\n                {({ state }) => (\n                    <AriaModal className=\"w-full cursor-auto\">\n                        <AriaDialog aria-label=\"Request Service\" className=\"fixed inset-x-0 bottom-0 mx-auto w-[min(92vw,640px)] max-h-[80vh] overflow-y-auto rounded-t-2xl bg-primary shadow-xl ring-1 ring-secondary_alt focus:outline-hidden\">\n                            <div className=\"flex items-center justify-between border-b border-secondary px-4 py-3\">\n                                <div className=\"flex min-w-0 flex-col\">\n                                    <h2 className=\"text-lg font-semibold text-primary\">{selectedTitle ? `Request to ${selectedTitle}` : \"Request a Service\"}</h2>\n                                    <p className=\"text-sm text-tertiary\">{selectedTitle ? \"Review the service details and share your info\" : \"Share a few details to get started\"}</p>\n                                </div>\n                                <Button size=\"sm\" onClick={() => state.close()}>Close</Button>\n                            </div>\n\n                            <div className=\"flex flex-col gap-4 px-4 py-4\">\n                                {!prefillService && (\n                                    <Select\n                                        size=\"md\"\n                                        label=\"Service\"\n                                        placeholder=\"Select a service\"\n                                        items={items}\n                                        selectedKey={serviceKey || undefined}\n                                        onSelectionChange={(key) => setServiceKey(String(key))}\n                                    >\n                                        {(item) => <Select.Item id={item.id}>{item.label}</Select.Item>}\n                                    </Select>\n                                )}\n\n                                {selectedOffer && (\n                                    <div className=\"rounded-xl bg-primary p-3 ring-1 ring-secondary_alt\">\n                                        {selectedOffer.description && (\n                                            <p className=\"text-sm text-primary\">{selectedOffer.description}</p>\n                                        )}\n                                        <div className=\"mt-3 grid grid-cols-2 gap-3\">\n                                            <div>\n                                                <p className=\"text-xs text-secondary\">Delivery</p>\n                                                <p className=\"text-sm text-primary\">{selectedOffer.delivery || \"—\"}</p>\n                                            </div>\n                                            <div>\n                                                <p className=\"text-xs text-secondary\">Includes</p>\n                                                <p className=\"text-sm text-primary\">\n                                                    {(selectedOffer.includes || []).slice(0, 3).join(\", \") || \"—\"}\n                                                </p>\n                                            </div>\n                                        </div>\n                                    </div>\n                                )}\n\n                                <Input label=\"Budget (optional)\" type=\"number\" inputMode=\"numeric\" placeholder=\"Your budget (optional)\" value={budget} onChange={setBudget} />\n\n                                <Input isRequired label=\"Your Name\" placeholder=\"Brand / Your name\" value={name} onChange={setName} />\n\n                                <div className=\"flex min-w-0 flex-col gap-2\">\n                                    <p className=\"text-sm font-medium text-secondary\">Contact Method</p>\n                                    <RadioGroup value={contactMethod} onChange={(v) => setContactMethod(v as any)}>\n                                        <RadioButton value=\"whatsapp\" label=\"WhatsApp\" />\n                                        <RadioButton value=\"email\" label=\"Email\" />\n                                    </RadioGroup>\n                                </div>\n\n                                <Input\n                                    isRequired\n                                    label=\"Contact Detail\"\n                                    placeholder={contactMethod === \"whatsapp\" ? \"WhatsApp number\" : \"Email address\"}\n                                    type={contactMethod === \"email\" ? \"email\" : \"tel\"}\n                                    inputMode={contactMethod === \"email\" ? \"email\" : \"numeric\"}\n                                    value={contact}\n                                    onChange={setContact}\n                                />\n\n                                <TextArea label=\"Message (optional)\" rows={4} placeholder=\"Briefly describe your requirement\" value={message} onChange={setMessage} />\n\n                                <div className=\"flex items-center gap-2 pt-2\">\n                                    <Button size=\"sm\" color=\"secondary\" className=\"w-full\" onClick={submit}>Send Request</Button>\n                                </div>\n                            </div>\n                        </AriaDialog>\n                    </AriaModal>\n                )}\n            </AriaModalOverlay>\n        </AriaDialogTrigger>\n    );\n}\n\nfunction RequestSuccessBottomSheet({ isOpen, onOpenChange, username, service, contactMethod, email, whatsapp }: { isOpen: boolean; onOpenChange: (open: boolean) => void; username: string; service: string; contactMethod: \"email\" | \"whatsapp\"; email?: string | null; whatsapp?: string | null }) {\n    const waText = `Hi ${username}, I just submitted a request for ${service}`;\n    const waLink = whatsapp ? `https://wa.me/${encodeURIComponent(String(whatsapp).replace(/[^0-9+]/g, \"\"))}?text=${encodeURIComponent(waText)}` : null;\n    const mailLink = email ? `mailto:${email}?subject=${encodeURIComponent(\"Collaboration inquiry\")}&body=${encodeURIComponent(waText)}` : null;\n    const animRef = useRef<HTMLDivElement | null>(null);\n    useEffect(() => {\n        let alive = true;\n        if (!isOpen || !animRef.current) return;\n        (async () => {\n            try {\n                const mod = await import(\"lottie-web\");\n                if (!alive || !animRef.current) return;\n                const anim = mod.default.loadAnimation({\n                    container: animRef.current,\n                    renderer: \"svg\",\n                    loop: false,\n                    autoplay: true,\n                    path: \"/sent.json\"\n                });\n                const t = setTimeout(() => {\n                    try {\n                        anim.destroy();\n                    } catch {}\n                }, 3000);\n                return () => {\n                    clearTimeout(t);\n                    try {\n                        anim.destroy();\n                    } catch {}\n                };\n            } catch {}\n        })();\n        return () => { alive = false; };\n    }, [isOpen]);\n    return (\n        <AriaDialogTrigger isOpen={isOpen} onOpenChange={onOpenChange}>\n            <Button slot=\"trigger\" className=\"hidden\">Open</Button>\n            <AriaModalOverlay\n                isDismissable\n                className={({ isEntering, isExiting }) =>\n                    `fixed inset-0 z-50 bg-overlay/40 backdrop-blur-sm ${isEntering ? \"duration-150 ease-out animate-in fade-in\" : \"\"} ${isExiting ? \"duration-100 ease-in animate-out fade-out\" : \"\"}`\n                }\n            >\n                {({ state }) => (\n                    <AriaModal className=\"w-full cursor-auto\">\n                        <AriaDialog aria-label=\"Request Submitted\" className=\"fixed inset-x-0 bottom-0 mx-auto w-[min(92vw,640px)] max-h-[80vh] overflow-y-auto rounded-t-2xl bg-primary shadow-xl ring-1 ring-secondary_alt focus:outline-hidden\">\n                            <div className=\"flex items-center justify-between border-b border-secondary px-4 py-3\">\n                                <div className=\"flex min-w-0 flex-col\">\n                                    <h2 className=\"text-lg font-semibold text-primary\">Request submitted</h2>\n                                    <p className=\"text-sm text-tertiary\">We’ve notified {username}. You’ll hear back soon.</p>\n                                </div>\n                                <Button size=\"sm\" onClick={() => state.close()}>Close</Button>\n                            </div>\n                            <div className=\"px-4 py-6\">\n                                <div className=\"mx-auto flex w-full max-w-sm flex-col items-center gap-4 text-center\">\n                                    <div ref={animRef} className=\"inline-flex size-20 items-center justify-center rounded-full bg-secondary/20 ring-1 ring-secondary_alt overflow-hidden\" />\n                                    <p className=\"text-md font-semibold text-primary\">Your request for “{service || \"Service\"}” has been registered</p>\n                                    <p className=\"text-sm text-tertiary\">Feel free to reach out directly while we process it.</p>\n                                    <div className=\"mt-2 w-full\">\n                                        {contactMethod === \"whatsapp\" ? (\n                                            waLink ? (\n                                                <Button size=\"sm\" color=\"primary\" className=\"w-full\" onClick={() => window.open(waLink!, \"_blank\")}>Chat on WhatsApp</Button>\n                                            ) : (\n                                                <Button size=\"sm\" color=\"secondary\" className=\"w-full\" disabled>WhatsApp unavailable</Button>\n                                            )\n                                        ) : mailLink ? (\n                                            <Button size=\"sm\" color=\"secondary\" className=\"w-full\" onClick={() => { window.location.href = mailLink!; }}>Email Us</Button>\n                                        ) : (\n                                            <Button size=\"sm\" color=\"secondary\" className=\"w-full\" disabled>Email unavailable</Button>\n                                        )}\n                                    </div>\n                                </div>\n                            </div>\n                        </AriaDialog>\n                    </AriaModal>\n                )}\n            </AriaModalOverlay>\n        </AriaDialogTrigger>\n    );\n}\n"],"names":[],"mappings":"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"}