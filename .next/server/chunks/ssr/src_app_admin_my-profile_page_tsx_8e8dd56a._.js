module.exports=[92559,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(52507),e=a.i(15009),f=a.i(98275),g=a.i(22337),h=a.i(10782);a.i(35670);var i=a.i(21355),j=a.i(55669);let k={sm:{root:"size-18 p-0.75",rootWithPlaceholder:"p-1",content:"",icon:"size-9",initials:"text-display-sm font-semibold",badge:"bottom-0.5 right-0.5"},md:{root:"size-24 p-1",rootWithPlaceholder:"p-1.25",content:"shadow-xl",icon:"size-12",initials:"text-display-md font-semibold",badge:"bottom-1 right-1"},lg:{root:"size-40 p-1.5",rootWithPlaceholder:"p-1.75",content:"shadow-2xl",icon:"size-20",initials:"text-display-xl font-semibold",badge:"bottom-2 right-2"}},l={sm:"2xl",md:"3xl",lg:"4xl"},m=({contrastBorder:a=!0,size:d="md",src:e,alt:f,initials:m,placeholder:n,placeholderIcon:o,verified:p,badge:q,status:r,className:s})=>{let[t,u]=(0,c.useState)(!1);return(0,b.jsxs)("div",{className:(0,h.cx)("relative flex shrink-0 items-center justify-center rounded-full bg-primary ring-1 ring-secondary_alt",k[d].root,(!e||t)&&k[d].rootWithPlaceholder,s),children:[e&&!t?(0,b.jsx)("img",{src:e,alt:f,onError:()=>u(!0),className:(0,h.cx)("size-full rounded-full object-cover",a&&"outline-1 -outline-offset-1 outline-avatar-contrast-border",k[d].content)}):m?(0,b.jsx)("div",{className:(0,h.cx)("flex size-full items-center justify-center rounded-full bg-tertiary ring-1 ring-secondary_alt",k[d].content),children:(0,b.jsx)("span",{className:(0,h.cx)("text-quaternary",k[d].initials),children:m})}):o?(0,b.jsx)("div",{className:(0,h.cx)("flex size-full items-center justify-center rounded-full bg-tertiary ring-1 ring-secondary_alt",k[d].content),children:(0,b.jsx)(o,{className:(0,h.cx)("text-fg-quaternary",k[d].icon)})}):(0,b.jsx)("div",{className:(0,h.cx)("flex size-full items-center justify-center rounded-full bg-tertiary ring-1 ring-secondary_alt",k[d].content),children:n||(0,b.jsx)(g.User01,{className:(0,h.cx)("text-fg-quaternary",k[d].icon)})}),r?(0,b.jsx)(i.AvatarOnlineIndicator,{status:r,size:l[d],className:k[d].badge}):p?(0,b.jsx)(j.VerifiedTick,{size:l[d],className:(0,h.cx)("absolute",k[d].badge)}):q]})};var n=a.i(42122),o=a.i(13445),p=a.i(43588),q=a.i(56018),r=a.i(6747),s=a.i(36595),t=a.i(86762),u=a.i(61240),v=a.i(54708);function w(){let{token:a,user:g,uploadAvatarById:h,updateUserById:i}=(0,u.useAuth)(),[j,k]=(0,c.useState)(!0),[l,w]=(0,c.useState)(""),[y,z]=(0,c.useState)(""),[A,B]=(0,c.useState)(""),[C,D]=(0,c.useState)(null),[E,F]=(0,c.useState)(""),[G,H]=(0,c.useState)(""),[I,J]=(0,c.useState)(null),[K,L]=(0,c.useState)(0),[M,N]=(0,c.useState)("email"),[O,P]=(0,c.useState)(""),[Q,R]=(0,c.useState)(""),[S,T]=(0,c.useState)("+91"),[U,V]=(0,c.useState)(null),[W,X]=(0,c.useState)(""),[Y,Z]=(0,c.useState)(""),[$,_]=(0,c.useState)([{id:"request",label:"Request Service",enabled:!0},{id:"whatsapp",label:"Chat on WhatsApp",enabled:!1,connected:!1},{id:"pay",label:"Pay Now",enabled:!1}]),[aa,ab]=(0,c.useState)([]),[ac,ad]=(0,c.useState)(null),[ae,af]=(0,c.useState)(!1),ag=(0,c.useRef)(null);(0,q.useClipboard)();let ah="https://oneinflu.com";return(0,c.useMemo)(()=>`${ah}/${y}`,[ah,y]),(0,c.useEffect)(()=>{let b=!0;return(async()=>{try{if(!a||!g?.id)return;let c=await v.api.get(`/users/id/${g.id}`,{token:a});if(!b)return;w(c.name||""),z(c.username||""),B(c.username||"");let d=String(c.category||"").trim().toLowerCase();F({creator:"creator",business:"business",personal:"personal"}[d]||""),H(c.shortBio||""),J(c.avatarUrl||null),_(a=>a.map(a=>"pay"===a.id?{...a,enabled:!!c.upi}:a)),Z(c.upi||""),N(c.contactPreference||(c.whatsapp?"whatsapp":"email")),P(c.email||"");let e=c.whatsapp||c.phone||"",f=e.trim().startsWith("+"),h=e.replace(/\D/g,"");if(h)if(f){let a=e.match(/^\+\d{1,3}/),b=a?a[0]:"+91",c=e.replace(b,"").replace(/\D/g,"");T(b),R(c)}else T("+91"),R(h);else T("+91"),R("");let i=await v.api.get(`/users/id/${g.id}/social-links`,{token:a}),j={instagram:"/instagram.png",facebook:"/facebook.png",linkedin:"/linkedin.png","google-business":"/google.png",pinterest:"/pinterest.png",x:"/twitter.png",threads:"/threads.png",website:"/web.png",youtube:"/youtube.png",whatsapp:"/whatsapp.png",tiktok:"/tiktok.png",telegram:"/telegram.png",snapchat:"/logo.png",other:"/web.png"},k={instagram:"Instagram",facebook:"Facebook",linkedin:"LinkedIn","google-business":"Google Business",pinterest:"Pinterest",x:"X",threads:"Threads",website:"Website",youtube:"YouTube",whatsapp:"WhatsApp",tiktok:"TikTok",telegram:"Telegram",snapchat:"Snapchat",other:"Other"},l=(i.data?.links||[]).map(a=>({id:a.platform,linkId:String(a._id),platform:k[a.platform]||"Website",icon:j[a.platform]||"/web.png",url:a.url,visible:!!(a.visible??!0)}));ab(l),L(a=>a+1)}catch{}finally{b&&k(!1)}})(),()=>{b=!1}},[a,g?.id]),(0,b.jsxs)("section",{className:"flex min-h-screen flex-col lg:pl-[300px]",children:[(0,b.jsx)("div",{className:" top-0 z-10 px-4 md:px-8 pt-6 pb-4",children:(0,b.jsx)("div",{className:"w-full max-w-8xl",children:(0,b.jsx)("div",{className:"flex items-center justify-between",children:(0,b.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,b.jsx)("h1",{className:"text-display-sm font-semibold text-primary",children:"My Profile"}),(0,b.jsx)("p",{className:"text-md text-tertiary",children:"Manage your public profile"})]})})})}),(0,b.jsx)("div",{className:"flex-1 min-h-0 overflow-y-auto overscroll-contain px-4 md:px-8 pt-8 pb-12",children:(0,b.jsxs)("div",{className:"w-full max-w-8xl grid gap-8 lg:grid-cols-[1fr_1px_360px]",children:[j&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("div",{className:"flex flex-col gap-6",children:(0,b.jsxs)("div",{className:"rounded-2xl bg-primary p-4 md:p-5 shadow-xs ring-1 ring-secondary_alt",children:[(0,b.jsxs)("div",{className:"flex items-start gap-4",children:[(0,b.jsx)("div",{className:"size-16 rounded-full bg-primary_hover animate-pulse"}),(0,b.jsxs)("div",{className:"grid w-full grid-cols-1 gap-3 md:grid-cols-2",children:[(0,b.jsx)("div",{className:"h-10 bg-primary_hover animate-pulse rounded"}),(0,b.jsx)("div",{className:"h-10 bg-primary_hover animate-pulse rounded"})]})]}),(0,b.jsx)("div",{className:"mt-4",children:(0,b.jsx)("div",{className:"h-10 bg-primary_hover animate-pulse rounded"})}),(0,b.jsx)("div",{className:"mt-4",children:(0,b.jsx)("div",{className:"h-24 bg-primary_hover animate-pulse rounded"})})]})}),(0,b.jsx)("div",{"aria-hidden":!0,className:"hidden lg:block self-stretch w-px bg-border-secondary"}),(0,b.jsxs)("div",{className:"rounded-2xl bg-primary p-4 md:p-5 shadow-xs ring-1 ring-secondary_alt",children:[(0,b.jsx)("div",{className:"h-5 w-40 bg-primary_hover animate-pulse rounded"}),(0,b.jsxs)("div",{className:"mt-3 grid grid-cols-1 gap-3 md:grid-cols-2",children:[(0,b.jsx)("div",{className:"h-10 bg-primary_hover animate-pulse rounded"}),(0,b.jsx)("div",{className:"h-10 bg-primary_hover animate-pulse rounded"})]})]})]}),(0,b.jsxs)("div",{className:"flex flex-col gap-6",children:[(0,b.jsxs)("div",{className:"rounded-2xl bg-primary p-4 md:p-5 shadow-xs ring-1 ring-secondary_alt",children:[(0,b.jsxs)("div",{className:"flex items-start gap-4",children:[(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)(m,{size:"md",src:I,alt:l,initials:l?.[0]||"U"}),(0,b.jsx)(n.AvatarAddButton,{size:"sm",title:"Change photo",className:"absolute -bottom-1 -right-1",onPress:()=>ag.current?.click()}),(0,b.jsx)("input",{ref:ag,type:"file",accept:"image/*",className:"hidden",onChange:a=>{let b=a.target.files?.[0];b&&(async()=>{try{if(!g?.id)return;let a=await h(g.id,b);J(a),L(a=>a+1)}catch{}})()}})]}),(0,b.jsxs)("div",{className:"grid w-full grid-cols-1 gap-3 md:grid-cols-2",children:[(0,b.jsx)(e.Input,{label:"Name",size:"md",value:l,onChange:a=>{w(a)},onBlur:async()=>{try{if(!a||!g?.id)return;await i(g.id,{name:l}),L(a=>a+1)}catch{}},placeholder:"Your name"}),(0,b.jsx)(s.Select,{label:"Role / niche",size:"md",placeholder:"Select role",selectedKey:E||null,items:[{id:"creator",label:"Creator"},{id:"business",label:"Business"},{id:"personal",label:"Personal"}],onSelectionChange:a=>{F(String(a||"")),L(a=>a+1)},children:a=>(0,b.jsx)(s.Select.Item,{id:a.id,children:a.label})})]})]}),(0,b.jsx)("div",{className:"mt-4",children:(0,b.jsx)(e.Input,{label:"Username",size:"md",value:y,onChange:a=>{z(a),D(null)},onBlur:async()=>{try{if(!a||!g?.id)return;let b=String(y||"").trim().toLowerCase();if(!b)return;let c=String(A||"").trim().toLowerCase();if(b!==c){let c=await v.api.get(`/auth/username/check?username=${encodeURIComponent(b)}`,{token:a});if(!c.data?.available)return void D("Username not available")}await i(g.id,{username:b}),B(b),D(null)}catch{D("Username not available")}},isInvalid:!!C,hint:"string"==typeof C?C:void 0,placeholder:"username"})}),(0,b.jsx)("div",{className:"mt-4",children:(0,b.jsx)(f.TextArea,{label:"Short bio",value:G,onChange:a=>{H(a.slice(0,150))},onBlur:async()=>{try{if(!a||!g?.id)return;await i(g.id,{shortBio:G}),L(a=>a+1)}catch{}},placeholder:"Tell people about yourself (max 150 characters)",rows:4,hint:`${G.length}/150`})})]}),(0,b.jsxs)("div",{className:"rounded-2xl bg-primary p-4 md:p-5 shadow-xs ring-1 ring-secondary_alt",children:[(0,b.jsx)("div",{className:"flex items-start justify-between",children:(0,b.jsxs)("div",{className:"flex min-w-0 flex-col",children:[(0,b.jsx)("h2",{className:"text-lg font-semibold text-primary",children:"Point of Contact"}),(0,b.jsx)("p",{className:"text-sm text-tertiary",children:"How brands should contact you"})]})}),(0,b.jsxs)("div",{className:"mt-3 grid w-full grid-cols-1 gap-3 md:grid-cols-2",children:[(0,b.jsx)(s.Select,{label:"Preferred method",size:"md",selectedKey:M,items:[{id:"email",label:"Email address"},{id:"whatsapp",label:"WhatsApp"}],onSelectionChange:async b=>{let c=String(b||"email");N(c);try{if(!a||!g?.id)return;await i(g.id,{contactPreference:c}),L(a=>a+1)}catch{}},children:a=>(0,b.jsx)(s.Select.Item,{id:a.id,children:a.label})}),"email"===M?(0,b.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,b.jsx)(e.Input,{label:"Email ID",size:"md",value:O,onChange:P,placeholder:"your@email.com"}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(d.Button,{size:"sm",color:"secondary",onClick:async()=>{try{if(!a||!g?.id||!O.trim())return;let b=await v.api.post(`/users/id/${g.id}/email/otp/send`,{email:O.trim().toLowerCase()},{token:a});V(b.data.id)}catch{}},children:"Send OTP"}),(0,b.jsx)(e.InputBase,{size:"md",value:W,onChange:X,placeholder:"Enter OTP"}),(0,b.jsx)(d.Button,{size:"sm",onClick:async()=>{try{if(!a||!g?.id||!U||!W.trim())return;await v.api.post(`/users/id/${g.id}/email/otp/verify`,{id:U,code:W.trim()},{token:a}),X(""),V(null),L(a=>a+1)}catch{}},children:"Verify & Save"})]})]}):(0,b.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,b.jsxs)("div",{className:"grid grid-cols-[130px_1fr] gap-2",children:[(0,b.jsx)(s.Select,{label:"Code",size:"md",selectedKey:S,items:[{id:"+91",label:"India (+91)"},{id:"+1",label:"USA (+1)"},{id:"+44",label:"UK (+44)"},{id:"+61",label:"Australia (+61)"},{id:"+971",label:"UAE (+971)"}],onSelectionChange:a=>T(String(a)),children:a=>(0,b.jsx)(s.Select.Item,{id:a.id,children:a.label})}),(0,b.jsx)(e.Input,{label:"WhatsApp number",size:"md",value:Q,onChange:R,placeholder:"WhatsApp number"})]}),(0,b.jsx)("div",{className:"flex items-center gap-2",children:(0,b.jsx)(d.Button,{size:"sm",onClick:async()=>{try{if(!a||!g?.id)return;let b=S.startsWith("+")?S:`+${S}`,c=Q.replace(/\D/g,""),d=`${b}${c}`;await i(g.id,{whatsapp:d}),L(a=>a+1)}catch{}},children:"Save"})})]})]})]}),(0,b.jsxs)("div",{className:"rounded-2xl bg-primary p-4 md:p-5 shadow-xs ring-1 ring-secondary_alt",children:[(0,b.jsx)("div",{className:"flex items-start justify-between",children:(0,b.jsxs)("div",{className:"flex min-w-0 flex-col",children:[(0,b.jsx)("h2",{className:"text-lg font-semibold text-primary",children:"Payment Settings"}),(0,b.jsx)("p",{className:"text-sm text-tertiary",children:"Enable Pay Now with your UPI ID"})]})}),(0,b.jsxs)("div",{className:"mt-3 grid w-full grid-cols-1 gap-3 md:grid-cols-[1fr_auto]",children:[(0,b.jsx)(e.Input,{label:"UPI ID",size:"md",value:Y,onChange:Z,placeholder:"yourid@bank"}),(0,b.jsx)("div",{className:"flex items-end",children:(0,b.jsx)(d.Button,{size:"sm",color:"secondary",onClick:async()=>{try{if(!a||!g?.id)return;let b=Y.trim();await i(g.id,{upi:b}),_(a=>a.map(a=>"pay"===a.id?{...a,enabled:!!b}:a)),L(a=>a+1)}catch{}},children:"Save"})})]})]}),(0,b.jsxs)("div",{className:"rounded-2xl bg-primary p-4 md:p-5 shadow-xs ring-1 ring-secondary_alt",children:[(0,b.jsxs)("div",{className:"flex items-start justify-between",children:[(0,b.jsxs)("div",{className:"flex min-w-0 flex-col",children:[(0,b.jsx)("h2",{className:"text-lg font-semibold text-primary",children:"Social Presence"}),(0,b.jsx)("p",{className:"text-sm text-tertiary",children:"Where brands can find and verify you"})]}),(0,b.jsx)("div",{className:"flex items-center gap-2",children:(0,b.jsx)(d.Button,{size:"sm",color:"secondary",onClick:()=>af(a=>!a),children:"+ Add social link"})})]}),ae&&(0,b.jsx)("div",{className:"mt-3",children:(0,b.jsx)(s.Select,{size:"md",placeholder:"Select platform",items:[{id:"instagram",label:"Instagram"},{id:"facebook",label:"Facebook"},{id:"linkedin",label:"LinkedIn"},{id:"google-business",label:"Google Business"},{id:"pinterest",label:"Pinterest"},{id:"x",label:"X"},{id:"threads",label:"Threads"},{id:"website",label:"Website"},{id:"youtube",label:"YouTube"},{id:"whatsapp",label:"WhatsApp"},{id:"tiktok",label:"TikTok"},{id:"telegram",label:"Telegram"},{id:"snapchat",label:"Snapchat"},{id:"other",label:"Other"}],onSelectionChange:async b=>{let c=String(b),d={instagram:{platform:"Instagram",icon:"/instagram.png",url:"https://instagram.com/"+y},facebook:{platform:"Facebook",icon:"/facebook.png",url:"https://facebook.com/"+y},linkedin:{platform:"LinkedIn",icon:"/linkedin.png",url:"https://www.linkedin.com/in/"+y},"google-business":{platform:"Google Business",icon:"/google.png",url:"https://g.page/"+y},pinterest:{platform:"Pinterest",icon:"/pinterest.png",url:"https://pinterest.com/"+y},x:{platform:"X",icon:"/twitter.png",url:"https://x.com/"+y},threads:{platform:"Threads",icon:"/threads.png",url:"https://www.threads.net/@"+y},website:{platform:"Website",icon:"/web.png",url:"https://"},youtube:{platform:"YouTube",icon:"/youtube.png",url:"https://youtube.com/@"+y},whatsapp:{platform:"WhatsApp",icon:"/whatsapp.png",url:"https://wa.me/"},tiktok:{platform:"TikTok",icon:"/tiktok.png",url:"https://tiktok.com/@"+y},telegram:{platform:"Telegram",icon:"/telegram.png",url:"https://t.me/"+y},snapchat:{platform:"Snapchat",icon:"/logo.png",url:"https://snapchat.com/add/"+y},other:{platform:"Other",icon:"/web.png",url:"https://"}},e=d[c]||d.other;try{if(!a||!g?.id)return;let b=await v.api.post(`/users/id/${g.id}/social-links`,{platform:c,url:e.url,visible:!0},{token:a});ab(a=>[...a,{id:c,linkId:b.data?.link?.id,platform:e.platform,icon:e.icon,url:e.url,visible:!0}]),L(a=>a+1),af(!1)}catch{}},children:a=>(0,b.jsx)(s.Select.Item,{id:a.id,children:a.label})})}),(0,b.jsx)("ul",{className:"mt-4 flex flex-col gap-2",children:aa.map((c,d)=>(0,b.jsxs)("li",{draggable:!0,onDragStart:()=>ad(d),onDragOver:a=>a.preventDefault(),onDrop:()=>{if(null===ac||ac===d)return;let a=[...aa],[b]=a.splice(ac,1);a.splice(d,0,b),ab(a),ad(null),L(a=>a+1)},className:"flex flex-col md:flex-row md:items-center md:justify-between gap-3 rounded-xl bg-primary p-3 ring-1 ring-secondary",children:[(0,b.jsxs)("div",{className:"flex md:hidden items-center justify-between gap-3",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)(t.ButtonUtility,{"aria-label":"Drag to reorder",icon:p.Rows01,size:"sm"}),(0,b.jsx)("img",{src:c.icon,alt:c.platform,className:"size-6 rounded"}),(0,b.jsx)("p",{className:"text-md font-medium text-primary",children:c.platform})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(r.Toggle,{slim:!0,size:"md",isSelected:c.visible,onChange:async b=>{ab(a=>a.map((a,c)=>c===d?{...a,visible:b}:a));try{if(!a||!g?.id||!c.linkId)return;await v.api.patch(`/users/id/${g.id}/social-links/${c.linkId}`,{visible:b},{token:a}),L(a=>a+1)}catch{}},"aria-label":`Show ${c.platform} link on profile`}),(0,b.jsx)(t.ButtonUtility,{"aria-label":"Delete",icon:o.Trash01,size:"sm",onClick:async()=>{ab(a=>a.filter((a,b)=>b!==d));try{if(!a||!g?.id||!c.linkId)return;await v.api.delete(`/users/id/${g.id}/social-links/${c.linkId}`,{token:a}),L(a=>a+1)}catch{}}})]})]}),(0,b.jsxs)("div",{className:"hidden md:flex items-center gap-3",children:[(0,b.jsx)(t.ButtonUtility,{"aria-label":"Drag to reorder",icon:p.Rows01,size:"sm"}),(0,b.jsx)("img",{src:c.icon,alt:c.platform,className:"size-6 rounded"}),(0,b.jsx)("p",{className:"text-md font-medium text-primary",children:c.platform})]}),(0,b.jsx)("div",{className:"mt-2 md:hidden",children:"instagram"===c.id||"x"===c.id||"tiktok"===c.id||"threads"===c.id||"snapchat"===c.id||"telegram"===c.id?(0,b.jsx)(e.Input,{size:"md",placeholder:"username",icon:({className:a})=>(0,b.jsx)("span",{className:a,children:"@"}),iconClassName:"left-3.5 text-md text-tertiary w-auto h-auto",inputClassName:"pl-12",className:"w-full",defaultValue:(()=>{try{return(new URL(c.url).pathname||"").replace(/^\/@?/,"").replace(/^\//,"")}catch{return""}})(),onChange:a=>{let b=({instagram:"https://instagram.com/",x:"https://x.com/",tiktok:"https://tiktok.com/@",threads:"https://www.threads.net/@",snapchat:"https://snapchat.com/add/",telegram:"https://t.me/"}[c.id]||"https://")+(a||"");ab(a=>a.map((a,c)=>c===d?{...a,url:b}:a))},onBlur:async()=>{try{if(!a||!g?.id||!c.linkId)return;await v.api.patch(`/users/id/${g.id}/social-links/${c.linkId}`,{url:c.url},{token:a}),L(a=>a+1)}catch{}}}):"facebook"===c.id?(0,b.jsx)(e.Input,{size:"md",placeholder:"username",icon:({className:a})=>(0,b.jsx)("span",{className:a,children:"facebook.com/ "}),iconClassName:"left-3.5 text-md text-tertiary w-auto h-auto",inputClassName:"pl-32",className:"w-full",defaultValue:(()=>{try{return(new URL(c.url).pathname||"").replace(/^\//,"")}catch{return""}})(),onChange:a=>{ab(b=>b.map((b,c)=>c===d?{...b,url:"https://facebook.com/"+(a||"")}:b))},onBlur:async()=>{try{if(!a||!g?.id||!c.linkId)return;await v.api.patch(`/users/id/${g.id}/social-links/${c.linkId}`,{url:c.url},{token:a}),L(a=>a+1)}catch{}}}):"pinterest"===c.id?(0,b.jsx)(e.Input,{size:"md",placeholder:"username",icon:({className:a})=>(0,b.jsx)("span",{className:a,children:"pinterest.com/ "}),iconClassName:"left-3.5 text-md text-tertiary w-auto h-auto",inputClassName:"pl-32",className:"w-full",defaultValue:(()=>{try{return(new URL(c.url).pathname||"").replace(/^\//,"")}catch{return""}})(),onChange:a=>{ab(b=>b.map((b,c)=>c===d?{...b,url:"https://pinterest.com/"+(a||"")}:b))},onBlur:async()=>{try{if(!a||!g?.id||!c.linkId)return;await v.api.patch(`/users/id/${g.id}/social-links/${c.linkId}`,{url:c.url},{token:a}),L(a=>a+1)}catch{}}}):"youtube"===c.id?(0,b.jsx)(e.Input,{size:"md",placeholder:"channel",icon:({className:a})=>(0,b.jsx)("span",{className:a,children:"youtube.com/ "}),iconClassName:"left-3.5 text-md text-tertiary w-auto h-auto",inputClassName:"pl-32",className:"w-full",defaultValue:(()=>{try{return(new URL(c.url).pathname||"").replace(/^\//,"")}catch{return""}})(),onChange:a=>{ab(b=>b.map((b,c)=>c===d?{...b,url:"https://youtube.com/"+(a||"")}:b))},onBlur:async()=>{try{if(!a||!g?.id||!c.linkId)return;await v.api.patch(`/users/id/${g.id}/social-links/${c.linkId}`,{url:c.url},{token:a}),L(a=>a+1)}catch{}}}):"website"===c.id||"other"===c.id?(0,b.jsx)(e.Input,{size:"md",placeholder:"your-website.com",icon:({className:a})=>(0,b.jsx)("span",{className:a,children:"https:// "}),iconClassName:"left-3.5 text-md text-tertiary w-auto h-auto",inputClassName:"pl-20",className:"w-full",defaultValue:c.url.replace(/^https?:\/\//,""),onChange:a=>{let b="https://"+(a||"").replace(/^https?:\/\//,"");ab(a=>a.map((a,c)=>c===d?{...a,url:b}:a))},onBlur:async()=>{let b=c.url;try{if(!a||!g?.id||!c.linkId)return;await v.api.patch(`/users/id/${g.id}/social-links/${c.linkId}`,{url:b},{token:a}),L(a=>a+1)}catch{}}}):"google-business"===c.id?(0,b.jsx)(e.Input,{size:"md",placeholder:"Business profile URL",className:"w-full",type:"url",value:c.url,onChange:a=>{ab(b=>b.map((b,c)=>c===d?{...b,url:a}:b))},onBlur:async()=>{try{if(!a||!g?.id||!c.linkId)return;await v.api.patch(`/users/id/${g.id}/social-links/${c.linkId}`,{url:c.url},{token:a}),L(a=>a+1)}catch{}}}):"whatsapp"===c.id?(0,b.jsx)(e.Input,{size:"md",placeholder:"WhatsApp phone number",className:"w-full",type:"tel",inputMode:"numeric",defaultValue:c.url.replace(/^https?:\/\/wa\.me\//,"").trim(),onChange:a=>{let b="https://wa.me/"+(a||"").replace(/[^\d+\s-]/g,"");ab(a=>a.map((a,c)=>c===d?{...a,url:b}:a))},onBlur:async()=>{let b=c.url;try{if(!a||!g?.id||!c.linkId)return;await v.api.patch(`/users/id/${g.id}/social-links/${c.linkId}`,{url:b},{token:a}),L(a=>a+1)}catch{}}}):(0,b.jsx)(e.Input,{size:"md",placeholder:"url",className:"w-full",type:"url",value:c.url,onChange:a=>{ab(b=>b.map((b,c)=>c===d?{...b,url:a}:b))},onBlur:async()=>{try{if(!a||!g?.id||!c.linkId)return;await v.api.patch(`/users/id/${g.id}/social-links/${c.linkId}`,{url:c.url},{token:a}),L(a=>a+1)}catch{}}})}),(0,b.jsxs)("div",{className:"hidden md:flex flex-1 md:items-center md:justify-end gap-3",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 md:order-1 order-1",children:[(0,b.jsx)(r.Toggle,{slim:!0,size:"md",isSelected:c.visible,onChange:async b=>{ab(a=>a.map((a,c)=>c===d?{...a,visible:b}:a));try{if(!a||!g?.id||!c.linkId)return;await v.api.patch(`/users/id/${g.id}/social-links/${c.linkId}`,{visible:b},{token:a}),L(a=>a+1)}catch{}},"aria-label":`Show ${c.platform} link on profile`}),(0,b.jsx)(t.ButtonUtility,{"aria-label":"Delete",icon:o.Trash01,size:"sm",onClick:async()=>{ab(a=>a.filter((a,b)=>b!==d));try{if(!a||!g?.id||!c.linkId)return;await v.api.delete(`/users/id/${g.id}/social-links/${c.linkId}`,{token:a}),L(a=>a+1)}catch{}}})]}),"instagram"===c.id||"x"===c.id||"tiktok"===c.id||"threads"===c.id||"snapchat"===c.id||"telegram"===c.id?(0,b.jsx)(e.Input,{size:"md",placeholder:"username",icon:({className:a})=>(0,b.jsx)("span",{className:a,children:"@"}),iconClassName:"left-3.5 text-md text-tertiary w-auto h-auto",inputClassName:"pl-12",className:"w-full md:flex-1 md:max-w-md",defaultValue:(()=>{try{return(new URL(c.url).pathname||"").replace(/^\/@?/,"").replace(/^\//,"")}catch{return""}})(),onChange:a=>{let b=({instagram:"https://instagram.com/",x:"https://x.com/",tiktok:"https://tiktok.com/@",threads:"https://www.threads.net/@",snapchat:"https://snapchat.com/add/",telegram:"https://t.me/"}[c.id]||"https://")+(a||"");ab(a=>a.map((a,c)=>c===d?{...a,url:b}:a))},onBlur:async()=>{try{if(!a||!g?.id||!c.linkId)return;await v.api.patch(`/users/id/${g.id}/social-links/${c.linkId}`,{url:c.url},{token:a}),L(a=>a+1)}catch{}}}):"facebook"===c.id?(0,b.jsx)(e.Input,{size:"md",placeholder:"username",icon:({className:a})=>(0,b.jsx)("span",{className:a,children:"facebook.com/ "}),iconClassName:"left-3.5 text-md text-tertiary w-auto h-auto",inputClassName:"pl-32",className:"w-full md:flex-1 md:max-w-md",defaultValue:(()=>{try{return(new URL(c.url).pathname||"").replace(/^\//,"")}catch{return""}})(),onChange:a=>{ab(b=>b.map((b,c)=>c===d?{...b,url:"https://facebook.com/"+(a||"")}:b))},onBlur:async()=>{try{if(!a||!g?.id||!c.linkId)return;await v.api.patch(`/users/id/${g.id}/social-links/${c.linkId}`,{url:c.url},{token:a}),L(a=>a+1)}catch{}}}):"pinterest"===c.id?(0,b.jsx)(e.Input,{size:"md",placeholder:"username",icon:({className:a})=>(0,b.jsx)("span",{className:a,children:"pinterest.com/ "}),iconClassName:"left-3.5 text-md text-tertiary w-auto h-auto",inputClassName:"pl-32",className:"w-full md:flex-1 md:max-w-md",defaultValue:(()=>{try{return(new URL(c.url).pathname||"").replace(/^\//,"")}catch{return""}})(),onChange:a=>{ab(b=>b.map((b,c)=>c===d?{...b,url:"https://pinterest.com/"+(a||"")}:b))},onBlur:async()=>{try{if(!a||!g?.id||!c.linkId)return;await v.api.patch(`/users/id/${g.id}/social-links/${c.linkId}`,{url:c.url},{token:a}),L(a=>a+1)}catch{}}}):"youtube"===c.id?(0,b.jsx)(e.Input,{size:"md",placeholder:"username",icon:({className:a})=>(0,b.jsx)("span",{className:a,children:"youtube.com/ "}),iconClassName:"left-3.5 text-md text-tertiary w-auto h-auto",inputClassName:"pl-32",className:"w-full md:flex-1 md:max-w-md",defaultValue:(()=>{try{return(new URL(c.url).pathname||"").replace(/^\/@?/,"").replace(/^\//,"")}catch{return""}})(),onChange:a=>{let b="https://youtube.com/@"+(a||"");ab(a=>a.map((a,c)=>c===d?{...a,url:b}:a))},onBlur:async()=>{L(a=>a+1);try{if(!a||!g?.id||!c.linkId)return;await v.api.patch(`/users/id/${g.id}/social-links/${c.linkId}`,{url:c.url},{token:a})}catch{}}}):"website"===c.id?(0,b.jsx)(e.Input,{size:"md",placeholder:"your-domain.com",icon:({className:a})=>(0,b.jsx)("span",{className:a,children:"https://"}),iconClassName:"left-3.5 text-md text-tertiary w-auto h-auto",inputClassName:"pl-20",className:"w-full md:flex-1 md:max-w-md",defaultValue:c.url.replace(/^https?:\/\//,""),onChange:a=>{let b="https://"+(a||"").replace(/^https?:\/\//,"");ab(a=>a.map((a,c)=>c===d?{...a,url:b}:a))},onBlur:async()=>{let b=c.url;try{if(!a||!g?.id||!c.linkId)return;await v.api.patch(`/users/id/${g.id}/social-links/${c.linkId}`,{url:b},{token:a}),L(a=>a+1)}catch{}}}):"google-business"===c.id?(0,b.jsx)(e.Input,{size:"md",placeholder:"Business profile URL",className:"flex-1 max-w-md",type:"url",value:c.url,onChange:a=>{ab(b=>b.map((b,c)=>c===d?{...b,url:a}:b))},onBlur:async()=>{try{if(!a||!g?.id||!c.linkId)return;await v.api.patch(`/users/id/${g.id}/social-links/${c.linkId}`,{url:c.url},{token:a}),L(a=>a+1)}catch{}}}):"whatsapp"===c.id?(0,b.jsx)(e.Input,{size:"md",placeholder:"WhatsApp phone number",className:"flex-1 max-w-md",type:"tel",inputMode:"numeric",defaultValue:c.url.replace(/^https?:\/\/wa\.me\//,"").trim(),onChange:a=>{let b="https://wa.me/"+(a||"").replace(/[^\d+\s-]/g,"");ab(a=>a.map((a,c)=>c===d?{...a,url:b}:a))},onBlur:async()=>{let b=c.url;try{if(!a||!g?.id||!c.linkId)return;await v.api.patch(`/users/id/${g.id}/social-links/${c.linkId}`,{url:b},{token:a}),L(a=>a+1)}catch{}}}):(0,b.jsx)(e.Input,{size:"md",placeholder:"url",className:"flex-1 max-w-md",type:"url",value:c.url,onChange:a=>{ab(b=>b.map((b,c)=>c===d?{...b,url:a}:b))},onBlur:async()=>{try{if(!a||!g?.id||!c.linkId)return;await v.api.patch(`/users/id/${g.id}/social-links/${c.linkId}`,{url:c.url},{token:a}),L(a=>a+1)}catch{}}})]})]},c.id+d))})]})]}),(0,b.jsx)("div",{"aria-hidden":!0,className:"hidden lg:block self-stretch w-px bg-border-secondary"}),(0,b.jsx)("div",{className:"hidden lg:block",children:(0,b.jsx)("div",{className:"lg:sticky top-6",children:(0,b.jsx)(x,{username:y,version:K,ctas:$})})})]})})]})}let x=({username:a,version:c,ctas:d})=>(0,b.jsx)("div",{className:"mx-auto aspect-[9/19] w-full max-w-sm rounded-[2rem] bg-linear-to-b from-[#222] via-[#000] to-[#444] dark:from-[#d4d7da] dark:via-[#bfc3c7] dark:to-[#eceff1] p-1 shadow-2xl",children:(0,b.jsx)("div",{className:"size-full overflow-hidden rounded-[inherit] bg-alpha-black ring-1 ring-primary relative",children:(0,b.jsx)("iframe",{title:"Profile preview",src:`/${a}?v=${c}`,className:"size-full border-0"},c)})});a.s(["default",()=>w],92559)}];

//# sourceMappingURL=src_app_admin_my-profile_page_tsx_8e8dd56a._.js.map