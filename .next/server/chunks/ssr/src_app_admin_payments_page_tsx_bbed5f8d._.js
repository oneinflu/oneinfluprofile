module.exports=[53084,a=>{"use strict";var b=a.i(87924),c=a.i(52507),d=a.i(37819),e=a.i(15009),f=a.i(98275),g=a.i(36595),h=a.i(33210),i=a.i(53343),j=a.i(72131),k=a.i(54708),l=a.i(61240);function m(){let{token:a,user:e}=(0,l.useAuth)(),f=(0,j.useMemo)(()=>new Intl.NumberFormat("en-IN"),[]),[g,h]=(0,j.useState)([]);(0,j.useEffect)(()=>{let b=!0;return(async()=>{try{if(!e?.username)return;let c=await k.api.get(`/users/${e.username}/payments`,{token:a});if(!b)return;h((c.payments||[]).map(a=>({...a,txId:a.txId||void 0,proofUrl:a.proofUrl||void 0})))}catch{}})(),()=>{b=!1}},[e?.username,a]);let i=(0,j.useMemo)(()=>{let a=new Date,b=a.getMonth(),c=a.getFullYear(),d=a=>"number"==typeof a?a:0,e=g.filter(a=>"received"===a.status).reduce((a,b)=>a+d(b.amount),0);return{received:e,pending:g.filter(a=>"pending"===a.status).reduce((a,b)=>a+d(b.amount),0),month:g.filter(a=>{try{let d=a.date.split(" ");return new Date(`${d[1]} ${d[0]} ${c}`).getMonth()===b}catch{return!1}}).filter(a=>"received"===a.status).reduce((a,b)=>a+d(b.amount),0)}},[g]),m={received:"success",pending:"warning"},[r,s]=(0,j.useState)(!1),[t,u]=(0,j.useState)({brand:"",service:"Reel Promo",amount:void 0,mode:"UPI",txId:"",date:new Date().toLocaleDateString(void 0,{day:"2-digit",month:"short"}),status:"received",proofUrl:void 0,notes:""});(0,j.useRef)(null);let v={name:"Sonia",upiIds:["sonia@upi","sonia@ybl"]},[w,x]=(0,j.useState)(!1),[y,z]=(0,j.useState)({amount:void 0,service:"Reel Promo",purpose:"Instagram Reel Promotion",payer:"",note:"",method:"UPI",upiId:v.upiIds[0]}),[A,B]=(0,j.useState)(null),[C,D]=(0,j.useState)(!1),[E,F]=(0,j.useState)(null),[G,H]=(0,j.useState)(!1),[I,J]=(0,j.useState)(null),[K,L]=(0,j.useState)({amount:void 0,mode:"UPI",txId:"",date:new Date().toLocaleDateString(void 0,{day:"2-digit",month:"short"}),proofUrl:void 0,notes:""});return(0,b.jsxs)("section",{className:"flex min-h-screen flex-col lg:pl-[300px]",children:[(0,b.jsx)("div",{className:"sticky top-0 z-10 px-4 md:px-8 pt-6 pb-4",children:(0,b.jsx)("div",{className:"w-full max-w-8xl",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,b.jsx)("h1",{className:"text-display-sm font-semibold text-primary",children:"Payments"}),(0,b.jsx)("p",{className:"text-md text-tertiary",children:"Track and manage your payments"})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(c.Button,{size:"sm",color:"secondary",onClick:()=>x(!0),children:"+ Generate Payment Request"}),(0,b.jsx)(c.Button,{size:"sm",color:"secondary",onClick:()=>s(!0),children:"+ Add Payment (Manual)"})]})]})})}),(0,b.jsx)("div",{className:"flex-1 min-h-0 overflow-y-auto overscroll-contain px-4 md:px-8 pt-8 pb-12",children:(0,b.jsxs)("div",{className:"w-full max-w-8xl",children:[(0,b.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 mb-6",children:[(0,b.jsxs)("div",{className:"rounded-2xl bg-primary p-4 md:p-5 shadow-xs ring-1 ring-secondary_alt",children:[(0,b.jsx)("p",{className:"text-xs font-medium uppercase tracking-wide text-secondary",children:"Total Received"}),(0,b.jsxs)("p",{className:"text-display-sm font-semibold text-primary",children:["₹",f.format(i.received)]})]}),(0,b.jsxs)("div",{className:"rounded-2xl bg-primary p-4 md:p-5 shadow-xs ring-1 ring-secondary_alt",children:[(0,b.jsx)("p",{className:"text-xs font-medium uppercase tracking-wide text-secondary",children:"Total Pending"}),(0,b.jsxs)("p",{className:"text-display-sm font-semibold text-primary",children:["₹",f.format(i.pending)]})]}),(0,b.jsxs)("div",{className:"rounded-2xl bg-primary p-4 md:p-5 shadow-xs ring-1 ring-secondary_alt",children:[(0,b.jsx)("p",{className:"text-xs font-medium uppercase tracking-wide text-secondary",children:"This Month"}),(0,b.jsxs)("p",{className:"text-display-sm font-semibold text-primary",children:["₹",f.format(i.month)]})]})]}),(0,b.jsxs)("div",{className:"rounded-2xl bg-primary p-0 shadow-xs ring-1 ring-secondary_alt",children:[(0,b.jsxs)("div",{className:"grid grid-cols-[1fr_2fr_2fr_1fr_1fr_auto] items-center gap-3 px-4 py-2 text-xs font-medium uppercase tracking-wide text-secondary",children:[(0,b.jsx)("div",{children:"Date"}),(0,b.jsx)("div",{children:"Brand / Payer"}),(0,b.jsx)("div",{children:"Service"}),(0,b.jsx)("div",{children:"Amount"}),(0,b.jsx)("div",{children:"Mode"}),(0,b.jsx)("div",{className:"justify-self-end",children:"Status"})]}),(0,b.jsx)("ul",{className:"divide-y divide-secondary",children:g.map(a=>(0,b.jsxs)("li",{className:"grid grid-cols-[1fr_2fr_2fr_1fr_1fr_auto] items-center gap-3 px-4 py-3",children:[(0,b.jsx)("div",{className:"text-sm text-secondary",children:a.date}),(0,b.jsx)("div",{className:"truncate text-md font-medium text-primary",children:a.brand}),(0,b.jsx)("div",{className:"truncate text-sm text-tertiary",children:a.service}),(0,b.jsxs)("div",{className:"truncate text-sm text-primary",children:["₹",f.format(a.amount)]}),(0,b.jsx)("div",{className:"truncate text-sm text-secondary",children:a.mode}),(0,b.jsxs)("div",{className:"justify-self-end flex items-center gap-2",children:[(0,b.jsx)(d.Badge,{size:"sm",color:m[a.status],children:"received"===a.status?"Received":"Pending"}),"received"===a.status&&(0,b.jsx)(c.Button,{size:"sm",color:"secondary",onClick:()=>{F(a),D(!0)},children:"Generate Receipt"}),"pending"===a.status&&(0,b.jsx)(c.Button,{size:"sm",color:"secondary",onClick:()=>{J(a.id),L({amount:a.amount,mode:a.mode,txId:a.txId||"",date:a.date,proofUrl:void 0,notes:""}),H(!0)},children:"Record Payment"})]})]},a.id))})]})]})}),(0,b.jsx)(n,{isOpen:r,onOpenChange:s,draft:t,setDraft:u,onSave:async()=>{if(t.brand.trim()&&t.service.trim()&&"number"==typeof t.amount)try{if(!e?.username||!a)throw Error("unauthorized");let b=(await k.api.post(`/users/${e.username}/payments`,{brand:t.brand.trim(),service:t.service.trim(),amount:t.amount,mode:t.mode,txId:t.txId||null,date:t.date,status:t.status,notes:t.notes||null},{token:a})).payment,c={id:b.id,date:b.date,brand:b.brand,service:b.service,amount:b.amount,mode:b.mode,status:b.status,txId:b.txId||void 0};h(a=>[c,...a])}catch{}finally{s(!1)}}}),(0,b.jsx)(o,{isOpen:w,onOpenChange:a=>{x(a),a||B(null)},draft:y,setDraft:z,offerOptions:[{id:"Reel Promo",label:"Instagram Reel Promotion"},{id:"YouTube Integration",label:"YouTube Integration"},{id:"Story Set",label:"Instagram Story Set"},{id:"Link in Bio",label:"Link in Bio"},{id:"Custom",label:"Custom purpose"}],creator:v,generatedLink:A,onGenerate:async()=>{if("number"!=typeof y.amount||!y.amount||!y.purpose.trim())return;let b=v.name,c=y.upiId,d=y.amount,f=y.purpose.trim();B(`upi://pay?pa=${encodeURIComponent(c)}&pn=${encodeURIComponent(b)}&am=${encodeURIComponent(String(d))}&tn=${encodeURIComponent(f)}`);try{if(!e?.username||!a)throw Error("unauthorized");let b=(await k.api.post(`/users/${e.username}/payments/request`,{amount:d,purpose:f,service:"Custom"===y.service?f:y.service,payer:(y.payer||"").trim(),method:"UPI",upiId:c},{token:a})).payment;h(a=>[{id:b.id,date:b.date,brand:b.brand,service:b.service,amount:b.amount,mode:b.mode,status:b.status},...a])}catch{}}}),E&&(0,b.jsx)(q,{isOpen:C,onOpenChange:a=>D(a),payment:E,creator:v,onDownload:()=>{if(!E)return;let a=`<!doctype html><html><head><meta charset="utf-8"/><title>Payment Receipt</title><style>body{font-family:system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif;padding:24px;color:#111}h1{font-size:20px;margin:0 0 8px}h2{font-size:14px;margin:16px 0 6px;color:#555}table{width:100%;border-collapse:collapse}td{padding:8px;border-bottom:1px solid #eee}footer{margin-top:16px;font-size:12px;color:#666}</style></head><body><h1>Payment Receipt (Non-Tax)</h1><table><tr><td>Creator</td><td>${v.name}</td></tr><tr><td>Brand / Payer</td><td>${E.brand||""}</td></tr><tr><td>Service</td><td>${E.service}</td></tr><tr><td>Amount</td><td>₹${f.format(E.amount)}</td></tr><tr><td>Date</td><td>${E.date}</td></tr><tr><td>Payment mode</td><td>${E.mode}</td></tr>${E.txId?`<tr><td>Transaction ID</td><td>${E.txId}</td></tr>`:""}</table><footer>Generated by INFLU • This is a payment receipt, not a tax invoice.</footer></body></html>`,b=window.open("","_blank");b&&(b.document.write(a),b.document.close(),b.focus(),b.print())},onShare:async()=>{if(!E)return;let a=`Payment Receipt (Non-Tax)
Creator: ${v.name}
Payer: ${E.brand||""}
Service: ${E.service}
Amount: ₹${f.format(E.amount)}
Date: ${E.date}
Mode: ${E.mode}${E.txId?`
Transaction ID: ${E.txId}`:""}`;try{navigator.share?await navigator.share({text:a}):await navigator.clipboard.writeText(a)}catch(a){}}}),(0,b.jsx)(p,{isOpen:G,onOpenChange:a=>H(a),draft:K,setDraft:L,onSave:async()=>{if(I)try{if(!e?.username||!a)throw Error("unauthorized");let b=(await k.api.patch(`/users/${e.username}/payments/${I}`,{amount:"number"==typeof K.amount?K.amount:void 0,mode:K.mode,txId:K.txId||null,date:K.date,status:"received",proofUrl:K.proofUrl||null,notes:K.notes||null},{token:a})).payment;h(a=>a.map(a=>a.id===I?{id:b.id,date:b.date,brand:b.brand,service:b.service,amount:b.amount,mode:b.mode,status:b.status,txId:b.txId||void 0,proofUrl:b.proofUrl||void 0}:a))}catch{}finally{H(!1),J(null)}}})]})}function n({isOpen:a,onOpenChange:d,draft:k,setDraft:l,onSave:m}){let n=(0,j.useRef)(null);return(0,b.jsxs)(h.DialogTrigger,{isOpen:a,onOpenChange:d,children:[(0,b.jsx)(c.Button,{slot:"trigger",className:"hidden",children:"Open"}),(0,b.jsx)(i.ModalOverlay,{isDismissable:!0,className:({isEntering:a,isExiting:b})=>`fixed inset-0 z-50 bg-overlay/40 backdrop-blur-sm ${a?"duration-150 ease-out animate-in fade-in":""} ${b?"duration-100 ease-in animate-out fade-out":""}`,children:({state:a})=>(0,b.jsx)(i.Modal,{className:"w-full cursor-auto",children:(0,b.jsxs)(h.Dialog,{"aria-label":"Add payment",className:"ml-auto h-dvh w-full max-w-md overflow-y-auto rounded-none bg-primary shadow-xl ring-1 ring-secondary_alt focus:outline-hidden",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between border-b border-secondary px-4 py-3",children:[(0,b.jsx)("h2",{className:"text-lg font-semibold text-primary",children:"Add Payment"}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(c.Button,{size:"sm",color:"secondary",onClick:m,children:"Save Payment"}),(0,b.jsx)(c.Button,{size:"sm",onClick:()=>a.close(),children:"Cancel"})]})]}),(0,b.jsxs)("div",{className:"flex flex-col gap-6 px-4 py-4",children:[(0,b.jsxs)("div",{className:"flex min-w-0 flex-col gap-2",children:[(0,b.jsx)("h3",{className:"text-md font-semibold text-primary",children:"Payment Info"}),(0,b.jsx)(e.Input,{label:"Brand / Payer name",placeholder:"required",value:k.brand,onChange:a=>l(b=>({...b,brand:a}))}),(0,b.jsx)(e.Input,{label:"Service",placeholder:"e.g. Reel Promo",value:k.service,onChange:a=>l(b=>({...b,service:a}))}),(0,b.jsx)(e.Input,{label:"Amount (₹)",type:"number",inputMode:"numeric",placeholder:"required",value:"number"==typeof k.amount?String(k.amount):"",onChange:a=>l(b=>({...b,amount:a?Number(a):void 0}))}),(0,b.jsx)(g.Select,{size:"md",label:"Payment mode",items:[{id:"UPI",label:"UPI"},{id:"Bank",label:"Bank transfer"},{id:"Cash",label:"Cash"},{id:"Other",label:"Other"}],selectedKey:k.mode,onSelectionChange:a=>l(b=>({...b,mode:String(a)})),children:a=>(0,b.jsx)(g.Select.Item,{id:a.id,children:a.label})})]}),(0,b.jsxs)("div",{className:"flex min-w-0 flex-col gap-2",children:[(0,b.jsx)("h3",{className:"text-md font-semibold text-primary",children:"Transaction Details"}),(0,b.jsx)(e.Input,{label:"Transaction ID",placeholder:"optional",value:k.txId||"",onChange:a=>l(b=>({...b,txId:a}))}),(0,b.jsx)(e.Input,{label:"Date of payment",placeholder:"e.g. 12 Dec",value:k.date,onChange:a=>l(b=>({...b,date:a}))}),(0,b.jsx)(g.Select,{size:"md",label:"Status",items:[{id:"received",label:"Received"},{id:"pending",label:"Pending"}],selectedKey:k.status,onSelectionChange:a=>l(b=>({...b,status:String(a)})),children:a=>(0,b.jsx)(g.Select.Item,{id:a.id,children:a.label})})]}),(0,b.jsxs)("div",{className:"flex min-w-0 flex-col gap-2",children:[(0,b.jsx)("h3",{className:"text-md font-semibold text-primary",children:"Proof (Optional)"}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(c.Button,{size:"sm",color:"secondary",onClick:()=>n.current?.click(),children:"Upload screenshot / PDF"}),(0,b.jsx)("input",{ref:n,type:"file",accept:"image/*,application/pdf",className:"hidden",onChange:a=>{let b=a.target.files?.[0];b&&l(a=>({...a,proofUrl:b.name}))}})]}),(0,b.jsx)(f.TextArea,{label:"Notes",rows:3,value:k.notes||"",onChange:a=>l(b=>({...b,notes:a}))})]})]})]})})})]})}function o({isOpen:a,onOpenChange:d,draft:k,setDraft:l,offerOptions:m,creator:n,generatedLink:o,onGenerate:p}){(0,j.useRef)(null);let q=o?`Payment request for ₹${k.amount||0} — ${k.purpose}
${o}`:"";return(0,b.jsxs)(h.DialogTrigger,{isOpen:a,onOpenChange:d,children:[(0,b.jsx)(c.Button,{slot:"trigger",className:"hidden",children:"Open"}),(0,b.jsx)(i.ModalOverlay,{isDismissable:!0,className:({isEntering:a,isExiting:b})=>`fixed inset-0 z-50 bg-overlay/40 backdrop-blur-sm ${a?"duration-150 ease-out animate-in fade-in":""} ${b?"duration-100 ease-in animate-out fade-out":""}`,children:({state:a})=>(0,b.jsx)(i.Modal,{className:"w-full cursor-auto",children:(0,b.jsxs)(h.Dialog,{"aria-label":"Generate payment request",className:"ml-auto h-dvh w-full max-w-md overflow-y-auto rounded-none bg-primary shadow-xl ring-1 ring-secondary_alt focus:outline-hidden",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between border-b border-secondary px-4 py-3",children:[(0,b.jsx)("h2",{className:"text-lg font-semibold text-primary",children:"Generate Payment Request"}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(c.Button,{size:"sm",color:"secondary",onClick:p,children:"Generate Link"}),(0,b.jsx)(c.Button,{size:"sm",onClick:()=>a.close(),children:"Close"})]})]}),(0,b.jsxs)("div",{className:"flex flex-col gap-6 px-4 py-4",children:[(0,b.jsxs)("div",{className:"flex min-w-0 flex-col gap-2",children:[(0,b.jsx)("h3",{className:"text-md font-semibold text-primary",children:"Amount"}),(0,b.jsx)(e.Input,{label:"Amount (₹)",type:"number",inputMode:"numeric",placeholder:"required",value:"number"==typeof k.amount?String(k.amount):"",onChange:a=>l(b=>({...b,amount:a?Number(a):void 0}))}),(0,b.jsx)("div",{className:"flex flex-wrap items-center gap-2",children:[1e3,5e3,1e4].map(a=>(0,b.jsxs)(c.Button,{size:"sm",color:"secondary",onClick:()=>l(b=>({...b,amount:a})),children:["₹",a.toLocaleString("en-IN")]},a))})]}),(0,b.jsxs)("div",{className:"flex min-w-0 flex-col gap-2",children:[(0,b.jsx)("h3",{className:"text-md font-semibold text-primary",children:"Payment For"}),(0,b.jsx)(g.Select,{size:"md",label:"Service",items:m,selectedKey:k.service,onSelectionChange:a=>{let b=String(a),c=m.find(a=>a.id===b);l(a=>({...a,service:b,purpose:"Custom"===b?a.purpose:c?.label||b}))},children:a=>(0,b.jsx)(g.Select.Item,{id:a.id,children:a.label})}),(0,b.jsx)(e.Input,{label:"Purpose",placeholder:"e.g. Instagram Reel Promotion",value:k.purpose,onChange:a=>l(b=>({...b,purpose:a}))})]}),(0,b.jsxs)("div",{className:"flex min-w-0 flex-col gap-2",children:[(0,b.jsx)("h3",{className:"text-md font-semibold text-primary",children:"Payer Details (Optional)"}),(0,b.jsx)(e.Input,{label:"Brand / Payer name",placeholder:"optional",value:k.payer||"",onChange:a=>l(b=>({...b,payer:a}))}),(0,b.jsx)(f.TextArea,{label:"Note",rows:3,placeholder:"Advance for January campaign",value:k.note||"",onChange:a=>l(b=>({...b,note:a}))})]}),(0,b.jsxs)("div",{className:"flex min-w-0 flex-col gap-2",children:[(0,b.jsx)("h3",{className:"text-md font-semibold text-primary",children:"Payment Method"}),(0,b.jsx)(e.Input,{label:"Method",isDisabled:!0,value:k.method,onChange:()=>{}}),(0,b.jsx)(e.Input,{label:"UPI ID",isDisabled:!0,value:k.upiId,onChange:()=>{}}),(0,b.jsx)(g.Select,{size:"md",label:"Change UPI ID",items:n.upiIds.map(a=>({id:a,label:a})),selectedKey:k.upiId,onSelectionChange:a=>l(b=>({...b,upiId:String(a)})),children:a=>(0,b.jsx)(g.Select.Item,{id:a.id,children:a.label})})]}),o&&(0,b.jsxs)("div",{className:"flex min-w-0 flex-col gap-2",children:[(0,b.jsx)("h3",{className:"text-md font-semibold text-primary",children:"UPI Intent Link created"}),(0,b.jsx)(e.Input,{label:"Link",isDisabled:!0,value:o,onChange:()=>{}}),(0,b.jsxs)("div",{className:"flex flex-wrap items-center gap-2",children:[(0,b.jsx)(c.Button,{size:"sm",color:"secondary",onClick:()=>navigator.clipboard.writeText(o),children:"Copy Link"}),(0,b.jsx)(c.Button,{size:"sm",color:"secondary",onClick:()=>{let a=`https://wa.me/?text=${encodeURIComponent(q)}`;window.open(a,"_blank")},children:"Share on WhatsApp"}),(0,b.jsx)(c.Button,{size:"sm",color:"secondary",onClick:async()=>{try{navigator.share?await navigator.share({text:q}):await navigator.clipboard.writeText(q)}catch(a){}},children:"Share Anywhere"})]})]})]})]})})})]})}function p({isOpen:a,onOpenChange:d,draft:k,setDraft:l,onSave:m}){let n=(0,j.useRef)(null);return(0,b.jsxs)(h.DialogTrigger,{isOpen:a,onOpenChange:d,children:[(0,b.jsx)(c.Button,{slot:"trigger",className:"hidden",children:"Open"}),(0,b.jsx)(i.ModalOverlay,{isDismissable:!0,className:({isEntering:a,isExiting:b})=>`fixed inset-0 z-50 bg-overlay/40 backdrop-blur-sm ${a?"duration-150 ease-out animate-in fade-in":""} ${b?"duration-100 ease-in animate-out fade-out":""}`,children:({state:a})=>(0,b.jsx)(i.Modal,{className:"w-full cursor-auto",children:(0,b.jsxs)(h.Dialog,{"aria-label":"Record payment",className:"ml-auto h-dvh w-full max-w-md overflow-y-auto rounded-none bg-primary shadow-xl ring-1 ring-secondary_alt focus:outline-hidden",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between border-b border-secondary px-4 py-3",children:[(0,b.jsx)("h2",{className:"text-lg font-semibold text-primary",children:"Record Payment"}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(c.Button,{size:"sm",color:"secondary",onClick:m,children:"Mark as Received"}),(0,b.jsx)(c.Button,{size:"sm",onClick:()=>a.close(),children:"Cancel"})]})]}),(0,b.jsxs)("div",{className:"flex flex-col gap-6 px-4 py-4",children:[(0,b.jsxs)("div",{className:"flex min-w-0 flex-col gap-2",children:[(0,b.jsx)(e.Input,{label:"Amount (₹)",type:"number",inputMode:"numeric",placeholder:"required",value:"number"==typeof k.amount?String(k.amount):"",onChange:a=>l(b=>({...b,amount:a?Number(a):void 0}))}),(0,b.jsx)(g.Select,{size:"md",label:"Payment mode",items:[{id:"UPI",label:"UPI"},{id:"Bank",label:"Bank transfer"},{id:"Cash",label:"Cash"},{id:"Other",label:"Other"}],selectedKey:k.mode,onSelectionChange:a=>l(b=>({...b,mode:String(a)})),children:a=>(0,b.jsx)(g.Select.Item,{id:a.id,children:a.label})}),(0,b.jsx)(e.Input,{label:"Transaction ID",placeholder:"optional",value:k.txId||"",onChange:a=>l(b=>({...b,txId:a}))}),(0,b.jsx)(e.Input,{label:"Date of payment",placeholder:"e.g. 12 Dec",value:k.date,onChange:a=>l(b=>({...b,date:a}))})]}),(0,b.jsxs)("div",{className:"flex min-w-0 flex-col gap-2",children:[(0,b.jsx)("h3",{className:"text-md font-semibold text-primary",children:"Proof (Optional)"}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(c.Button,{size:"sm",color:"secondary",onClick:()=>n.current?.click(),children:"Upload screenshot / PDF"}),(0,b.jsx)("input",{ref:n,type:"file",accept:"image/*,application/pdf",className:"hidden",onChange:a=>{let b=a.target.files?.[0];b&&l(a=>({...a,proofUrl:b.name}))}})]}),(0,b.jsx)(f.TextArea,{label:"Notes",rows:3,value:k.notes||"",onChange:a=>l(b=>({...b,notes:a}))})]})]})]})})})]})}function q({isOpen:a,onOpenChange:d,payment:e,creator:f,onDownload:g,onShare:j}){return(0,b.jsxs)(h.DialogTrigger,{isOpen:a,onOpenChange:d,children:[(0,b.jsx)(c.Button,{slot:"trigger",className:"hidden",children:"Open"}),(0,b.jsx)(i.ModalOverlay,{isDismissable:!0,className:({isEntering:a,isExiting:b})=>`fixed inset-0 z-50 bg-overlay/40 backdrop-blur-sm ${a?"duration-150 ease-out animate-in fade-in":""} ${b?"duration-100 ease-in animate-out fade-out":""}`,children:({state:a})=>(0,b.jsx)(i.Modal,{className:"w-full cursor-auto",children:(0,b.jsxs)(h.Dialog,{"aria-label":"Payment receipt",className:"ml-auto h-dvh w-full max-w-md overflow-y-auto rounded-none bg-primary shadow-xl ring-1 ring-secondary_alt focus:outline-hidden",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between border-b border-secondary px-4 py-3",children:[(0,b.jsx)("h2",{className:"text-lg font-semibold text-primary",children:"Payment Receipt"}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(c.Button,{size:"sm",color:"secondary",onClick:g,children:"Download PDF"}),(0,b.jsx)(c.Button,{size:"sm",color:"secondary",onClick:j,children:"Share"}),(0,b.jsx)(c.Button,{size:"sm",onClick:()=>a.close(),children:"Close"})]})]}),(0,b.jsx)("div",{className:"flex flex-col gap-4 px-4 py-4",children:(0,b.jsxs)("div",{className:"rounded-xl ring-1 ring-secondary_alt p-4",children:[(0,b.jsx)("p",{className:"text-sm font-medium text-primary",children:"Payment Receipt (Non-Tax)"}),(0,b.jsxs)("div",{className:"mt-3 grid grid-cols-2 gap-3",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-xs text-secondary",children:"Creator"}),(0,b.jsx)("p",{className:"text-sm text-primary",children:f.name})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-xs text-secondary",children:"Brand / Payer"}),(0,b.jsx)("p",{className:"text-sm text-primary",children:e.brand||""})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-xs text-secondary",children:"Service"}),(0,b.jsx)("p",{className:"text-sm text-primary",children:e.service})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-xs text-secondary",children:"Amount"}),(0,b.jsxs)("p",{className:"text-sm text-primary",children:["₹",new Intl.NumberFormat("en-IN").format(e.amount)]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-xs text-secondary",children:"Date"}),(0,b.jsx)("p",{className:"text-sm text-primary",children:e.date})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-xs text-secondary",children:"Payment mode"}),(0,b.jsx)("p",{className:"text-sm text-primary",children:e.mode})]}),e.txId&&(0,b.jsxs)("div",{className:"col-span-2",children:[(0,b.jsx)("p",{className:"text-xs text-secondary",children:"Transaction ID"}),(0,b.jsx)("p",{className:"text-sm text-primary",children:e.txId})]})]})]})})]})})})]})}a.s(["default",()=>m])}];

//# sourceMappingURL=src_app_admin_payments_page_tsx_bbed5f8d._.js.map