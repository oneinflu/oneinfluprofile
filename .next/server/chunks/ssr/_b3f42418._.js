module.exports=[31484,a=>{"use strict";var b=a.i(72131);let c=({size:a=24,color:c="currentColor",...d})=>b.createElement("svg",{viewBox:"0 0 24 24",width:a,height:a,stroke:c,strokeWidth:"2",fill:"none",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",...d},b.createElement("path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3m.08 4h.01M22 12c0 5.523-4.477 10-10 10S2 17.523 2 12 6.477 2 12 2s10 4.477 10 10Z"}));c.displayName="HelpCircle",a.s(["HelpCircle",()=>c])},41327,a=>{"use strict";var b=a.i(72131);let c=({size:a=24,color:c="currentColor",...d})=>b.createElement("svg",{viewBox:"0 0 24 24",width:a,height:a,stroke:c,strokeWidth:"2",fill:"none",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",...d},b.createElement("path",{d:"M19 12H5m0 0 7 7m-7-7 7-7"}));c.displayName="ArrowLeft",a.s(["ArrowLeft",()=>c])},2189,a=>{"use strict";var b=a.i(87924),c=a.i(29515),d=a.i(41327),e=a.i(52507),f=a.i(15009),g=a.i(50944),h=a.i(72131),i=a.i(61240);let j=({className:a})=>(0,b.jsx)("span",{className:a,children:"oneinflu.com/"}),k=()=>{let a=(0,g.useRouter)(),k=(0,g.useSearchParams)(),l=k.get("email")||"",m=k.get("id")||"",[n,o]=(0,h.useState)("");(0,h.useEffect)(()=>{o(l)},[]);let[p,q]=(0,h.useState)("");(0,h.useEffect)(()=>{q(n.split("@")[0]||"")},[n]);let r=n?`/verify?id=${encodeURIComponent(m)}&to=${encodeURIComponent(n)}`:"/verify",[s,t]=(0,h.useState)(null),[u,v]=(0,h.useState)(!1),{registerSaveUsername:w}=(0,i.useAuth)(),[x,y]=(0,h.useState)(!1);(0,h.useEffect)(()=>{let a=p.trim();if(!a)return void t(null);let b=new AbortController;v(!0);let c=`https://newyearbackendcode-zrp62.ondigitalocean.app//auth/username/check?username=${encodeURIComponent(a)}`;return console.group("USERNAME_CHECK"),console.log("REQUEST GET",c),console.log("EXPECTED_RESPONSE_SHAPES",{available:{success:!0,status:"ok",data:{available:!0}},unavailable:{success:!0,status:"ok",data:{available:!1}}}),console.groupEnd(),fetch(c,{signal:b.signal}).then(async a=>{let b=await a.json().catch(()=>({}));console.group("USERNAME_CHECK_RESPONSE"),console.log("STATUS",a.status),console.log("BODY",b),console.groupEnd(),t(!!(!b||!b.data||void 0===b.data.available||b.data.available))}).catch(()=>{}).finally(()=>v(!1)),()=>b.abort()},[p]);let z=async()=>{if(!s)return;let b=p.trim().toLowerCase();if(m&&b){y(!0);try{await w(m,b);try{localStorage.setItem("influu_username",b)}catch{}a.push(r)}catch{}finally{y(!1)}}};return(0,b.jsx)("section",{className:"flex min-h-screen",children:(0,b.jsxs)("div",{className:"flex w-full flex-col md:grid md:grid-cols-2",children:[(0,b.jsxs)("div",{className:"flex min-h-screen w-full flex-col px-4 py-12 md:px-12 lg:px-16 xl:px-20",children:[(0,b.jsx)("div",{className:"flex w-full items-start justify-start",children:(0,b.jsx)(c.UntitledLogo,{className:"h-8 w-auto"})}),(0,b.jsx)("div",{className:"mx-auto flex w-full max-w-sm grow items-center md:mx-0 md:max-w-md",children:(0,b.jsxs)("div",{className:"flex w-full flex-col gap-6",children:[(0,b.jsx)("div",{children:(0,b.jsx)(e.Button,{color:"secondary",size:"sm",iconLeading:d.ArrowLeft,href:"/register",children:"Back"})}),(0,b.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,b.jsx)("h1",{className:"text-display-sm font-semibold text-primary",children:"Create username"}),(0,b.jsx)("p",{className:"text-md text-tertiary",children:"Try something similar to your social handles for easy recognition."})]}),(0,b.jsx)(f.Input,{size:"md",label:"Username",icon:j,iconClassName:"left-3.5 text-md text-tertiary w-auto h-auto",inputClassName:"pl-36",placeholder:"your-handle",value:p,onChange:a=>q(String(a)),isInvalid:!1===s,hint:!1===s?"Username not available":void 0}),(0,b.jsx)(e.Button,{size:"lg",onClick:z,isDisabled:!s||x,children:"Continue"})]})})]}),(0,b.jsx)("div",{className:"hidden md:block",children:(0,b.jsx)("img",{alt:"Username illustration",src:"https://images.unsplash.com/photo-1523275335684-37898b6baf30?q=80&w=1200&auto=format&fit=crop",className:"h-full w-full object-cover"})})]})})};function l(){return(0,b.jsx)(h.Suspense,{fallback:null,children:(0,b.jsx)(k,{})})}a.s(["default",()=>l])}];

//# sourceMappingURL=_b3f42418._.js.map